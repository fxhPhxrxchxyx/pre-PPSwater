"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e,r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var s="styles-module_carousel-base__3keqD",o="styles-module_item-provider__YgMwz",a="styles-module_item-container__a8zaY",l="styles-module_item-tracker__3bypy",u="styles-module_carousel-arrow__26sRw";i(".styles-module_carousel-base__3keqD {\n\twidth: 100%;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\toutline: none;\n}\n\n.styles-module_item-provider__YgMwz {\n\toverflow: hidden;\n\twidth: 100%;\n\tcursor: pointer;\n}\n\n.styles-module_item-container__a8zaY img {\n\t-webkit-user-select: none;\n\t        user-select: none;\n\t-webkit-user-drag: none;\n}\n\n.styles-module_item-tracker__3bypy {\n\theight: 100%;\n\tdisplay: flex;\n}\n\n.styles-module_carousel-arrow__26sRw {\n\tz-index: 1;\n}\n");var c,f=function(e){return n.createElement("button",{className:u,onClick:e.onClick,"data-direction":e.direction})};!function(e){e[e.Right=-1]="Right",e[e.Left=1]="Left"}(c||(c={}));var d=function(){function e(e,t){this.arr=e,this.currentIndex=t}return e.prototype.next=function(){var e=this.currentIndex,t=this.arr;return this.currentIndex=e<t.length-1?e+1:0,this.current()},e.prototype.prev=function(){var e=this.currentIndex,t=this.arr;return this.currentIndex=e>0&&e<t.length?e-1:t.length-1,this.current()},e.prototype.current=function(){return this.arr[this.currentIndex]},e}(),h=function(e,t,n){return n*e*t},m=function(e,t,n,r){var i=e>t;return n?{left:i,right:i}:{left:i&&0!==r,right:i&&r+t<e}},v=function(e,t,n){if(!n)return e;for(var r=Array.from(e),i=new d(e,0),s=0;s<t;s++)r.unshift(i.prev());return r};function g(e){return e.nativeEvent instanceof MouseEvent?e.nativeEvent.pageX:e.nativeEvent instanceof TouchEvent?e.nativeEvent.changedTouches[0].pageX:0}function p(e,t,n,r,i){if(n&&n.length<t.length)return v(t,r,i);var s=e.map((function(e){return t.find((function(t){return e.key===t.key}))}));return s.some((function(e){return void 0===e}))?v(t,r,i):s}var w=function(e){var i=t.useState(200),s=i[0],u=i[1],f=t.useCallback((function(t){if(null!==t){var n=t.getBoundingClientRect().width/e.show;u(n),e.widthCallBack(n)}}),[s]);e.responsive&&function(e){var n=t.useState(window.innerWidth),r=n[0],i=n[1];t.useLayoutEffect((function(){var t=function(){var t=r-window.innerWidth;i(window.innerWidth),e(t)};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[])}((function(e){u(s-e)}));var d=t.useState({initial:e.transform,start:0,isDown:!1,drag:0,finished:!0,pointers:!0}),h=d[0],m=d[1],v=function(t){t.persist(),m(r(r({},h),{isDown:!0,start:g(t),initial:e.transform,finished:!1}))},p=function(t){if(t.persist(),!h.finished){if(Math.abs(h.drag)<s*e.swipeOn)return e.dragCallback(e.transform),m({initial:e.transform,start:0,isDown:!1,drag:0,finished:!0,pointers:!0});e.slideCallback(h.drag>0?c.Right:c.Left),m(r(r({},h),{drag:0,isDown:!1,finished:!0,pointers:!0}))}},w=function(e){if(e.persist(),h.isDown){var t=g(e);m(r(r({},h),{drag:h.start-t,pointers:!1}))}},y=e.swiping?{onTouchCancel:p,onTouchEnd:p,onTouchMove:w,onTouchStart:v,onMouseDown:v,onMouseLeave:p,onMouseUp:p,onMouseMove:w}:{};return n.createElement("div",{ref:f,className:o},n.createElement("div",r({"data-testid":"trackList"},y,{className:l,style:{transform:"translateX("+(e.transform-h.drag)+"px)",transition:"transform "+e.transition+"s ease 0s",width:s*e.items.length}}),e.items.map((function(e,t){return n.createElement("div",{key:t,style:{width:s,pointerEvents:h.pointers?"all":"none"},className:a},e)}))))},y={children:[],show:1,slide:1,transition:.5,swiping:!1,swipeOn:1,responsive:!1,infinite:!0,className:"",useArrowKeys:!1,a11y:{},dynamic:!1,paginationCallback:null,pageCount:0,rightArrow:null,leftArrow:null},_="styles-module_sliderBase__swkx1",L="styles-module_slider__o0fqa",b="styles-module_sliding__3T6T6";i(".styles-module_sliderBase__swkx1 {\n\twidth: 100%;\n\tposition: relative;\n}\n\n.styles-module_slider__o0fqa {\n\tdisplay: flex;\n\toverflow-x: auto;\n\tscrollbar-width: none; /* Firefox 64 */\n\t-ms-overflow-style: none; /* Internet Explorer 11 */\n}\n\n.styles-module_slider__o0fqa::-webkit-scrollbar {\n\t/** WebKit */\n\tdisplay: none;\n}\n\n.styles-module_slider__o0fqa > * {\n\tflex: 0 0 auto;\n}\n\n.styles-module_sliding__3T6T6 > * {\n\tpointer-events: none;\n}\n");exports.Carousel=function(e){var i,o,a,l,u=r(r({},y),e),g=t.useState(v(u.children,u.slide,u.infinite)),_=g[0],L=g[1],b=t.useState(0),k=b[0],E=b[1],C=t.useState({transform:0,transition:0,isSliding:!1}),x=C[0],S=C[1],R=t.useState(0),M=R[0],T=R[1],I=t.useState(m(u.children.length,u.show,u.infinite,M)),N=I[0],D=I[1],A=(a=e.children,l=t.useRef(),t.useEffect((function(){l.current=a})),l.current),W=t.useState(0),z=W[0],X=W[1],q=t.useRef(v(u.children,u.slide,u.infinite)),B=t.useRef(!1);u.dynamic&&t.useEffect((function(){var e=p(q.current,u.children,A,u.slide,u.infinite);L(e),q.current=e,z<u.pageCount&&A&&(null==A?void 0:A.length)<u.children.length&&(O(c.Right),X(z+1))}),[u.children]);var O=function(e){if(!(x.isSliding||e===c.Right&&!N.right||e===c.Left&&!N.left)){if(u.paginationCallback&&e===c.Right&&z<u.pageCount-1&&!B.current)return B.current=!0,void u.paginationCallback(e);var t=u.children,n=function(e,t,n,r){var i=e-r*t;return i<0?n+i:n<=i?i-n:i}(M,u.slide,t.length,e),r=u.infinite?function(e,t,n,r,i,s){var o=new d(e,n),a=Array.from(t);switch(+s){case c.Left:for(var l=i;l>=0;l--)(i-l<0||!a[l-i])&&a.unshift(o.current()),o.prev();break;case c.Right:for(l=0;l<r+i;l++)a[2*i+l]||a.push(o.current()),o.next()}return a}(t,_,n,u.show,u.slide,e):_;u.infinite&&e===c.Right&&(L(r),q.current=r),S({transform:x.transform+h(k,u.slide,e),transition:u.transition,isSliding:!0}),T(n),D(m(t.length,u.show,u.infinite,n)),setTimeout((function(){if(u.infinite){var t=function(e,t,n){return n===c.Left?e.slice(0,-1*t):e.slice(t)}(e===c.Right?q.current:r,u.slide,e);L(t),q.current=t}S({transform:u.infinite?h(k,u.slide,c.Right):x.transform+h(k,u.slide,e),transition:0,isSliding:!1})}),1e3*u.transition),B.current=!1}};return n.createElement("div",r({},u.a11y,{"data-testid":"carousel",tabIndex:0},u.useArrowKeys?{onKeyDown:function(e){37===e.keyCode?O(c.Left):39===e.keyCode&&O(c.Right)}}:{},{className:s+" "+u.className}),N.left&&n.createElement("div",{onClick:function(){return O(c.Left)}},null!==(i=u.leftArrow)&&void 0!==i?i:n.createElement(f,{direction:"left"})),n.createElement(w,r({},u,{transition:x.transition,items:q.current,transform:x.transform,slideCallback:function(e){O(e)},dragCallback:function(e){S({transform:e,transition:u.transition,isSliding:!1}),setTimeout((function(){return S(r(r({},x),{transition:0}))}),1e3*u.transition)},widthCallBack:function(e){E(e),S({transform:u.infinite?h(e,u.slide,c.Right):0,transition:0,isSliding:!1})}})),N.right&&n.createElement("div",{onClick:function(){return O(c.Right)}},null!==(o=u.rightArrow)&&void 0!==o?o:n.createElement(f,{direction:"right"})))},exports.ScrollingCarousel=function(e){var r=e.children,i=e.className,s=e.leftIcon,o=e.rightIcon,a=t.useRef(null),l=t.useState(!1),u=l[0],f=l[1],d=t.useState({startX:0,scrollLeft:0}),h=d[0],m=d[1],v=function(){var e=a.current;return{left:!!e&&e.scrollLeft>0,right:!!e&&e.scrollWidth>e.scrollLeft+e.offsetWidth}},g=t.useState(v()),p=g[0],w=g[1],y=function(e){w(v())},k=t.useCallback((function(e){null!==e&&(Object.defineProperty(a,"current",{value:e}),w(v()),e.addEventListener("scroll",y))}),[a,r]),E=function(e){f(!1),w(v()),a.current.classList.remove(b)},C=function(e){var t=function(e){for(var t,n,r=a.current,i=e===c.Left?r.scrollLeft+r.offsetWidth:r.scrollLeft,s=0,o=0,l=Array.from(r.children);o<l.length;o++){var u=l[o],f=(t=u,n=void 0,n=getComputedStyle(t),t.offsetWidth+(parseInt(n.marginLeft,10)||0)+(parseInt(n.marginRight,10)||0));if((s+=f)>=i){var d=e===c.Left?s-i:f;return(r.offsetWidth-d)*e}}return r.offsetWidth}(e),n=a.current.scrollLeft;x(500,t,n)},x=function(e,t,n){for(var r=0,i=0;r<=e;i++)window.setTimeout(S,r,i*t/100+n),r+=e/100},S=function(e){a.current.scrollLeft=e},R=function(e,t,r){return n.createElement("div",{"data-arrow":t,onClick:function(){return C(e)}},null!=r?r:n.createElement("button",null))};return n.createElement("div",{className:_+" "+i,"data-testid":"carousel"},p.left&&R(c.Right,"left",s),p.right&&R(c.Left,"right",o),n.createElement("div",{ref:k,onMouseDown:function(e){f(!0),m({startX:e.pageX-a.current.offsetLeft,scrollLeft:a.current.scrollLeft})},onMouseLeave:E,onMouseUp:E,onMouseMove:function(e){if(u){e.preventDefault(),a.current.classList.add(b);var t=e.pageX-a.current.offsetLeft-h.startX;a.current.scrollLeft=h.scrollLeft-t}},className:L},r))};
