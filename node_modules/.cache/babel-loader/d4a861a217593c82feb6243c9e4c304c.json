{"ast":null,"code":"import e, { Component as t } from \"react\";\nimport o from \"prop-types\";\nimport n from \"react-dom\";\nimport r from \"eventemitter3\";\nimport { Loader as i } from \"@googlemaps/js-api-loader\";\nimport s from \"@mapbox/point-geometry\";\n\nfunction a() {\n  return (a = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var o = arguments[t];\n\n      for (var n in o) Object.prototype.hasOwnProperty.call(o, n) && (e[n] = o[n]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction p(e, t) {\n  e.prototype = Object.create(t.prototype), e.prototype.constructor = e, e.__proto__ = t;\n}\n\nfunction l(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\n\nvar u = {\n  width: \"100%\",\n  height: \"100%\",\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: \"absolute\"\n},\n    h = function (t) {\n  function o() {\n    return t.apply(this, arguments) || this;\n  }\n\n  p(o, t);\n  var n = o.prototype;\n  return n.shouldComponentUpdate = function () {\n    return !1;\n  }, n.render = function () {\n    return e.createElement(\"div\", {\n      ref: this.props.registerChild,\n      style: u\n    });\n  }, o;\n}(t),\n    c = function (e) {\n  function t(t) {\n    var o;\n    return (o = e.call(this) || this).gmapInstance = t, o;\n  }\n\n  p(t, e);\n  var o = t.prototype;\n  return o.getChildren = function () {\n    return this.gmapInstance.props.children;\n  }, o.getMousePosition = function () {\n    return this.gmapInstance.mouse_;\n  }, o.getUpdateCounter = function () {\n    return this.gmapInstance.updateCounter_;\n  }, o.dispose = function () {\n    this.gmapInstance = null, this.removeAllListeners();\n  }, t;\n}(r),\n    d = function (e, t) {\n  for (var o = a({}, e), n = 0; n < t.length; n++) {\n    var r = t[n];\n    r in o && delete o[r];\n  }\n\n  return o;\n},\n    m = Object.prototype.hasOwnProperty;\n\nfunction g(e, t) {\n  return e === t ? 0 !== e || 0 !== t || 1 / e == 1 / t : e != e && t != t;\n}\n\nfunction _(e, t) {\n  if (g(e, t)) return !0;\n  if (\"object\" != typeof e || null === e || \"object\" != typeof t || null === t) return !1;\n  var o = Object.keys(e),\n      n = Object.keys(t);\n  if (o.length !== n.length) return !1;\n\n  for (var r = 0; r < o.length; r++) if (!m.call(t, o[r]) || !g(e[o[r]], t[o[r]])) return !1;\n\n  return !0;\n}\n\nvar f = {\n  width: \"100%\",\n  height: \"100%\",\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: \"absolute\"\n},\n    v = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  backgroundColor: \"transparent\",\n  position: \"absolute\"\n},\n    M = function (t) {\n  function o(o) {\n    var n;\n    return (n = t.call(this, o) || this)._getState = function () {\n      return {\n        children: n.props.dispatcher.getChildren(),\n        updateCounter: n.props.dispatcher.getUpdateCounter()\n      };\n    }, n._onChangeHandler = function () {\n      if (n.dimensionsCache_) {\n        var e = (n.state.children || []).length,\n            t = n._getState();\n\n        n.setState(t, function () {\n          return (t.children || []).length !== e && n._onMouseChangeHandler();\n        });\n      }\n    }, n._onChildClick = function () {\n      n.props.onChildClick && n.hoverChildProps_ && n.props.onChildClick(n.hoverKey_, n.hoverChildProps_);\n    }, n._onChildMouseDown = function () {\n      n.props.onChildMouseDown && n.hoverChildProps_ && n.props.onChildMouseDown(n.hoverKey_, n.hoverChildProps_);\n    }, n._onChildMouseEnter = function (e, t) {\n      n.dimensionsCache_ && (n.props.onChildMouseEnter && n.props.onChildMouseEnter(e, t), n.hoverChildProps_ = t, n.hoverKey_ = e, n.setState({\n        hoverKey: e\n      }));\n    }, n._onChildMouseLeave = function () {\n      if (n.dimensionsCache_) {\n        var e = n.hoverKey_;\n        null != e && (n.props.onChildMouseLeave && n.props.onChildMouseLeave(e, n.hoverChildProps_), n.hoverKey_ = null, n.hoverChildProps_ = null, n.setState({\n          hoverKey: null\n        }));\n      }\n    }, n._onMouseAllow = function (e) {\n      e || n._onChildMouseLeave(), n.allowMouse_ = e;\n    }, n._onMouseChangeHandler = function () {\n      n.allowMouse_ && n._onMouseChangeHandlerRaf();\n    }, n._onMouseChangeHandlerRaf = function () {\n      if (n.dimensionsCache_) {\n        var t = n.props.dispatcher.getMousePosition();\n\n        if (t) {\n          var o = [],\n              r = n.props.getHoverDistance();\n\n          if (e.Children.forEach(n.state.children, function (e, i) {\n            if (e && (void 0 !== e.props.latLng || void 0 !== e.props.lat || void 0 !== e.props.lng)) {\n              var s = null != e.key ? e.key : i,\n                  a = n.props.distanceToMouse(n.dimensionsCache_[s], t, e.props);\n              a < r && o.push({\n                key: s,\n                dist: a,\n                props: e.props\n              });\n            }\n          }), o.length) {\n            o.sort(function (e, t) {\n              return e.dist - t.dist;\n            });\n            var i = o[0].key,\n                s = o[0].props;\n            n.hoverKey_ !== i && (n._onChildMouseLeave(), n._onChildMouseEnter(i, s));\n          } else n._onChildMouseLeave();\n        } else n._onChildMouseLeave();\n      }\n    }, n._getDimensions = function (e) {\n      return n.dimensionsCache_[e];\n    }, n.dimensionsCache_ = {}, n.hoverKey_ = null, n.hoverChildProps_ = null, n.allowMouse_ = !0, n.state = a({}, n._getState(), {\n      hoverKey: null\n    }), n;\n  }\n\n  p(o, t);\n  var n = o.prototype;\n  return n.componentDidMount = function () {\n    this.props.dispatcher.on(\"kON_CHANGE\", this._onChangeHandler), this.props.dispatcher.on(\"kON_MOUSE_POSITION_CHANGE\", this._onMouseChangeHandler), this.props.dispatcher.on(\"kON_CLICK\", this._onChildClick), this.props.dispatcher.on(\"kON_MDOWN\", this._onChildMouseDown);\n  }, n.shouldComponentUpdate = function (e, t) {\n    return !0 === this.props.experimental ? !_(this.props, e) || !_(d(this.state, [\"hoverKey\"]), d(t, [\"hoverKey\"])) : !_(this.props, e) || !_(this.state, t);\n  }, n.componentWillUnmount = function () {\n    this.props.dispatcher.removeListener(\"kON_CHANGE\", this._onChangeHandler), this.props.dispatcher.removeListener(\"kON_MOUSE_POSITION_CHANGE\", this._onMouseChangeHandler), this.props.dispatcher.removeListener(\"kON_CLICK\", this._onChildClick), this.props.dispatcher.removeListener(\"kON_MDOWN\", this._onChildMouseDown), this.dimensionsCache_ = null;\n  }, n.render = function () {\n    var t = this,\n        o = this.props.style || f;\n    this.dimensionsCache_ = {};\n    var n = e.Children.map(this.state.children, function (o, n) {\n      if (o) {\n        if (void 0 === o.props.latLng && void 0 === o.props.lat && void 0 === o.props.lng) return e.cloneElement(o, {\n          $geoService: t.props.geoService,\n          $onMouseAllow: t._onMouseAllow,\n          $prerender: t.props.prerender\n        });\n        var r = void 0 !== o.props.latLng ? o.props.latLng : {\n          lat: o.props.lat,\n          lng: o.props.lng\n        },\n            i = t.props.insideMapPanes ? t.props.geoService.fromLatLngToDivPixel(r) : t.props.geoService.fromLatLngToCenterPixel(r),\n            s = {\n          left: i.x,\n          top: i.y\n        };\n\n        if (void 0 !== o.props.seLatLng || void 0 !== o.props.seLat && void 0 !== o.props.seLng) {\n          var p = void 0 !== o.props.seLatLng ? o.props.seLatLng : {\n            lat: o.props.seLat,\n            lng: o.props.seLng\n          },\n              l = t.props.insideMapPanes ? t.props.geoService.fromLatLngToDivPixel(p) : t.props.geoService.fromLatLngToCenterPixel(p);\n          s.width = l.x - i.x, s.height = l.y - i.y;\n        }\n\n        var u = t.props.geoService.fromLatLngToContainerPixel(r),\n            h = null != o.key ? o.key : n;\n        return t.dimensionsCache_[h] = a({\n          x: u.x,\n          y: u.y\n        }, r), e.createElement(\"div\", {\n          key: h,\n          style: a({}, v, s),\n          className: o.props.$markerHolderClassName\n        }, e.cloneElement(o, {\n          $hover: h === t.state.hoverKey,\n          $getDimensions: t._getDimensions,\n          $dimensionKey: h,\n          $geoService: t.props.geoService,\n          $onMouseAllow: t._onMouseAllow,\n          $prerender: t.props.prerender\n        }));\n      }\n    });\n    return e.createElement(\"div\", {\n      style: o\n    }, n);\n  }, o;\n}(t);\n\nM.propTypes = {\n  geoService: o.any,\n  style: o.any,\n  distanceToMouse: o.func,\n  dispatcher: o.any,\n  onChildClick: o.func,\n  onChildMouseDown: o.func,\n  onChildMouseLeave: o.func,\n  onChildMouseEnter: o.func,\n  getHoverDistance: o.func,\n  insideMapPanes: o.bool,\n  prerender: o.bool\n}, M.defaultProps = {\n  insideMapPanes: !1,\n  prerender: !1\n};\nvar y = {\n  width: \"50%\",\n  height: \"50%\",\n  left: \"50%\",\n  top: \"50%\",\n  margin: 0,\n  padding: 0,\n  position: \"absolute\"\n};\n\nfunction C(t) {\n  return e.createElement(\"div\", {\n    style: y\n  }, e.createElement(M, a({}, t, {\n    prerender: !0\n  })));\n}\n\nvar w,\n    L,\n    b,\n    D = new Promise(function (e) {\n  b = e;\n}),\n    z = function (e, t) {\n  if (!e) return D;\n  if (L) return L;\n  e.libraries || (e.libraries = []);\n  var o = [].concat(e.libraries);\n\n  if (t && (0 !== o.length && o.includes(\"visualization\") || o.push(\"visualization\"), console.warn(\"heatmapLibrary will be deprecated in the future. Please use { libraries: ['visualization'] } in bootstrapURLKeys property instead\")), \"production\" !== process.env.NODE_ENV && Object.keys(e).indexOf(\"callback\") > -1) {\n    var n = '\"callback\" key in bootstrapURLKeys is not allowed,\\n                      use onGoogleApiLoaded property instead';\n    throw console.error(n), new Error(n);\n  }\n\n  if (\"undefined\" == typeof window) throw new Error(\"google map cannot be loaded outside browser env\");\n\n  var r = e.key,\n      s = function (e, t) {\n    if (null == e) return {};\n    var o,\n        n,\n        r = {},\n        i = Object.keys(e);\n\n    for (n = 0; n < i.length; n++) t.indexOf(o = i[n]) >= 0 || (r[o] = e[o]);\n\n    return r;\n  }(e, [\"key\"]);\n\n  return w || (w = new i(a({\n    apiKey: r || \"\"\n  }, s, {\n    libraries: o\n  }))), L = w.load().then(function () {\n    return b(window.google.maps), window.google.maps;\n  }), b(L), L;\n};\n\nfunction k(e, t, o) {\n  var n = o - t;\n  return e === o ? e : ((e - t) % n + n) % n + t;\n}\n\nvar O = function () {\n  function e(e, t) {\n    if (isNaN(e) || isNaN(t)) throw new Error(\"Invalid LatLng object: (\" + e + \", \" + t + \")\");\n    this.lat = +e, this.lng = +t;\n  }\n\n  return e.prototype.wrap = function () {\n    return new e(this.lat, k(this.lng, -180, 180));\n  }, e;\n}();\n\nO.convert = function (e) {\n  return e instanceof O ? e : Array.isArray(e) ? new O(e[0], e[1]) : \"lng\" in e && \"lat\" in e ? new O(e.lat, e.lng) : e;\n};\n\nvar x = function () {\n  function e(e, t, o) {\n    this.tileSize = e || 512, this._minZoom = t || 0, this._maxZoom = o || 52, this.latRange = [-85.05113, 85.05113], this.width = 0, this.height = 0, this.zoom = 0, this.center = new O(0, 0), this.angle = 0;\n  }\n\n  var t,\n      o = e.prototype;\n  return o.zoomScale = function (e) {\n    return Math.pow(2, e);\n  }, o.scaleZoom = function (e) {\n    return Math.log(e) / Math.LN2;\n  }, o.project = function (e, t) {\n    return new s(this.lngX(e.lng, t), this.latY(e.lat, t));\n  }, o.unproject = function (e, t) {\n    return new O(this.yLat(e.y, t), this.xLng(e.x, t));\n  }, o.lngX = function (e, t) {\n    return (180 + e) * (t || this.worldSize) / 360;\n  }, o.latY = function (e, t) {\n    return (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + e * Math.PI / 360))) * (t || this.worldSize) / 360;\n  }, o.xLng = function (e, t) {\n    return 360 * e / (t || this.worldSize) - 180;\n  }, o.yLat = function (e, t) {\n    return 360 / Math.PI * Math.atan(Math.exp((180 - 360 * e / (t || this.worldSize)) * Math.PI / 180)) - 90;\n  }, o.locationPoint = function (e) {\n    var t = this.project(e);\n    return this.centerPoint._sub(this.point._sub(t)._rotate(this.angle));\n  }, o.pointLocation = function (e) {\n    var t = this.centerPoint._sub(e)._rotate(-this.angle);\n\n    return this.unproject(this.point.sub(t));\n  }, (t = [{\n    key: \"minZoom\",\n    get: function () {\n      return this._minZoom;\n    },\n    set: function (e) {\n      this._minZoom = e, this.zoom = Math.max(this.zoom, e);\n    }\n  }, {\n    key: \"maxZoom\",\n    get: function () {\n      return this._maxZoom;\n    },\n    set: function (e) {\n      this._maxZoom = e, this.zoom = Math.min(this.zoom, e);\n    }\n  }, {\n    key: \"worldSize\",\n    get: function () {\n      return this.tileSize * this.scale;\n    }\n  }, {\n    key: \"centerPoint\",\n    get: function () {\n      return new s(0, 0);\n    }\n  }, {\n    key: \"size\",\n    get: function () {\n      return new s(this.width, this.height);\n    }\n  }, {\n    key: \"bearing\",\n    get: function () {\n      return -this.angle / Math.PI * 180;\n    },\n    set: function (e) {\n      this.angle = -k(e, -180, 180) * Math.PI / 180;\n    }\n  }, {\n    key: \"zoom\",\n    get: function () {\n      return this._zoom;\n    },\n    set: function (e) {\n      var t = Math.min(Math.max(e, this.minZoom), this.maxZoom);\n      this._zoom = t, this.scale = this.zoomScale(t), this.tileZoom = Math.floor(t), this.zoomFraction = t - this.tileZoom;\n    }\n  }, {\n    key: \"x\",\n    get: function () {\n      return this.lngX(this.center.lng);\n    }\n  }, {\n    key: \"y\",\n    get: function () {\n      return this.latY(this.center.lat);\n    }\n  }, {\n    key: \"point\",\n    get: function () {\n      return new s(this.x, this.y);\n    }\n  }]) && function (e, t) {\n    for (var o = 0; o < t.length; o++) {\n      var n = t[o];\n      n.enumerable = n.enumerable || !1, n.configurable = !0, \"value\" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);\n    }\n  }(e.prototype, t), e;\n}(),\n    T = function () {\n  function e(e) {\n    this.hasSize_ = !1, this.hasView_ = !1, this.transform_ = new x(e || 512);\n  }\n\n  var t = e.prototype;\n  return t.setView = function (e, t, o) {\n    this.transform_.center = O.convert(e), this.transform_.zoom = +t, this.transform_.bearing = +o, this.hasView_ = !0;\n  }, t.setViewSize = function (e, t) {\n    this.transform_.width = e, this.transform_.height = t, this.hasSize_ = !0;\n  }, t.setMapCanvasProjection = function (e, t) {\n    this.maps_ = e, this.mapCanvasProjection_ = t;\n  }, t.canProject = function () {\n    return this.hasSize_ && this.hasView_;\n  }, t.hasSize = function () {\n    return this.hasSize_;\n  }, t.fromLatLngToCenterPixel = function (e) {\n    return this.transform_.locationPoint(O.convert(e));\n  }, t.fromLatLngToDivPixel = function (e) {\n    if (this.mapCanvasProjection_) {\n      var t = new this.maps_.LatLng(e.lat, e.lng);\n      return this.mapCanvasProjection_.fromLatLngToDivPixel(t);\n    }\n\n    return this.fromLatLngToCenterPixel(e);\n  }, t.fromLatLngToContainerPixel = function (e) {\n    if (this.mapCanvasProjection_) {\n      var t = new this.maps_.LatLng(e.lat, e.lng);\n      return this.mapCanvasProjection_.fromLatLngToContainerPixel(t);\n    }\n\n    var o = this.fromLatLngToCenterPixel(e);\n    return o.x -= this.transform_.worldSize * Math.round(o.x / this.transform_.worldSize), o.x += this.transform_.width / 2, o.y += this.transform_.height / 2, o;\n  }, t.fromContainerPixelToLatLng = function (e) {\n    if (this.mapCanvasProjection_) {\n      var t = this.mapCanvasProjection_.fromContainerPixelToLatLng(e);\n      return {\n        lat: t.lat(),\n        lng: t.lng()\n      };\n    }\n\n    var o = a({}, e);\n    o.x -= this.transform_.width / 2, o.y -= this.transform_.height / 2;\n    var n = this.transform_.pointLocation(s.convert(o));\n    return n.lng -= 360 * Math.round(n.lng / 360), n;\n  }, t.getWidth = function () {\n    return this.transform_.width;\n  }, t.getHeight = function () {\n    return this.transform_.height;\n  }, t.getZoom = function () {\n    return this.transform_.zoom;\n  }, t.getCenter = function () {\n    return this.transform_.pointLocation({\n      x: 0,\n      y: 0\n    });\n  }, t.getBounds = function (e, t) {\n    var o = e && e[0] || 0,\n        n = e && e[1] || 0,\n        r = e && e[2] || 0,\n        i = e && e[3] || 0;\n\n    if (this.getWidth() - n - i > 0 && this.getHeight() - o - r > 0) {\n      var a = this.transform_.pointLocation(s.convert({\n        x: i - this.getWidth() / 2,\n        y: o - this.getHeight() / 2\n      })),\n          p = this.transform_.pointLocation(s.convert({\n        x: this.getWidth() / 2 - n,\n        y: this.getHeight() / 2 - r\n      })),\n          l = [a.lat, a.lng, p.lat, p.lng, p.lat, a.lng, a.lat, p.lng];\n      return t && (l = l.map(function (e) {\n        return Math.round(e * t) / t;\n      })), l;\n    }\n\n    return [0, 0, 0, 0];\n  }, e;\n}();\n\nfunction S(e) {\n  if (window.requestAnimationFrame) return window.requestAnimationFrame(e);\n  var t = window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n  return t ? t(e) : window.setTimeout(e, 1e3 / 60);\n}\n\nvar E = Math.log2 ? Math.log2 : function (e) {\n  return Math.log(e) / Math.LN2;\n};\n\nfunction P(e, t) {\n  return Object.keys(e).reduce(function (o, n) {\n    return t(e[n]) && (o[n] = e[n]), o;\n  }, {});\n}\n\nvar A = function (e) {\n  if (null !== e && \"object\" == typeof e) {\n    if (0 === Object.keys(e).length) return !0;\n  } else if (null == e || \"\" === e) return !0;\n\n  return !1;\n},\n    I = Object.prototype.toString;\n\nfunction N(e) {\n  return \"number\" == typeof e || function (e) {\n    return !!e && \"object\" == typeof e;\n  }(e) && \"[object Number]\" === I.call(e);\n}\n\nvar Z = null;\n\nfunction j() {\n  if (Z) return Z;\n\n  if (\"undefined\" != typeof navigator) {\n    var e = navigator.userAgent.indexOf(\"MSIE\") > -1,\n        t = navigator.userAgent.indexOf(\"Firefox\") > -1,\n        o = navigator.userAgent.toLowerCase().indexOf(\"op\") > -1,\n        n = navigator.userAgent.indexOf(\"Chrome\") > -1,\n        r = navigator.userAgent.indexOf(\"Safari\") > -1;\n    return n && r && (r = !1), n && o && (n = !1), Z = {\n      isExplorer: e,\n      isFirefox: t,\n      isOpera: o,\n      isChrome: n,\n      isSafari: r\n    };\n  }\n\n  return Z = {\n    isChrome: !0,\n    isExplorer: !1,\n    isFirefox: !1,\n    isOpera: !1,\n    isSafari: !1\n  };\n}\n\nvar U = function (e) {\n  return Function.prototype.toString.call(e);\n};\n\nfunction H(e) {\n  if (!e || \"object\" != typeof e) return !1;\n  var t = \"function\" == typeof e.constructor ? Object.getPrototypeOf(e) : Object.prototype;\n  if (null === t) return !0;\n  var o = t.constructor;\n  return \"function\" == typeof o && o instanceof o && U(o) === U(Object);\n}\n\nfunction K(e, t, o, n) {\n  e.addEventListener(t, o, function () {\n    var e = !1;\n\n    try {\n      var t = Object.defineProperty({}, \"passive\", {\n        get: function () {\n          e = !0;\n        }\n      });\n      window.addEventListener(\"test\", t, t), window.removeEventListener(\"test\", t, t);\n    } catch (t) {\n      e = !1;\n    }\n\n    return e;\n  }() ? {\n    capture: n,\n    passive: !0\n  } : n);\n}\n\nvar R,\n    G = !(\"undefined\" == typeof window || !window.document || !window.document.createElement);\nR = G ? window : \"undefined\" != typeof self ? self : void 0;\nvar B,\n    W = \"undefined\" != typeof document && document.attachEvent,\n    V = !1;\n\nif (G && !W) {\n  var F = function () {\n    var e = R.requestAnimationFrame || R.mozRequestAnimationFrame || R.webkitRequestAnimationFrame || function (e) {\n      return R.setTimeout(e, 20);\n    };\n\n    return function (t) {\n      return e(t);\n    };\n  }(),\n      $ = (B = R.cancelAnimationFrame || R.mozCancelAnimationFrame || R.webkitCancelAnimationFrame || R.clearTimeout, function (e) {\n    return B(e);\n  }),\n      q = function (e) {\n    var t = e.__resizeTriggers__,\n        o = t.firstElementChild,\n        n = t.lastElementChild,\n        r = o.firstElementChild;\n    n.scrollLeft = n.scrollWidth, n.scrollTop = n.scrollHeight, r.style.width = o.offsetWidth + 1 + \"px\", r.style.height = o.offsetHeight + 1 + \"px\", o.scrollLeft = o.scrollWidth, o.scrollTop = o.scrollHeight;\n  },\n      Y = function (e) {\n    var t = this;\n    q(this), this.__resizeRAF__ && $(this.__resizeRAF__), this.__resizeRAF__ = F(function () {\n      (function (e) {\n        return e.offsetWidth != e.__resizeLast__.width || e.offsetHeight != e.__resizeLast__.height;\n      })(t) && (t.__resizeLast__.width = t.offsetWidth, t.__resizeLast__.height = t.offsetHeight, t.__resizeListeners__.forEach(function (o) {\n        o.call(t, e);\n      }));\n    });\n  },\n      X = !1,\n      J = \"\",\n      Q = \"animationstart\",\n      ee = \"Webkit Moz O ms\".split(\" \"),\n      te = \"webkitAnimationStart animationstart oAnimationStart MSAnimationStart\".split(\" \");\n\n  if (G) {\n    var oe = document.createElement(\"fakeelement\");\n    if (void 0 !== oe.style.animationName && (X = !0), !1 === X) for (var ne = 0; ne < ee.length; ne++) if (void 0 !== oe.style[ee[ne] + \"AnimationName\"]) {\n      J = \"-\" + ee[ne].toLowerCase() + \"-\", Q = te[ne], X = !0;\n      break;\n    }\n  }\n\n  var re = \"resizeanim\",\n      ie = \"@\" + J + \"keyframes \" + re + \" { from { opacity: 0; } to { opacity: 0; } } \",\n      se = J + \"animation: 1ms \" + re + \"; \";\n}\n\nvar ae = void 0 !== n.createPortal,\n    pe = ae ? n.createPortal : n.unstable_renderSubtreeIntoContainer,\n    le = function (e) {\n  return H(e) ? e : {\n    lat: e[0],\n    lng: e[1]\n  };\n},\n    ue = function (e, t) {\n  return \"production\" !== process.env.NODE_ENV && e < t && console.warn(\"GoogleMap: minZoom option is less than recommended minZoom option for your map sizes.\\noverrided to value \" + t), t < e ? e : t;\n},\n    he = function (t) {\n  function o(o) {\n    var r;\n\n    if ((r = t.call(this, o) || this)._getMinZoom = function () {\n      if (r.geoService_.getWidth() > 0 || r.geoService_.getHeight() > 0) {\n        var e = Math.ceil(r.geoService_.getWidth() / 256) + 2,\n            t = Math.ceil(r.geoService_.getHeight() / 256) + 2,\n            o = Math.max(e, t);\n        return Math.ceil(E(o));\n      }\n\n      return 3;\n    }, r._computeMinZoom = function (e) {\n      return A(e) ? r._getMinZoom() : e;\n    }, r._mapDomResizeCallback = function () {\n      if (r.resetSizeOnIdle_ = !0, r.maps_) {\n        var e = r.props.center || r.props.defaultCenter,\n            t = r.map_.getCenter();\n        r.maps_.event.trigger(r.map_, \"resize\"), r.map_.setCenter(r.props.resetBoundsOnResize ? e : t);\n      }\n    }, r._setLayers = function (e) {\n      e.forEach(function (e) {\n        r.layers_[e] = new r.maps_[e](), r.layers_[e].setMap(r.map_);\n      });\n    }, r._renderPortal = function () {\n      return e.createElement(M, {\n        experimental: r.props.experimental,\n        onChildClick: r._onChildClick,\n        onChildMouseDown: r._onChildMouseDown,\n        onChildMouseEnter: r._onChildMouseEnter,\n        onChildMouseLeave: r._onChildMouseLeave,\n        geoService: r.geoService_,\n        insideMapPanes: !0,\n        distanceToMouse: r.props.distanceToMouse,\n        getHoverDistance: r._getHoverDistance,\n        dispatcher: r.markersDispatcher_\n      });\n    }, r._initMap = function () {\n      if (!r.initialized_) {\n        r.initialized_ = !0;\n        var e = le(r.props.center || r.props.defaultCenter);\n        r.geoService_.setView(e, r.props.zoom || r.props.defaultZoom, 0), r._onBoundsChanged();\n        var t = a({}, r.props.apiKey && {\n          key: r.props.apiKey\n        }, r.props.bootstrapURLKeys);\n        r.props.googleMapLoader(t, r.props.heatmapLibrary).then(function (e) {\n          if (r.mounted_) {\n            var t,\n                o,\n                i = r.geoService_.getCenter(),\n                s = {\n              zoom: r.props.zoom || r.props.defaultZoom,\n              center: new e.LatLng(i.lat, i.lng)\n            };\n            r.props.heatmap.positions && (Object.assign(l(r), {\n              heatmap: (t = e, o = r.props.heatmap, new t.visualization.HeatmapLayer({\n                data: o.positions.reduce(function (e, o) {\n                  var n = o.weight,\n                      r = void 0 === n ? 1 : n;\n                  return e.push({\n                    location: new t.LatLng(o.lat, o.lng),\n                    weight: r\n                  }), e;\n                }, [])\n              }))\n            }), function (e, t) {\n              var o = t.options,\n                  n = void 0 === o ? {} : o;\n              Object.keys(n).map(function (t) {\n                return e.set(t, n[t]);\n              });\n            }(r.heatmap, r.props.heatmap));\n\n            var p = P(e, H),\n                u = \"function\" == typeof r.props.options ? r.props.options(p) : r.props.options,\n                h = !A(r.props.draggable) && {\n              draggable: r.props.draggable\n            },\n                c = r._computeMinZoom(u.minZoom);\n\n            r.minZoom_ = c;\n            var d = a({}, {\n              overviewMapControl: !1,\n              streetViewControl: !1,\n              rotateControl: !0,\n              mapTypeControl: !1,\n              styles: [{\n                featureType: \"poi\",\n                elementType: \"labels\",\n                stylers: [{\n                  visibility: \"off\"\n                }]\n              }],\n              minZoom: 3\n            }, {\n              minZoom: c\n            }, u, s);\n            r.defaultDraggableOption_ = A(d.draggable) ? r.defaultDraggableOption_ : d.draggable;\n            var m = a({}, d, h);\n            m.minZoom = ue(m.minZoom, c);\n            var g = new e.Map(n.findDOMNode(r.googleMapDom_), m);\n            r.map_ = g, r.maps_ = e, r._setLayers(r.props.layerTypes);\n\n            var _ = e.version.match(/^3\\.(\\d+)\\./),\n                f = _ && Number(_[1]),\n                v = l(r),\n                M = Object.assign(new e.OverlayView(), {\n              onAdd: function () {\n                var t = \"undefined\" != typeof screen ? screen.width + \"px\" : \"2000px\",\n                    o = \"undefined\" != typeof screen ? screen.height + \"px\" : \"2000px\",\n                    n = document.createElement(\"div\");\n\n                if (n.style.backgroundColor = \"transparent\", n.style.position = \"absolute\", n.style.left = \"0px\", n.style.top = \"0px\", n.style.width = t, n.style.height = o, v.props.overlayViewDivStyle) {\n                  var r = v.props.overlayViewDivStyle;\n                  \"object\" == typeof r && Object.keys(r).forEach(function (e) {\n                    n.style[e] = r[e];\n                  });\n                }\n\n                this.getPanes().overlayMouseTarget.appendChild(n), v.geoService_.setMapCanvasProjection(e, M.getProjection()), ae ? v.setState({\n                  overlay: n\n                }) : pe(v, v._renderPortal(), n, function () {\n                  return v.setState({\n                    overlay: n\n                  });\n                });\n              },\n              onRemove: function () {\n                var e = v.state.overlay;\n                e && !ae && n.unmountComponentAtNode(e), v.setState({\n                  overlay: null\n                });\n              },\n              draw: function () {\n                if (v.updateCounter_++, v._onBoundsChanged(g, e, !v.props.debounced), v.googleApiLoadedCalled_ || (v._onGoogleApiLoaded({\n                  map: g,\n                  maps: e,\n                  ref: v.googleMapDom_\n                }), v.googleApiLoadedCalled_ = !0), v.mouse_) {\n                  var t = v.geoService_.fromContainerPixelToLatLng(v.mouse_);\n                  v.mouse_.lat = t.lat, v.mouse_.lng = t.lng;\n                }\n\n                v._onChildMouseMove(), v.markersDispatcher_ && (v.markersDispatcher_.emit(\"kON_CHANGE\"), v.fireMouseEventOnIdle_ && v.markersDispatcher_.emit(\"kON_MOUSE_POSITION_CHANGE\"));\n              }\n            });\n\n            r.overlay_ = M, M.setMap(g), r.props.heatmap.positions && r.heatmap.setMap(g), r.props.onTilesLoaded && e.event.addListener(g, \"tilesloaded\", function () {\n              v._onTilesLoaded();\n            }), e.event.addListener(g, \"zoom_changed\", function () {\n              v.geoService_.getZoom() !== g.getZoom() && (v.zoomAnimationInProgress_ || (v.zoomAnimationInProgress_ = !0, v._onZoomAnimationStart(g.zoom)), f < 32) && (new Date().getTime() - r.zoomControlClickTime_ < 300 ? S(function () {\n                return S(function () {\n                  v.updateCounter_++, v._onBoundsChanged(g, e);\n                });\n              }) : (v.updateCounter_++, v._onBoundsChanged(g, e)));\n            }), e.event.addListener(g, \"idle\", function () {\n              if (r.resetSizeOnIdle_) {\n                r._setViewSize();\n\n                var t = r._computeMinZoom(u.minZoom);\n\n                t !== r.minZoom_ && (r.minZoom_ = t, g.setOptions({\n                  minZoom: t\n                })), r.resetSizeOnIdle_ = !1;\n              }\n\n              v.zoomAnimationInProgress_ && (v.zoomAnimationInProgress_ = !1, v._onZoomAnimationEnd(g.zoom)), v.updateCounter_++, v._onBoundsChanged(g, e), v.dragTime_ = 0, v.markersDispatcher_ && v.markersDispatcher_.emit(\"kON_CHANGE\");\n            }), e.event.addListener(g, \"mouseover\", function () {\n              v.mouseInMap_ = !0;\n            }), e.event.addListener(g, \"click\", function () {\n              v.mouseInMap_ = !0;\n            }), e.event.addListener(g, \"mouseout\", function () {\n              v.mouseInMap_ = !1, v.mouse_ = null, v.markersDispatcher_.emit(\"kON_MOUSE_POSITION_CHANGE\");\n            }), e.event.addListener(g, \"drag\", function () {\n              v.dragTime_ = new Date().getTime(), v._onDrag(g);\n            }), e.event.addListener(g, \"dragend\", function () {\n              var t = e.event.addListener(g, \"idle\", function () {\n                e.event.removeListener(t), v._onDragEnd(g);\n              });\n            }), e.event.addListener(g, \"maptypeid_changed\", function () {\n              v._onMapTypeIdChange(g.getMapTypeId());\n            });\n          }\n        }).catch(function (e) {\n          throw r._onGoogleApiLoaded({\n            map: null,\n            maps: null,\n            ref: r.googleMapDom_\n          }), console.error(e), e;\n        });\n      }\n    }, r._onGoogleApiLoaded = function () {\n      var e;\n      r.props.onGoogleApiLoaded && (\"production\" !== process.env.NODE_ENV && !0 !== r.props.yesIWantToUseGoogleMapApiInternals && console.warn(\"GoogleMap: Usage of internal api objects is dangerous and can cause a lot of issues.\\nTo hide this warning add yesIWantToUseGoogleMapApiInternals={true} to <GoogleMap instance\"), (e = r.props).onGoogleApiLoaded.apply(e, arguments));\n    }, r._getHoverDistance = function () {\n      return r.props.hoverDistance;\n    }, r._onDrag = function () {\n      var e;\n      return r.props.onDrag && (e = r.props).onDrag.apply(e, arguments);\n    }, r._onDragEnd = function () {\n      var e;\n      return r.props.onDragEnd && (e = r.props).onDragEnd.apply(e, arguments);\n    }, r._onMapTypeIdChange = function () {\n      var e;\n      return r.props.onMapTypeIdChange && (e = r.props).onMapTypeIdChange.apply(e, arguments);\n    }, r._onZoomAnimationStart = function () {\n      var e;\n      return r.props.onZoomAnimationStart && (e = r.props).onZoomAnimationStart.apply(e, arguments);\n    }, r._onZoomAnimationEnd = function () {\n      var e;\n      return r.props.onZoomAnimationEnd && (e = r.props).onZoomAnimationEnd.apply(e, arguments);\n    }, r._onTilesLoaded = function () {\n      return r.props.onTilesLoaded && r.props.onTilesLoaded();\n    }, r._onChildClick = function () {\n      var e;\n      if (r.props.onChildClick) return (e = r.props).onChildClick.apply(e, arguments);\n    }, r._onChildMouseDown = function (e, t) {\n      r.childMouseDownArgs_ = [e, t], r.props.onChildMouseDown && r.props.onChildMouseDown(e, t, a({}, r.mouse_));\n    }, r._onChildMouseUp = function () {\n      var e;\n      r.childMouseDownArgs_ && (r.props.onChildMouseUp && (e = r.props).onChildMouseUp.apply(e, r.childMouseDownArgs_.concat([a({}, r.mouse_)])), r.childMouseDownArgs_ = null, r.childMouseUpTime_ = new Date().getTime());\n    }, r._onChildMouseMove = function () {\n      var e;\n      r.childMouseDownArgs_ && r.props.onChildMouseMove && (e = r.props).onChildMouseMove.apply(e, r.childMouseDownArgs_.concat([a({}, r.mouse_)]));\n    }, r._onChildMouseEnter = function () {\n      var e;\n      if (r.props.onChildMouseEnter) return (e = r.props).onChildMouseEnter.apply(e, arguments);\n    }, r._onChildMouseLeave = function () {\n      var e;\n      if (r.props.onChildMouseLeave) return (e = r.props).onChildMouseLeave.apply(e, arguments);\n    }, r._setViewSize = function () {\n      if (r.mounted_) {\n        if (document.fullscreen || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement) r.geoService_.setViewSize(window.innerWidth, window.innerHeight);else {\n          var e = n.findDOMNode(r.googleMapDom_);\n          r.geoService_.setViewSize(e.clientWidth, e.clientHeight);\n        }\n\n        r._onBoundsChanged();\n      }\n    }, r._onWindowResize = function () {\n      r.resetSizeOnIdle_ = !0;\n    }, r._onMapMouseMove = function (e) {\n      if (r.mouseInMap_) {\n        var t = new Date().getTime();\n        t - r.mouseMoveTime_ > 50 && (r.boundingRect_ = e.currentTarget.getBoundingClientRect()), r.mouseMoveTime_ = t;\n        var o = e.clientX - r.boundingRect_.left,\n            n = e.clientY - r.boundingRect_.top;\n        r.mouse_ || (r.mouse_ = {\n          x: 0,\n          y: 0,\n          lat: 0,\n          lng: 0\n        }), r.mouse_.x = o, r.mouse_.y = n;\n        var i = r.geoService_.fromContainerPixelToLatLng(r.mouse_);\n        r.mouse_.lat = i.lat, r.mouse_.lng = i.lng, r._onChildMouseMove(), t - r.dragTime_ < 100 ? r.fireMouseEventOnIdle_ = !0 : (r.markersDispatcher_.emit(\"kON_MOUSE_POSITION_CHANGE\"), r.fireMouseEventOnIdle_ = !1);\n      }\n    }, r._onClick = function () {\n      var e;\n      return r.props.onClick && !r.childMouseDownArgs_ && new Date().getTime() - r.childMouseUpTime_ > 300 && 0 === r.dragTime_ && (e = r.props).onClick.apply(e, arguments);\n    }, r._onMapClick = function (e) {\n      r.markersDispatcher_ && (r._onMapMouseMove(e), new Date().getTime() - r.dragTime_ > 100 && (r.mouse_ && r._onClick(a({}, r.mouse_, {\n        event: e\n      })), r.markersDispatcher_.emit(\"kON_CLICK\", e)));\n    }, r._onMapMouseDownNative = function (e) {\n      r.mouseInMap_ && r._onMapMouseDown(e);\n    }, r._onMapMouseDown = function (e) {\n      r.markersDispatcher_ && new Date().getTime() - r.dragTime_ > 100 && (r._onMapMouseMove(e), r.markersDispatcher_.emit(\"kON_MDOWN\", e));\n    }, r._onMapMouseDownCapture = function () {\n      j().isChrome && (r.zoomControlClickTime_ = new Date().getTime());\n    }, r._onKeyDownCapture = function () {\n      j().isChrome && (r.zoomControlClickTime_ = new Date().getTime());\n    }, r._isCenterDefined = function (e) {\n      return e && (H(e) && N(e.lat) && N(e.lng) || 2 === e.length && N(e[0]) && N(e[1]));\n    }, r._onBoundsChanged = function (e, t, o) {\n      if (e) {\n        var n = e.getCenter();\n        r.geoService_.setView([n.lat(), n.lng()], e.getZoom(), 0);\n      }\n\n      if ((r.props.onChange || r.props.onBoundsChange) && r.geoService_.canProject()) {\n        var i = r.geoService_.getZoom(),\n            s = r.geoService_.getBounds(),\n            p = r.geoService_.getCenter();\n\n        if (!function (e, t, o) {\n          if (e && t) {\n            for (var n = 0; n !== e.length; ++n) if (Math.abs(e[n] - t[n]) > 1e-5) return !1;\n\n            return !0;\n          }\n\n          return !1;\n        }(s, r.prevBounds_) && !1 !== o) {\n          var l = r.geoService_.getBounds(r.props.margin);\n          r.props.onBoundsChange && r.props.onBoundsChange(r.centerIsObject_ ? a({}, p) : [p.lat, p.lng], i, s, l), r.props.onChange && r.props.onChange({\n            center: a({}, p),\n            zoom: i,\n            bounds: {\n              nw: {\n                lat: s[0],\n                lng: s[1]\n              },\n              se: {\n                lat: s[2],\n                lng: s[3]\n              },\n              sw: {\n                lat: s[4],\n                lng: s[5]\n              },\n              ne: {\n                lat: s[6],\n                lng: s[7]\n              }\n            },\n            marginBounds: {\n              nw: {\n                lat: l[0],\n                lng: l[1]\n              },\n              se: {\n                lat: l[2],\n                lng: l[3]\n              },\n              sw: {\n                lat: l[4],\n                lng: l[5]\n              },\n              ne: {\n                lat: l[6],\n                lng: l[7]\n              }\n            },\n            size: r.geoService_.hasSize() ? {\n              width: r.geoService_.getWidth(),\n              height: r.geoService_.getHeight()\n            } : {\n              width: 0,\n              height: 0\n            }\n          }), r.prevBounds_ = s;\n        }\n      }\n    }, r._registerChild = function (e) {\n      r.googleMapDom_ = e;\n    }, r.mounted_ = !1, r.initialized_ = !1, r.googleApiLoadedCalled_ = !1, r.map_ = null, r.maps_ = null, r.prevBounds_ = null, r.heatmap = null, r.layers_ = {}, r.mouse_ = null, r.mouseMoveTime_ = 0, r.boundingRect_ = null, r.mouseInMap_ = !0, r.dragTime_ = 0, r.fireMouseEventOnIdle_ = !1, r.updateCounter_ = 0, r.markersDispatcher_ = new c(l(r)), r.geoService_ = new T(256), r.centerIsObject_ = H(r.props.center), r.minZoom_ = 3, r.defaultDraggableOption_ = !0, r.zoomControlClickTime_ = 0, r.childMouseDownArgs_ = null, r.childMouseUpTime_ = 0, r.googleMapDom_ = null, \"production\" !== process.env.NODE_ENV && (r.props.apiKey && console.warn(\"GoogleMap: apiKey is deprecated, use bootstrapURLKeys={{key: YOUR_API_KEY}} instead.\"), r.props.onBoundsChange && console.warn(\"GoogleMap: onBoundsChange is deprecated, use onChange({center, zoom, bounds, ...other}) instead.\"), A(r.props.center) && A(r.props.defaultCenter) && console.warn(\"GoogleMap: center or defaultCenter property must be defined\"), A(r.props.zoom) && A(r.props.defaultZoom) && console.warn(\"GoogleMap: zoom or defaultZoom property must be defined\")), r._isCenterDefined(r.props.center || r.props.defaultCenter)) {\n      var i = le(r.props.center || r.props.defaultCenter);\n      r.geoService_.setView(i, r.props.zoom || r.props.defaultZoom, 0);\n    }\n\n    return r.zoomAnimationInProgress_ = !1, r.state = {\n      overlay: null\n    }, r;\n  }\n\n  p(o, t);\n  var r = o.prototype;\n  return r.componentDidMount = function () {\n    var e = this;\n    this.mounted_ = !0, K(window, \"resize\", this._onWindowResize, !1), K(window, \"keydown\", this._onKeyDownCapture, !0);\n    var t = n.findDOMNode(this.googleMapDom_);\n    t && K(t, \"mousedown\", this._onMapMouseDownNative, !0), K(window, \"mouseup\", this._onChildMouseUp, !1);\n    var o = a({}, this.props.apiKey && {\n      key: this.props.apiKey\n    }, this.props.bootstrapURLKeys);\n    this.props.googleMapLoader(o, this.props.heatmapLibrary), setTimeout(function () {\n      e._setViewSize(), e._isCenterDefined(e.props.center || e.props.defaultCenter) && e._initMap();\n    }, 0, this), this.props.resetBoundsOnResize && function (e, t) {\n      if (void 0 === e.parentNode) {\n        var o = document.createElement(\"div\");\n        e.parentNode = o;\n      }\n\n      e = e.parentNode, W ? e.attachEvent(\"onresize\", t) : (e.__resizeTriggers__ || (\"static\" == getComputedStyle(e).position && (e.style.position = \"relative\"), function () {\n        if (!V) {\n          var e = (ie || \"\") + \".resize-triggers { \" + (se || \"\") + 'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n              t = document.head || document.getElementsByTagName(\"head\")[0],\n              o = document.createElement(\"style\");\n          o.type = \"text/css\", o.styleSheet ? o.styleSheet.cssText = e : o.appendChild(document.createTextNode(e)), t.appendChild(o), V = !0;\n        }\n      }(), e.__resizeLast__ = {}, e.__resizeListeners__ = [], (e.__resizeTriggers__ = document.createElement(\"div\")).className = \"resize-triggers\", e.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div><div class=\"contract-trigger\"></div>', e.appendChild(e.__resizeTriggers__), q(e), K(e, \"scroll\", Y, !0), Q && e.__resizeTriggers__.addEventListener(Q, function (t) {\n        t.animationName == re && q(e);\n      })), e.__resizeListeners__.push(t));\n    }(t, this._mapDomResizeCallback);\n  }, r.shouldComponentUpdate = function (e, t) {\n    return !_(d(this.props, [\"draggable\"]), d(e, [\"draggable\"])) || !_(this.state, t);\n  }, r.componentDidUpdate = function (e) {\n    var t = this;\n\n    if (\"production\" !== process.env.NODE_ENV && (_(e.defaultCenter, this.props.defaultCenter) || console.warn(\"GoogleMap: defaultCenter prop changed. You can't change default props.\"), _(e.defaultZoom, this.props.defaultZoom) || console.warn(\"GoogleMap: defaultZoom prop changed. You can't change default props.\")), !this._isCenterDefined(e.center) && this._isCenterDefined(this.props.center) && setTimeout(function () {\n      return t._initMap();\n    }, 0), this.map_) {\n      var o = this.geoService_.getCenter();\n\n      if (this._isCenterDefined(this.props.center)) {\n        var n = le(this.props.center),\n            r = this._isCenterDefined(e.center) ? le(e.center) : null;\n        (!r || Math.abs(n.lat - r.lat) + Math.abs(n.lng - r.lng) > 1e-5) && Math.abs(n.lat - o.lat) + Math.abs(n.lng - o.lng) > 1e-5 && this.map_.panTo({\n          lat: n.lat,\n          lng: n.lng\n        });\n      }\n\n      if (A(this.props.zoom) || Math.abs(this.props.zoom - e.zoom) > 0 && this.map_.setZoom(this.props.zoom), !A(e.draggable) && A(this.props.draggable) ? this.map_.setOptions({\n        draggable: this.defaultDraggableOption_\n      }) : _(e.draggable, this.props.draggable) || this.map_.setOptions({\n        draggable: this.props.draggable\n      }), !A(this.props.options) && !_(e.options, this.props.options)) {\n        var i = P(this.maps_, H),\n            s = \"function\" == typeof this.props.options ? this.props.options(i) : this.props.options;\n\n        if (\"minZoom\" in (s = d(s, [\"zoom\", \"center\", \"draggable\"]))) {\n          var a = this._computeMinZoom(s.minZoom);\n\n          s.minZoom = ue(s.minZoom, a);\n        }\n\n        this.map_.setOptions(s);\n      }\n\n      _(this.props.layerTypes, e.layerTypes) || (Object.keys(this.layers_).forEach(function (e) {\n        t.layers_[e].setMap(null), delete t.layers_[e];\n      }), this._setLayers(this.props.layerTypes)), this.heatmap && !_(this.props.heatmap.positions, e.heatmap.positions) && this.heatmap.setData(this.props.heatmap.positions.map(function (e) {\n        return {\n          location: new t.maps_.LatLng(e.lat, e.lng),\n          weight: e.weight\n        };\n      })), this.heatmap && !_(this.props.heatmap.options, e.heatmap.options) && Object.keys(this.props.heatmap.options).forEach(function (e) {\n        t.heatmap.set(e, t.props.heatmap.options[e]);\n      });\n    }\n\n    this.markersDispatcher_.emit(\"kON_CHANGE\"), _(this.props.hoverDistance, e.hoverDistance) || this.markersDispatcher_.emit(\"kON_MOUSE_POSITION_CHANGE\");\n  }, r.componentWillUnmount = function () {\n    this.mounted_ = !1;\n    var e,\n        t,\n        o = n.findDOMNode(this.googleMapDom_);\n    o && o.removeEventListener(\"mousedown\", this._onMapMouseDownNative, !0), window.removeEventListener(\"resize\", this._onWindowResize), window.removeEventListener(\"keydown\", this._onKeyDownCapture), window.removeEventListener(\"mouseup\", this._onChildMouseUp, !1), this.props.resetBoundsOnResize && (t = this._mapDomResizeCallback, e = (e = o).parentNode, W ? e.detachEvent(\"onresize\", t) : (e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t), 1), e.__resizeListeners__.length || (e.removeEventListener(\"scroll\", Y), e.__resizeTriggers__ = !e.removeChild(e.__resizeTriggers__)))), this.overlay_ && this.overlay_.setMap(null), this.maps_ && this.map_ && this.props.shouldUnregisterMapOnUnmount && (this.map_.setOptions({\n      scrollwheel: !1\n    }), this.maps_.event.clearInstanceListeners(this.map_)), this.props.shouldUnregisterMapOnUnmount && (this.map_ = null, this.maps_ = null), this.markersDispatcher_.dispose(), this.resetSizeOnIdle_ = !1, this.props.shouldUnregisterMapOnUnmount && (delete this.map_, delete this.markersDispatcher_);\n  }, r.render = function () {\n    var t = this.state.overlay,\n        o = t ? null : e.createElement(C, {\n      experimental: this.props.experimental,\n      onChildClick: this._onChildClick,\n      onChildMouseDown: this._onChildMouseDown,\n      onChildMouseEnter: this._onChildMouseEnter,\n      onChildMouseLeave: this._onChildMouseLeave,\n      geoService: this.geoService_,\n      insideMapPanes: !1,\n      distanceToMouse: this.props.distanceToMouse,\n      getHoverDistance: this._getHoverDistance,\n      dispatcher: this.markersDispatcher_\n    });\n    return e.createElement(\"div\", {\n      style: this.props.style,\n      onMouseMove: this._onMapMouseMove,\n      onMouseDownCapture: this._onMapMouseDownCapture,\n      onClick: this._onMapClick\n    }, e.createElement(h, {\n      registerChild: this._registerChild\n    }), ae && t && pe(this._renderPortal(), t), o);\n  }, o;\n}(t);\n\nfunction ce(e) {\n  var t = e.lng,\n      o = Math.sin(e.lat * Math.PI / 180),\n      n = t / 360 + .5,\n      r = .5 - .25 * Math.log((1 + o) / (1 - o)) / Math.PI;\n  return {\n    x: n,\n    y: r = r < 0 ? 0 : r > 1 ? 1 : r\n  };\n}\n\nfunction de(e) {\n  var t = e.x,\n      o = Math.PI - 2 * Math.PI * e.y;\n  return {\n    lat: 180 / Math.PI * Math.atan(.5 * (Math.exp(o) - Math.exp(-o))),\n    lng: 360 * t - 180\n  };\n}\n\nfunction me(e, t, o, n) {\n  var r = ce(e),\n      i = ce(t),\n      s = r.x < i.x ? i.x - r.x : 1 - r.x + i.x,\n      a = i.y - r.y;\n  if (s <= 0 && a <= 0) return null;\n\n  var p = E(o / 256 / Math.abs(s)),\n      l = E(n / 256 / Math.abs(a)),\n      u = Math.floor(1e-9 + Math.min(p, l)),\n      h = {\n    x: r.x < i.x ? .5 * (r.x + i.x) : r.x + i.x - 1 > 0 ? .5 * (r.x + i.x - 1) : .5 * (1 + r.x + i.x),\n    y: .5 * (r.y + i.y)\n  },\n      c = Math.pow(2, u),\n      d = o / c / 256 / 2,\n      m = n / c / 256 / 2,\n      g = de({\n    x: h.x - d,\n    y: h.y - m\n  }),\n      _ = de({\n    x: h.x + d,\n    y: h.y + m\n  });\n\n  return {\n    center: de(h),\n    zoom: u,\n    newBounds: {\n      nw: g,\n      se: _\n    }\n  };\n}\n\nfunction ge(e) {\n  var t = e.ne,\n      o = e.sw;\n  return {\n    nw: {\n      lat: t.lat,\n      lng: o.lng\n    },\n    se: {\n      lat: o.lat,\n      lng: t.lng\n    }\n  };\n}\n\nfunction _e(e) {\n  var t = e.nw,\n      o = e.se;\n  return {\n    ne: {\n      lat: t.lat,\n      lng: o.lng\n    },\n    sw: {\n      lat: o.lat,\n      lng: t.lng\n    }\n  };\n}\n\nfunction fe(e, t) {\n  var o,\n      n = e.nw,\n      r = e.se,\n      i = e.ne,\n      s = e.sw,\n      p = t.width,\n      l = t.height;\n  if (n && r) o = me(n, r, p, l);else {\n    var u = ge({\n      ne: i,\n      sw: s\n    });\n    o = me(u.nw, u.se, p, l);\n  }\n  return a({}, o, {\n    newBounds: a({}, o.newBounds, _e(o.newBounds))\n  });\n}\n\nfunction ve(e, t, o) {\n  var n = function (e, t) {\n    var o = function (e, t) {\n      var o,\n          n = t.lat,\n          r = t.lng,\n          i = (o = n * Math.PI / 180, {\n        metersPerLatDegree: 111132.92 - 559.82 * Math.cos(2 * o) + 1.175 * Math.cos(4 * o) - .0023 * Math.cos(6 * o),\n        metersPerLngDegree: 111412.84 * Math.cos(o) - 93.5 * Math.cos(3 * o) + .118 * Math.cos(5 * o)\n      }),\n          s = .5 * e / i.metersPerLatDegree,\n          a = .5 * e / i.metersPerLngDegree;\n      return {\n        nw: {\n          lat: n - s,\n          lng: r - a\n        },\n        se: {\n          lat: n + s,\n          lng: r + a\n        }\n      };\n    }(e, {\n      lat: t.lat,\n      lng: t.lng\n    }),\n        n = o.se,\n        r = ce(o.nw),\n        i = ce(n);\n\n    return {\n      w: Math.abs(i.x - r.x),\n      h: Math.abs(i.y - r.y)\n    };\n  }(e, {\n    lat: t.lat,\n    lng: t.lng\n  }),\n      r = n.w,\n      i = n.h,\n      s = Math.pow(2, o);\n\n  return {\n    w: r * s * 256,\n    h: i * s * 256\n  };\n}\n\nfunction Me(e, t) {\n  var o = e.x,\n      n = Math.PI - 2 * Math.PI * e.y / Math.pow(2, t);\n  return {\n    lat: 180 / Math.PI * Math.atan(.5 * (Math.exp(n) - Math.exp(-n))),\n    lng: o / Math.pow(2, t) * 360 - 180\n  };\n}\n\nfunction ye(e, t) {\n  var o = ce({\n    lat: e.lat,\n    lng: e.lng\n  }),\n      n = Math.pow(2, t);\n  return {\n    x: Math.floor(o.x * n),\n    y: Math.floor(o.y * n)\n  };\n}\n\nfunction Ce(e, t) {\n  for (var o = e.from, n = e.to, r = Math.pow(2, t), i = [], s = o.x; s !== (n.x + 1) % r; s = (s + 1) % r) for (var a = o.y; a !== (n.y + 1) % r; a = (a + 1) % r) i.push([t, s, a]);\n\n  return i;\n}\n\nhe.propTypes = {\n  apiKey: o.string,\n  bootstrapURLKeys: o.any,\n  defaultCenter: o.oneOfType([o.array, o.shape({\n    lat: o.number,\n    lng: o.number\n  })]),\n  center: o.oneOfType([o.array, o.shape({\n    lat: o.number,\n    lng: o.number\n  })]),\n  defaultZoom: o.number,\n  zoom: o.number,\n  onBoundsChange: o.func,\n  onChange: o.func,\n  onClick: o.func,\n  onChildClick: o.func,\n  onChildMouseDown: o.func,\n  onChildMouseUp: o.func,\n  onChildMouseMove: o.func,\n  onChildMouseEnter: o.func,\n  onChildMouseLeave: o.func,\n  onZoomAnimationStart: o.func,\n  onZoomAnimationEnd: o.func,\n  onDrag: o.func,\n  onDragEnd: o.func,\n  onMapTypeIdChange: o.func,\n  onTilesLoaded: o.func,\n  options: o.any,\n  distanceToMouse: o.func,\n  hoverDistance: o.number,\n  debounced: o.bool,\n  margin: o.array,\n  googleMapLoader: o.any,\n  onGoogleApiLoaded: o.func,\n  yesIWantToUseGoogleMapApiInternals: o.bool,\n  draggable: o.bool,\n  style: o.any,\n  resetBoundsOnResize: o.bool,\n  layerTypes: o.arrayOf(o.string),\n  shouldUnregisterMapOnUnmount: o.bool\n}, he.defaultProps = {\n  distanceToMouse: function (e, t) {\n    return Math.sqrt((e.x - t.x) * (e.x - t.x) + (e.y - t.y) * (e.y - t.y));\n  },\n  hoverDistance: 30,\n  debounced: !0,\n  options: function () {\n    return {\n      overviewMapControl: !1,\n      streetViewControl: !1,\n      rotateControl: !0,\n      mapTypeControl: !1,\n      styles: [{\n        featureType: \"poi\",\n        elementType: \"labels\",\n        stylers: [{\n          visibility: \"off\"\n        }]\n      }],\n      minZoom: 3\n    };\n  },\n  googleMapLoader: z,\n  yesIWantToUseGoogleMapApiInternals: !1,\n  style: {\n    width: \"100%\",\n    height: \"100%\",\n    margin: 0,\n    padding: 0,\n    position: \"relative\"\n  },\n  layerTypes: [],\n  heatmap: {},\n  heatmapLibrary: !1,\n  shouldUnregisterMapOnUnmount: !0\n}, he.googleMapLoader = z;\nexport default he;\nexport { ge as convertNeSwToNwSe, _e as convertNwSeToNeSw, fe as fitBounds, Ce as getTilesIds, ye as latLng2Tile, ve as meters2ScreenPixels, Me as tile2LatLng };","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;AAAA,IAAMA,IAAQ;AACZC,SAAO,MADK;AAEZC,UAAQ,MAFI;AAGZC,QAAM,CAHM;AAIZC,OAAK,CAJO;AAKZC,UAAQ,CALI;AAMZC,WAAS,CANG;AAOZC,YAAU;AAPE,CAAd;AAAA,IAUqBC;AAAAA;AAAAA;AAAAA;;AAAAA;AAAAA;AAAAA,WACnBC,qBADmBD,GACnB;AACE;AAAA,GAFiBA,EAEjBE,EAGFC,MAHE,GAGF;AAEE,WAAOC;AAAKC,WADcC,KAAKC,KAALD,CAAlBE,aACDJ;AAAyBZ,aAAOA;AAAhCY,MAAP;AAAuCZ,GAPtBQ,EAOsBR,CAPtBQ;AAOsBR,CAPtBQ,CAAqBS,CAArBT,CAVrB;AAAA,ICAqBU;AACnB,aAAYC,CAAZ,EAAYA;AAAAA;AAAc,YACxBC,wBADwB,EAEnBD,YAFmB,GAEJA,CAFI,EAEJA,CAFI;AAEJA;;AAAAA;AAAAA;AAAAA,WAGtBE,WAHsBF,GAGtB;AACE,gBAAYA,YAAZ,CAAyBJ,KAAzB,CAA+BO,QAA/B;AAA+BA,GAJXH,EAIWG,EAGjCC,gBAHiCD,GAGjC;AACE,gBAAYH,YAAZ,CAAyBK,MAAzB;AAAyBA,GARLL,EAQKK,EAG3BC,gBAH2BD,GAG3B;AACE,gBAAYL,YAAZ,CAAyBO,cAAzB;AAAyBA,GAZLP,EAYKO,EAG3BC,OAH2BD,GAG3B;AACEZ,SAAKK,YAALL,GAAoB,IAApBA,EACAA,KAAKc,kBAALd,EADAA;AACKc,GAjBeT,EAiBfS,CAjBeT;AAiBfS,CApBYV,CAAyBW,CAAzBX,CDArB;AAAA,IEDMY,IAAO,UAACC,CAAD,EAAMC,CAAN,EAAMA;AAEjB,WADWC,UAASF,CAATE,CACX,EAASC,IAAI,CAAb,EAAgBA,IAAIF,EAAKG,MAAzB,EAAiCD,GAAjC,EAAsC;AACpC,QAAME,IAAMJ,EAAKE,CAALF,CAAZ;AACII,SAAOH,CAAPG,IAAOH,OACFA,EAAKG,CAALH,CADLG;AAIN;;AAAA,SAAOH,CAAP;AAAOA,CFPT;AAAA,IGSMI,IAAiBC,OAAOC,SAAPD,CAAiBD,cHTxC;;AGeA,SAASG,CAAT,CAAYC,CAAZ,EAAeC,CAAf,EAAeA;AAEb,SAAID,MAAMC,CAAND,GAIW,MAANA,CAAM,IAAW,MAANC,CAAL,IAAgB,IAAID,CAAJ,IAAU,IAAIC,CAJzCD,GAQGA,KAAMA,CAANA,IAAWC,KAAMA,CARxB;AAgBF;;AAAA,SAASC,CAAT,CAAsBC,CAAtB,EAA4BC,CAA5B,EAA4BA;AAC1B,MAAIL,EAAGI,CAAHJ,EAASK,CAATL,CAAJ,EACE;AAGF,MACkB,mBAATI,CAAS,IACP,SAATA,CADgB,IAEA,mBAATC,CAFS,IAGP,SAATA,CAJF,EAME;AAGF,MAAMC,IAAQR,OAAON,IAAPM,CAAYM,CAAZN,CAAd;AAAA,MACMS,IAAQT,OAAON,IAAPM,CAAYO,CAAZP,CADd;AAGA,MAAIQ,EAAMX,MAANW,KAAiBC,EAAMZ,MAA3B,EACE;;AAIF,OAAK,IAAID,IAAI,CAAb,EAAgBA,IAAIY,EAAMX,MAA1B,EAAkCD,GAAlC,EACE,KACGG,EAAeW,IAAfX,CAAoBQ,CAApBR,EAA0BS,EAAMZ,CAANY,CAA1BT,CADH,IACmCH,CAChCM,EAAGI,EAAKE,EAAMZ,CAANY,CAALF,CAAHJ,EAAmBK,EAAKC,EAAMZ,CAANY,CAALD,CAAnBL,CAFH,EAIE;;AAIJ;AC3DF;;AAAA,IAAMS,IAAY;AAChBhD,SAAO,MADS;AAEhBC,UAAQ,MAFQ;AAGhBC,QAAM,CAHU;AAIhBC,OAAK,CAJW;AAKhBC,UAAQ,CALQ;AAMhBC,WAAS,CANO;AAOhBC,YAAU;AAPM,CAAlB;AAAA,IAUMP,IAAQ;AACZC,SAAO,CADK;AAEZC,UAAQ,CAFI;AAGZC,QAAM,CAHM;AAIZC,OAAK,CAJO;AAKZ8C,mBAAiB,aALL;AAMZ3C,YAAU;AANE,CAVd;AAAA,IAmBqB4C;AAsBnB,aAAYpC,CAAZ,EAAYA;AAAAA;AAAO,YACjBK,iBAAML,CAANK,KAAML,IADW,EAkDnBqC,SAlDmB,GAkDP;AAAA,aAAO;AACjB9B,kBAAUF,EAAKL,KAALK,CAAWiC,UAAXjC,CAAsBC,WAAtBD,EADO;AAEjBkC,uBAAelC,EAAKL,KAALK,CAAWiC,UAAXjC,CAAsBK,gBAAtBL;AAFE,OAAP;AAE2BK,KApDpB,EAoDoBA,EAGvC8B,gBAHuC9B,GAGpB;AACjB,UAAKL,EAAKoC,gBAAV;AAIA,YAAMC,KAAkBrC,EAAKsC,KAALtC,CAAWE,QAAXF,IAAuB,EAAzCqC,EAA6CtB,MAAnD;AAAA,YACMuB,IAAQtC,EAAKgC,SAALhC,EADd;;AAGAA,UAAKuC,QAALvC,CACEsC,CADFtC,EAEE;AAAA,kBACGsC,EAAMpC,QAANoC,IAAkB,EADrB,EACyBvB,MADzB,KACoCsB,CADpC,IAEErC,EAAKwC,qBAALxC,EAFF;AAEOwC,SAJTxC;AAISwC;AAAAA,KAnEQ,EAmERA,EAIXC,aAJWD,GAIK;AACVxC,QAAKL,KAALK,CAAW0C,YAAX1C,IACEA,EAAK2C,gBADP3C,IAKAA,EAAKL,KAALK,CAAW0C,YAAX1C,CAHiBA,EAAK4C,SAGtB5C,EAFmBA,EAAK2C,gBAExB3C,CALAA;AAGwB2C,KA3EX,EA2EWA,EAO9BE,iBAP8BF,GAOV;AACd3C,QAAKL,KAALK,CAAW8C,gBAAX9C,IACEA,EAAK2C,gBADP3C,IAKAA,EAAKL,KAALK,CAAW8C,gBAAX9C,CAHiBA,EAAK4C,SAGtB5C,EAFmBA,EAAK2C,gBAExB3C,CALAA;AAGwB2C,KAtFX,EAsFWA,EAO9BI,kBAP8BJ,GAOT,UAACK,CAAD,EAAWC,CAAX,EAAWA;AACzBjD,QAAKoC,gBAALpC,KAIDA,EAAKL,KAALK,CAAWkD,iBAAXlD,IACFA,EAAKL,KAALK,CAAWkD,iBAAXlD,CAA6BgD,CAA7BhD,EAAuCiD,CAAvCjD,CADEA,EAIJA,EAAK2C,gBAAL3C,GAAwBiD,CAJpBjD,EAKJA,EAAK4C,SAAL5C,GAAiBgD,CALbhD,EAMJA,EAAKuC,QAALvC,CAAc;AAAEgD;AAAF,OAAdhD,CAVKA;AAUWgD,KAxGC,EAwGDA,EAGlBG,kBAHkBH,GAGG;AACnB,UAAKhD,EAAKoC,gBAAV;AAIA,YAAMY,IAAWhD,EAAK4C,SAAtB;AAGII,sBACEhD,EAAKL,KAALK,CAAWoD,iBAAXpD,IACFA,EAAKL,KAALK,CAAWoD,iBAAXpD,CAA6BgD,CAA7BhD,EAJeA,EAAK2C,gBAIpB3C,CADEA,EAIJA,EAAK4C,SAAL5C,GAAiB,IAJbA,EAKJA,EAAK2C,gBAAL3C,GAAwB,IALpBA,EAMJA,EAAKuC,QAALvC,CAAc;AAAEgD,oBAAU;AAAZ,SAAdhD,CAPEgD;AAOwB;AAAA,KA1HX,EA0HW1D,EAI9B+D,aAJ8B,GAId,UAACC,CAAD,EAACA;AACVA,WACHtD,EAAKmD,kBAALnD,EADGsD,EAILtD,EAAKuD,WAALvD,GAAmBsD,CAJdA;AAIcA,KAnIF,EAmIEA,EAGrBd,qBAHqBc,GAGG;AAClBtD,QAAKuD,WAALvD,IACFA,EAAKwD,wBAALxD,EADEA;AACGwD,KAxIU,EAwIVA,EAITA,wBAJSA,GAIkB;AACzB,UAAKxD,EAAKoC,gBAAV;AAIA,YAAMqB,IAAKzD,EAAKL,KAALK,CAAWiC,UAAXjC,CAAsBG,gBAAtBH,EAAX;;AAEA,YAAIyD,CAAJ,EAAQ;AACN,cAAMC,IAAY,EAAlB;AAAA,cACMC,IAAgB3D,EAAKL,KAALK,CAAW4D,gBAAX5D,EADtB;;AAgCA,cA7BAR,EAAMqE,QAANrE,CAAesE,OAAftE,CAAuBQ,EAAKsC,KAALtC,CAAWE,QAAlCV,EAA4C,UAACuE,CAAD,EAAQC,CAAR,EAAQA;AAClD,gBAAKD,WAGoBE,CAHpBF,KAGHA,EAAMpE,KAANoE,CAAYG,MAHTH,IAGSG,KACQD,CADRC,KACZH,EAAMpE,KAANoE,CAAYI,GAJTJ,IAISI,KACQF,CADRE,KACZJ,EAAMpE,KAANoE,CAAYK,GALTL,CAAL,EAEA;AAQA,kBAAMM,IACJN,UAAM/C,GAAN+C,GACIA,EAAM/C,GADV+C,GAEIC,CAHN;AAAA,kBAIMM,IAAOtE,EAAKL,KAALK,CAAWuE,eAAXvE,CACXA,EAAKoC,gBAALpC,CAAsBqE,CAAtBrE,CADWA,EAEXyD,CAFWzD,EAGX+D,EAAMpE,KAHKK,CAJb;AASIsE,kBAAOX,CAAPW,IACFZ,EAAUc,IAAVd,CAAe;AACb1C,qBAAKqD,CADQ;AAEbC,uBAFa;AAGb3E,uBAAOoE,EAAMpE;AAHA,eAAf+D,CADEY;AAIa3E;AAAAA,WAxBnBH,GA6BIkE,EAAU3C,MAAd,EAAsB;AACpB2C,cAAUe,IAAVf,CAAe,UAACgB,CAAD,EAAIC,CAAJ,EAAIA;AAAAA,qBAAMD,EAAEJ,IAAFI,GAASC,EAAEL,IAAjBK;AAAiBL,aAApCZ;AACA,gBAAMV,IAAWU,EAAU,CAAVA,EAAa1C,GAA9B;AAAA,gBACMiC,IAAaS,EAAU,CAAVA,EAAa/D,KADhC;AAGIK,cAAK4C,SAAL5C,KAAmBgD,CAAnBhD,KACFA,EAAKmD,kBAALnD,IAEAA,EAAK+C,kBAAL/C,CAAwBgD,CAAxBhD,EAAkCiD,CAAlCjD,CAHEA;AAGgCiD,WARtC,MAWEjD,EAAKmD,kBAALnD;AAAKmD,SA5CT,MA+CEnD,EAAKmD,kBAALnD;AAAKmD;AAAAA,KAlMU,EAkMVA,EAITyB,cAJSzB,GAIQ,UAACnC,CAAD,EAACA;AAEhB,eAAYoB,gBAAZ,CADiBpB,CACjB;AADiBA,KAvMA,EAGjBhB,EAAKoC,gBAALpC,GAAwB,EAHP,EAIjBA,EAAK4C,SAAL5C,GAAiB,IAJA,EAKjBA,EAAK2C,gBAAL3C,GAAwB,IALP,EAMjBA,EAAKuD,WAALvD,GAAKuD,CAAc,CANF,EAQjBvD,EAAKsC,KAALtC,GAAKsC,MAAatC,EAAKgC,SAALhC,EAAbsC,EAAkBN;AAAagB,gBAAU;AAAvBhB,KAAlBM,CARY,EAQ6BhD,CAR7B;AAQ6B;;AAAAuF;AAAA;AAAA,WAGhDC,iBAHgD,GAGhD;AACEpF,SAAKC,KAALD,CAAWuC,UAAXvC,CAAsBqF,EAAtBrF,CAAyB,YAAzBA,EAAuCA,KAAKyC,gBAA5CzC,GACAA,KAAKC,KAALD,CAAWuC,UAAXvC,CAAsBqF,EAAtBrF,CACE,2BADFA,EAEEA,KAAK8C,qBAFP9C,CADAA,EAKAA,KAAKC,KAALD,CAAWuC,UAAXvC,CAAsBqF,EAAtBrF,CAAyB,WAAzBA,EAAsCA,KAAK+C,aAA3C/C,CALAA,EAMAA,KAAKC,KAALD,CAAWuC,UAAXvC,CAAsBqF,EAAtBrF,CAAyB,WAAzBA,EAAsCA,KAAKmD,iBAA3CnD,CANAA;AAM2CmD,GAVG,EAUHA,EAG7CxD,qBAH6CwD,GAG7C,UAAsBmC,CAAtB,EAAiCC,CAAjC,EAAiCA;AAC/B,YAAgC,CAAhC,KAAIvF,KAAKC,KAALD,CAAWwF,YAAf,GAAeA,CAEV3D,EAAa7B,KAAKC,KAAlB4B,EAAyByD,CAAzBzD,CAFU2D,IAEeF,CACzBzD,EACCb,EAAKhB,KAAK4C,KAAV5B,EAAiB,CAAC,UAAD,CAAjBA,CADDa,EAECb,EAAKuE,CAALvE,EAAgB,CAAC,UAAD,CAAhBA,CAFDa,CAHL,GAKuB,CAMpBA,EAAa7B,KAAKC,KAAlB4B,EAAyByD,CAAzBzD,CANoB,IAMKyD,CACzBzD,EAAa7B,KAAK4C,KAAlBf,EAAyB0D,CAAzB1D,CAZH;AAY4B0D,GA1BkB,EA0BlBA,EAI9BE,oBAJ8BF,GAI9B;AACEvF,SAAKC,KAALD,CAAWuC,UAAXvC,CAAsB0F,cAAtB1F,CAAqC,YAArCA,EAAmDA,KAAKyC,gBAAxDzC,GACAA,KAAKC,KAALD,CAAWuC,UAAXvC,CAAsB0F,cAAtB1F,CACE,2BADFA,EAEEA,KAAK8C,qBAFP9C,CADAA,EAKAA,KAAKC,KAALD,CAAWuC,UAAXvC,CAAsB0F,cAAtB1F,CAAqC,WAArCA,EAAkDA,KAAK+C,aAAvD/C,CALAA,EAMAA,KAAKC,KAALD,CAAWuC,UAAXvC,CAAsB0F,cAAtB1F,CAAqC,WAArCA,EAAkDA,KAAKmD,iBAAvDnD,CANAA,EAQAA,KAAK0C,gBAAL1C,GAAwB,IARxBA;AAQwB,GAvCsB,EAuCtBJ,EA4J1BC,MA5J0B,GA4J1B;AAAA;AAAA,QACQ8F,IAAmB3F,KAAKC,KAALD,CAAWd,KAAXc,IAAoBmC,CAD/C;AAEEnC,SAAK0C,gBAAL1C,GAAwB,EAAxBA;AAEA,QAAM4F,IAAU9F,EAAMqE,QAANrE,CAAe+F,GAAf/F,CACdE,KAAK4C,KAAL5C,CAAWQ,QADGV,EAEd,UAACuE,CAAD,EAAQC,CAAR,EAAQA;AACN,UAAKD,CAAL;AACA,iBACyBE,CADzB,KACEF,EAAMpE,KAANoE,CAAYG,MADd,IACcA,KACQD,CADRC,KACZH,EAAMpE,KAANoE,CAAYI,GAFd,IAEcA,KACQF,CADRE,KACZJ,EAAMpE,KAANoE,CAAYK,GAHd,EAKE,OAAO5E,EAAMgG,YAANhG,CAAmBuE,CAAnBvE,EAA0B;AAC/BiG,uBAAaC,EAAK/F,KAAL+F,CAAWC,UADO;AAE/BC,yBAAeF,EAAKrC,aAFW;AAG/BwC,sBAAYH,EAAK/F,KAAL+F,CAAWI;AAHQ,SAA1BtG,CAAP;AAOF,YAAM0E,SACmBD,CADnBC,KACJH,EAAMpE,KAANoE,CAAYG,MADRA,GAEAH,EAAMpE,KAANoE,CAAYG,MAFZA,GAGA;AAAEC,eAAKJ,EAAMpE,KAANoE,CAAYI,GAAnB;AAAwBC,eAAKL,EAAMpE,KAANoE,CAAYK;AAAzC,SAHN;AAAA,YAKM2B,IAAKL,EAAK/F,KAAL+F,CAAWM,cAAXN,GACPA,EAAK/F,KAAL+F,CAAWC,UAAXD,CAAsBO,oBAAtBP,CAA2CxB,CAA3CwB,CADOA,GAEPA,EAAK/F,KAAL+F,CAAWC,UAAXD,CAAsBQ,uBAAtBR,CAA8CxB,CAA9CwB,CAPJ;AAAA,YASMS,IAAa;AACjBpH,gBAAMgH,EAAG1E,CADQ;AAEjBrC,eAAK+G,EAAGzE;AAFS,SATnB;;AAiBA,iBAC2B2C,CAD3B,KACEF,EAAMpE,KAANoE,CAAYqC,QADd,IACcA,KACWnC,CADXmC,KACXrC,EAAMpE,KAANoE,CAAYsC,KADDD,IACCC,KAA6CpC,CAA7CoC,KAAuBtC,EAAMpE,KAANoE,CAAYuC,KAFlD,EAGE;AACA,cAAMF,SACqBnC,CADrBmC,KACJrC,EAAMpE,KAANoE,CAAYqC,QADRA,GAEArC,EAAMpE,KAANoE,CAAYqC,QAFZA,GAGA;AAAEjC,iBAAKJ,EAAMpE,KAANoE,CAAYsC,KAAnB;AAA0BjC,iBAAKL,EAAMpE,KAANoE,CAAYuC;AAA3C,WAHN;AAAA,cAKMC,IAAOb,EAAK/F,KAAL+F,CAAWM,cAAXN,GACTA,EAAK/F,KAAL+F,CAAWC,UAAXD,CAAsBO,oBAAtBP,CAA2CU,CAA3CV,CADSA,GAETA,EAAK/F,KAAL+F,CAAWC,UAAXD,CAAsBQ,uBAAtBR,CAA8CU,CAA9CV,CAPJ;AASAS,YAAWtH,KAAXsH,GAAmBI,EAAKlF,CAALkF,GAASR,EAAG1E,CAA/B8E,EACAA,EAAWrH,MAAXqH,GAAoBI,EAAKjF,CAALiF,GAASR,EAAGzE,CADhC6E;AAIF;;AAAA,YAAMK,IAAcd,EAAK/F,KAAL+F,CAAWC,UAAXD,CAAsBe,0BAAtBf,CAClBxB,CADkBwB,CAApB;AAAA,YAMMrB,IACJN,UAAM/C,GAAN+C,GACIA,EAAM/C,GADV+C,GAEIC,CATN;AAiBA,eANA0B,EAAKtD,gBAALsD,CAAsBrB,CAAtBqB,IAAsBrB;AACpBhD,aAAGmF,EAAYnF,CADKgD;AAEpB/C,aAAGkF,EAAYlF;AAFK+C,WAGjBH,CAHiBG,CAAtBqB,EAOElG;AACEwB,eAAKqD,CADP7E;AAEEZ,uBAAYA,CAAZA,EAAsBuH,CAAtBvH,CAFFY;AAGEkH,qBAAW3C,EAAMpE,KAANoE,CAAY4C;AAHzBnH,WAKGA,EAAMgG,YAANhG,CAAmBuE,CAAnBvE,EAA0B;AACzBoH,kBAAQvC,MAAaqB,EAAKpD,KAALoD,CAAW1C,QADP;AAEzB6D,0BAAgBnB,EAAKd,cAFI;AAGzBkC,yBAAezC,CAHU;AAIzBoB,uBAAaC,EAAK/F,KAAL+F,CAAWC,UAJC;AAKzBC,yBAAeF,EAAKrC,aALK;AAMzBwC,sBAAYH,EAAK/F,KAAL+F,CAAWI;AANE,SAA1BtG,CALHA,CADF;AAY6BsG;AAAAA,KA/EjBtG,CAAhB;AAsFA,WAAOA;AAAKZ,aAAOyG;AAAZ7F,OAA+B8F,CAA/B9F,CAAP;AAAsC8F,GA7RQ,EA6RRA,CA7RQ;AA6RRA,CA3TrBvD,CAAyBlC,CAAzBkC,CAnBrB;;AAmBqBA,EAEZgF,SAFYhF,GAEA;AACjB4D,cAAYqB,EAAUC,GADL;AAEjBrI,SAAOoI,EAAUC,GAFA;AAGjB1C,mBAAiByC,EAAUE,IAHV;AAIjBjF,cAAY+E,EAAUC,GAJL;AAKjBvE,gBAAcsE,EAAUE,IALP;AAMjBpE,oBAAkBkE,EAAUE,IANX;AAOjB9D,qBAAmB4D,EAAUE,IAPZ;AAQjBhE,qBAAmB8D,EAAUE,IARZ;AASjBtD,oBAAkBoD,EAAUE,IATX;AAUjBlB,kBAAgBgB,EAAUG,IAVT;AAWjBrB,aAAWkB,EAAUG;AAXJ,CAFApF,IAiBZqF,YAjBYrF,GAiBG;AACpBiE,mBAAgB,CADI;AAEpBF,cAAW;AAFS,CAjBH/D;ACvBrB,IAAMnD,IAAQ;AACZC,SAAO,KADK;AAEZC,UAAQ,KAFI;AAGZC,QAAM,KAHM;AAIZC,OAAK,KAJO;AAMZC,UAAQ,CANI;AAOZC,WAAS,CAPG;AAQZC,YAAU;AARE,CAAd;;AAYA,WAAyBQ,CAAzB,EAAyBA;AACvB,SACEH;AAAKZ,WAAOA;AAAZY,KACEA,gBAACuC,CAADvC,EAACuC,MAAqBpC,CAArBoC,EAAqBpC;AAAOmG;AAAPnG,GAArBoC,CAADvC,CADFA,CADF;AAEiCsG;;AAAAA,IChB/BuB,CDgB+BvB;AAAAA,ICf/BwB,CDe+BxB;AAAAA,ICd/ByB,CDc+BzB;AAAAA,ICZ7B0B,IAAiB,IAAIC,OAAJ,CAAY,UAACC,CAAD,EAACA;AAClCH,MAAwBG,CAAxBH;AAAwBG,CADH,CDYY5B;AAAAA,ICXT4B,cAIVC,CAJUD,EAIQE,CAJRF,EAIQE;AAGhC,OAAKD,CAAL,EACE,OAAOH,CAAP;AAIF,MAAIF,CAAJ,EACE,OAAOA,CAAP;AAGGK,IAAiBE,SAAjBF,KACHA,EAAiBE,SAAjBF,GAA6B,EAD1BA;AAIL,MAAME,cAAgBF,EAAiBE,SAAjCA,CAAN;;AAgBA,MAbID,MAGuB,MAArBC,EAAU9G,MAAW,IAAM8G,EAAUC,QAAVD,CAAmB,eAAnBA,CAAN,IAGvBA,EAAUrD,IAAVqD,CAAe,eAAfA,CAHuB,EAKzBE,QAAQC,IAARD,CACE,mIADFA,CAREH,GAayB,iBAAzBK,QAAQC,GAARD,CAAYE,QAAa,IACvBjH,OAAON,IAAPM,CAAYyG,CAAZzG,EAA8BkH,OAA9BlH,CAAsC,UAAtCA,IAAsC,CAAe,CAD3D,EAC8D;AAC1D,QAAMmH,sHAAN;AAIA,UADAN,QAAQO,KAARP,CAAcM,CAAdN,GAAcM,IACJE,KADIF,CACEA,CADFA,CACd;AAIJ;;AAAA,MAAsB,sBAAXG,MAAX,EACE,UAAUD,KAAV,CAAgB,iDAAhB;;AA3CiD,MA8C3CvH,IAAqB2G,EAArB3G,GA9C2C;AAAA,MA8CnCyH;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;;AAAAA;;AAAAA;AAAAA,IAAad,CAAbc,EAAad,OAAbc,CA9CmC;;AAiEnD,SAhBKpB,MACHA,IAAU,IAAIqB,CAAJ,CAAIA;AAEZC,YAAQ3H,KAAO;AAFH0H,KAGTD,CAHSC,EAGTD;AACHZ;AADGY,GAHSC,CAAJ,CADPrB,GASLC,IAAeD,EAAQuB,IAARvB,GAAewB,IAAfxB,CAAoB;AAEjC,WADAE,EAAsBiB,OAAOM,MAAPN,CAAcO,IAApCxB,GACOiB,OAAOM,MAAPN,CAAcO,IAArB;AAAqBA,GAFR1B,CATVA,EAcLE,EAAsBD,CAAtBC,CAdKF,EAgBEC,CAAP;AAAOA,CD1D0BxB;;AC0D1BwB,SC1EO0B,CD0EP1B,CC1EYhI,CD0EZgI,EC1Ee2B,CD0Ef3B,EC1EoB4B,CD0EpB5B,EC1EoB4B;AAC3B,MAAMC,IAAID,IAAMD,CAAhB;AACA,SAAO3J,MAAM4J,CAAN5J,GAAYA,CAAZA,GAAYA,EAAQA,IAAI2J,CAAZ3J,IAAmB6J,CAAnB7J,GAAwB6J,CAAxB7J,IAA6B6J,CAA7B7J,GAAkC2J,CAArD;AAAqDA;;AAAAA,ICFlCG;AAiBnB,aAAYjF,CAAZ,EAAiBC,CAAjB,EAAiBA;AACf,QAAIiF,MAAMlF,CAANkF,KAAcA,MAAMjF,CAANiF,CAAlB,EACE,UAAUd,KAAV,CAAUA,6BAAiCpE,CAAjCoE,GAAiCpE,IAAjCoE,GAAyCnE,CAAzCmE,GAAyCnE,GAAnD;AAEF1E,SAAKyE,GAALzE,GAAKyE,CAAOA,CAAZzE,EACAA,KAAK0E,GAAL1E,GAAK0E,CAAOA,CADZ1E;AACY0E;;AAAAA,qBAGd4E,IAHc5E,GAGd;AACE,eAAWgF,CAAX,CAAkB1J,KAAKyE,GAAvB,EAA4B6E,EAAKtJ,KAAK0E,GAAV4E,EAAU5E,CAAM,GAAhB4E,EAAqB,GAArBA,CAA5B;AAAiD,GAJrC5E,EAIqCkF,CAJrClF;AAIqC,CA1BhCgF,EDEkCH;;ACFlCG,EACZG,OADYH,GACF,UAAC1E,CAAD,EAACA;AAChB,SAAIA,aAAa0E,CAAb1E,GACKA,CADLA,GAIA8E,MAAMC,OAAND,CAAc9E,CAAd8E,IAAc9E,IACL0E,CADK1E,CACEA,EAAE,CAAFA,CADFA,EACQA,EAAE,CAAFA,CADRA,CAAd8E,GAIA,SAAS9E,CAAT,IAAc,SAASA,CAAvB,GAAuBA,IACd0E,CADc1E,CACPA,EAAEP,GADKO,EACAA,EAAEN,GADFM,CAAvB,GAIGA,CAZP;AAYOA,CAdU0E;;AAcV1E,ICVUgF;AACnB,aAAYC,CAAZ,EAAsBC,CAAtB,EAA+BC,CAA/B,EAA+BA;AAC7BnK,SAAKiK,QAALjK,GAAgBiK,KAAY,GAA5BjK,EAEAA,KAAKoK,QAALpK,GAAgBkK,KAAW,CAF3BlK,EAGAA,KAAKqK,QAALrK,GAAgBmK,KAAW,EAH3BnK,EAKAA,KAAKsK,QAALtK,GAAgB,EAAE,QAAF,EAAY,QAAZ,CALhBA,EAOAA,KAAKb,KAALa,GAAa,CAPbA,EAQAA,KAAKZ,MAALY,GAAc,CARdA,EASAA,KAAKuK,IAALvK,GAAY,CATZA,EAUAA,KAAKwK,MAALxK,GAAc,IAAI0J,CAAJ,CAAW,CAAX,EAAc,CAAd,CAVd1J,EAWAA,KAAKyK,KAALzK,GAAa,CAXbA;AAWa;;AAAA;AAAA;AAAA,WAqDf0K,SArDe,GAqDf,UAAUH,CAAV,EAAUA;AACR,WAAOI,KAAKC,GAALD,CAAS,CAATA,EAAYJ,CAAZI,CAAP;AAAmBJ,GAtDN,EAsDMA,EAGrBM,SAHqBN,GAGrB,UAAUO,CAAV,EAAUA;AACR,WAAOH,KAAKI,GAALJ,CAASG,CAATH,IAAkBA,KAAKK,GAA9B;AAA8BA,GA1DjB,EA0DiBA,EAGhCC,OAHgCD,GAGhC,UAAQE,CAAR,EAAgBC,CAAhB,EAAgBA;AACd,eAAWC,CAAX,CACEpL,KAAKqL,IAALrL,CAAUkL,EAAOxG,GAAjB1E,EAAsBmL,CAAtBnL,CADF,EAEEA,KAAKsL,IAALtL,CAAUkL,EAAOzG,GAAjBzE,EAAsBmL,CAAtBnL,CAFF;AAEwBmL,GAhEX,EAgEWA,EAI1BI,SAJ0BJ,GAI1B,UAAUK,CAAV,EAAiBL,CAAjB,EAAiBA;AACf,eAAWzB,CAAX,CACE1J,KAAKyL,IAALzL,CAAUwL,EAAM5J,CAAhB5B,EAAmBmL,CAAnBnL,CADF,EAEEA,KAAK0L,IAAL1L,CAAUwL,EAAM7J,CAAhB3B,EAAmBmL,CAAnBnL,CAFF;AAEqBmL,GAvER,EAuEQA,EAiBvBE,IAjBuBF,GAiBvB,UAAKQ,CAAL,EAAUR,CAAV,EAAUA;AACR,YAAS,MAAMQ,CAAf,KAAuBR,KAAanL,KAAKmL,SAAzC,IAAuD,GAAvD;AAAuD,GAzF1C,EAyF0CS,EAIzDN,IAJyD,GAIzD,UAAK7G,CAAL,EAAU0G,CAAV,EAAUA;AAGR,YAAS,MADN,MAAMR,KAAKkB,EAAX,GAAiBlB,KAAKI,GAALJ,CAASA,KAAKmB,GAALnB,CAASA,KAAKkB,EAALlB,GAAU,CAAVA,GAAelG,IAAMkG,KAAKkB,EAAXpH,GAAiB,GAAzCkG,CAATA,CACpB,KAAqBQ,KAAanL,KAAKmL,SAAvC,IAAqD,GAArD;AAAqD,GAhGxC,EAgGwCS,EAGvDF,IAHuD,GAGvD,UAAK/J,CAAL,EAAQwJ,CAAR,EAAQA;AACN,WAAY,MAAJxJ,CAAI,IAAQwJ,KAAanL,KAAKmL,SAA1B,IAAuC,GAAnD;AAAmD,GApGtC,EAoGsCS,EAGrDH,IAHqD,GAGrD,UAAK7J,CAAL,EAAQuJ,CAAR,EAAQA;AAEN,iBAAcR,KAAKkB,EAAnB,GAAyBlB,KAAKoB,IAALpB,CAAUA,KAAKqB,GAALrB,CAAKqB,CAD7B,MAAW,MAAJpK,CAAI,IAAQuJ,KAAanL,KAAKmL,SAA1B,CACkBa,IAAUrB,KAAKkB,EAAfG,GAAqB,GAA1BrB,CAAVA,CAAzB,GAAqE,EAArE;AAAqE,GAzGxD,EAyGwDiB,EAGvEK,aAHuE,GAGvE,UAAcf,CAAd,EAAcA;AACZ,QAAM/F,IAAInF,KAAKiL,OAALjL,CAAakL,CAAblL,CAAV;AACA,gBAAYkM,WAAZ,CAAwBC,IAAxB,CAA6BnM,KAAKwL,KAALxL,CAAWmM,IAAXnM,CAAgBmF,CAAhBnF,EAAmBoM,OAAnBpM,CAA2BA,KAAKyK,KAAhCzK,CAA7B;AAA6DyK,GA9GhD,EA8GgDA,EAG/D4B,aAH+D5B,GAG/D,UAActF,CAAd,EAAcA;AACZ,QAAMmH,IAAKtM,KAAKkM,WAALlM,CAAiBmM,IAAjBnM,CAAsBmF,CAAtBnF,EAAyBoM,OAAzBpM,CAAyBoM,CAASpM,KAAKyK,KAAvCzK,CAAX;;AACA,gBAAYuL,SAAZ,CAAsBvL,KAAKwL,KAALxL,CAAWuM,GAAXvM,CAAesM,CAAftM,CAAtB;AAAqCsM,GAnHxB,EAmHwBA;AAAAA;AAAAA;AA/GrC,kBAAYlC,QAAZ;AAAYA,KA+GyBkC;AA/GzBlC,mBAGFG,CAHEH,EAGFG;AACVvK,WAAKoK,QAALpK,GAAgBuK,CAAhBvK,EACAA,KAAKuK,IAALvK,GAAY2K,KAAKnB,GAALmB,CAAS3K,KAAKuK,IAAdI,EAAoBJ,CAApBI,CADZ3K;AACgCuK;AA0GK+B,KA1GL/B;AAAAA;AAAAA;AAIhC,kBAAYF,QAAZ;AAAYA,KAJoBE;AAIpBF,mBAGFE,CAHEF,EAGFE;AACVvK,WAAKqK,QAALrK,GAAgBuK,CAAhBvK,EACAA,KAAKuK,IAALvK,GAAY2K,KAAKpB,GAALoB,CAAS3K,KAAKuK,IAAdI,EAAoBJ,CAApBI,CADZ3K;AACgCuK;AATAA,GA0GK+B,EAjGL/B;AAAAA;AAAAA;AAIhC,kBAAYN,QAAZ,GAAuBjK,KAAK8K,KAA5B;AAA4BA;AAJIP,GAiGK+B,EA7FTxB;AAAAA;AAAAA;AAI5B,iBAAWM,CAAX,CAAiB,CAAjB,EAAoB,CAApB;AAAoB;AAJQN,GA6FSwB,EAzFjB;AAAAhL;AAAAkL;AAIpB,iBAAWpB,CAAX,CAAiBpL,KAAKb,KAAtB,EAA6Ba,KAAKZ,MAAlC;AAAkCA;AAJd,GAyFiBkN,EArFHlN;AAAAA;AAAAA;AAIlC,cAASY,KAAKyK,KAAd,GAAsBE,KAAKkB,EAA3B,GAAiC,GAAjC;AAAiC,KAJCzM;AAIDqN,mBAGvBC,CAHuB,EAGvBA;AACV1M,WAAKyK,KAALzK,GAAKyK,CAAUnB,EAAKoD,CAALpD,EAAKoD,CAAU,GAAfpD,EAAoB,GAApBA,CAAVmB,GAAqCE,KAAKkB,EAA1CpB,GAAgD,GAArDzK;AAAqD;AARnBZ,GAqFGkN,EA7EgB;AAAAhL;AAAAkL;AAIrD,kBAAYG,KAAZ;AAAYA,KAJyC;AAIzCA,mBAGLpC,CAHKoC,EAGLpC;AACP,UAAMqC,IAAQjC,KAAKpB,GAALoB,CAASA,KAAKnB,GAALmB,CAASJ,CAATI,EAAe3K,KAAKkK,OAApBS,CAATA,EAAuC3K,KAAKmK,OAA5CQ,CAAd;AACA3K,WAAK2M,KAAL3M,GAAa4M,CAAb5M,EACAA,KAAK8K,KAAL9K,GAAaA,KAAK0K,SAAL1K,CAAe4M,CAAf5M,CADbA,EAEAA,KAAK6M,QAAL7M,GAAgB2K,KAAKmC,KAALnC,CAAWiC,CAAXjC,CAFhB3K,EAGAA,KAAK+M,YAAL/M,GAAoB4M,IAAQ5M,KAAK6M,QAHjC7M;AAGiC6M;AAZoB,GA6EhBP,EAjEJO;AAAAA;AAAAA;AA0BjC,kBAAYxB,IAAZ,CAAiBrL,KAAKwK,MAALxK,CAAY0E,GAA7B;AAA6BA;AA1BImI,GAiEIP,EAvCR5H;AAAAA;AAAAA;AAI7B,kBAAY4G,IAAZ,CAAiBtL,KAAKwK,MAALxK,CAAYyE,GAA7B;AAA6BA;AAJAC,GAuCQ4H,EAnCR7H;AAAAA;AAAAA;AAI7B,iBAAW2G,CAAX,CAAiBpL,KAAK2B,CAAtB,EAAyB3B,KAAK4B,CAA9B;AAA8BA;AAJD6C,GAmCQ6H,MA/BP1K;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,mBApFjB,EAoFiBA,CApFjB;AAoFiBA,CAjGboI,EDUVhF;AAAAA,IEXUgI;AACnB,aAAY/C,CAAZ,EAAYA;AAGVjK,SAAKiN,QAALjN,GAAKiN,CAAW,CAAhBjN,EACAA,KAAKkN,QAALlN,GAAKkN,CAAW,CADhBlN,EAEAA,KAAKmN,UAALnN,GAAkB,IAAIgK,CAAJ,CAAcC,KAAY,GAA1B,CAFlBjK;AAE4C;;AAAA;AAAA,WAG9CoN,OAH8C,GAG9C,UAAQ5C,CAAR,EAAgBD,CAAhB,EAAsBmC,CAAtB,EAAsBA;AACpB1M,SAAKmN,UAALnN,CAAgBwK,MAAhBxK,GAAyB0J,EAAOG,OAAPH,CAAec,CAAfd,CAAzB1J,EACAA,KAAKmN,UAALnN,CAAgBuK,IAAhBvK,GAAgBuK,CAAQA,CADxBvK,EAEAA,KAAKmN,UAALnN,CAAgB0M,OAAhB1M,GAAgB0M,CAAWA,CAF3B1M,EAGAA,KAAKkN,QAALlN,GAAKkN,CAAW,CAHhBlN;AAGgB,GAP4B,EAO5BqN,EAGlBC,WAHkB,GAGlB,UAAYnO,CAAZ,EAAmBC,CAAnB,EAAmBA;AACjBY,SAAKmN,UAALnN,CAAgBb,KAAhBa,GAAwBb,CAAxBa,EACAA,KAAKmN,UAALnN,CAAgBZ,MAAhBY,GAAyBZ,CADzBY,EAEAA,KAAKiN,QAALjN,GAAKiN,CAAW,CAFhBjN;AAEgB,GAb4B,EAa5BqN,EAGlBE,sBAHkB,GAGlB,UAAuBlE,CAAvB,EAA6BmE,CAA7B,EAA6BA;AAC3BxN,SAAKyN,KAALzN,GAAaqJ,CAAbrJ,EACAA,KAAK0N,oBAAL1N,GAA4BwN,CAD5BxN;AAC4BwN,GAlBgB,EAkBhBA,EAG9BG,UAH8BH,GAG9B;AACE,gBAAYP,QAAZ,IAAwBjN,KAAKkN,QAA7B;AAA6BA,GAtBe,EAsBfA,EAG/BU,OAH+BV,GAG/B;AACE,gBAAYD,QAAZ;AAAYA,GA1BgC,EA0BhCA,EAIdzG,uBAJcyG,GAId,UAAwBY,CAAxB,EAAwBA;AACtB,gBAAYV,UAAZ,CAAuBlB,aAAvB,CAAqCvC,EAAOG,OAAPH,CAAemE,CAAfnE,CAArC;AAAoDmE,GA/BR,EA+BQA,EAOtDtH,oBAPsDsH,GAOtD,UAAqBA,CAArB,EAAqBA;AACnB,QAAI7N,KAAK0N,oBAAT,EAA+B;AAC7B,UAAMlJ,IAAS,SAASiJ,KAAT,CAAe/D,MAAf,CAAsBmE,EAASpJ,GAA/B,EAAoCoJ,EAASnJ,GAA7C,CAAf;AACA,kBAAYgJ,oBAAZ,CAAiCnH,oBAAjC,CAAsD/B,CAAtD;AAEF;;AAAA,gBAAYgC,uBAAZ,CAAoCqH,CAApC;AAAoCA,GA3CQ,EA2CRA,EAItC9G,0BAJsC8G,GAItC,UAA2BA,CAA3B,EAA2BA;AACzB,QAAI7N,KAAK0N,oBAAT,EAA+B;AAC7B,UAAMlJ,IAAS,SAASiJ,KAAT,CAAe/D,MAAf,CAAsBmE,EAASpJ,GAA/B,EAAoCoJ,EAASnJ,GAA7C,CAAf;AACA,kBAAYgJ,oBAAZ,CAAiC3G,0BAAjC,CAA4DvC,CAA5D;AAGF;;AAAA,QAAM6B,IAAKrG,KAAKwG,uBAALxG,CAA6B6N,CAA7B7N,CAAX;AAOA,WANAqG,EAAG1E,CAAH0E,IACErG,KAAKmN,UAALnN,CAAgBmL,SAAhBnL,GAA4B2K,KAAKmD,KAALnD,CAAWtE,EAAG1E,CAAH0E,GAAOrG,KAAKmN,UAALnN,CAAgBmL,SAAlCR,CAD9BtE,EAGAA,EAAG1E,CAAH0E,IAAQrG,KAAKmN,UAALnN,CAAgBb,KAAhBa,GAAwB,CAHhCqG,EAIAA,EAAGzE,CAAHyE,IAAQrG,KAAKmN,UAALnN,CAAgBZ,MAAhBY,GAAyB,CAJjCqG,EAMOA,CAAP;AAAOA,GA5DqC,EA4DrCA,EAIT0H,0BAJS1H,GAIT,UAA2B2H,CAA3B,EAA2BA;AACzB,QAAIhO,KAAK0N,oBAAT,EAA+B;AAC7B,UAAMlJ,IAASxE,KAAK0N,oBAAL1N,CAA0B+N,0BAA1B/N,CAAqDgO,CAArDhO,CAAf;AACA,aAAO;AAAEyE,aAAKD,EAAOC,GAAPD,EAAP;AAAqBE,aAAKF,EAAOE,GAAPF;AAA1B,OAAP;AAGF;;AAAA,QAAMyJ,UAAYD,CAAZC,CAAN;AACAA,MAAKtM,CAALsM,IAAUjO,KAAKmN,UAALnN,CAAgBb,KAAhBa,GAAwB,CAAlCiO,EACAA,EAAKrM,CAALqM,IAAUjO,KAAKmN,UAALnN,CAAgBZ,MAAhBY,GAAyB,CADnCiO;AAEA,QAAMC,IAAQlO,KAAKmN,UAALnN,CAAgBqM,aAAhBrM,CAA8BoL,EAAMvB,OAANuB,CAAc6C,CAAd7C,CAA9BpL,CAAd;AAGA,WADAkO,EAAMxJ,GAANwJ,IAAa,MAAMvD,KAAKmD,KAALnD,CAAWuD,EAAMxJ,GAANwJ,GAAY,GAAvBvD,CAAnBuD,EACOA,CAAP;AAAOA,GA5EqC,EA4ErCA,EAGTC,QAHSD,GAGT;AACE,gBAAYf,UAAZ,CAAuBhO,KAAvB;AAAuBA,GAhFqB,EAgFrBA,EAGzBiP,SAHyBjP,GAGzB;AACE,gBAAYgO,UAAZ,CAAuB/N,MAAvB;AAAuBA,GApFqB,EAoFrBA,EAGzBiP,OAHyBjP,GAGzB;AACE,gBAAY+N,UAAZ,CAAuB5C,IAAvB;AAAuBA,GAxFqB,EAwFrBA,EAGzB+D,SAHyB/D,GAGzB;AAGE,WAFcvK,KAAKmN,UAALnN,CAAgBqM,aAAhBrM,CAA8B;AAAE2B,SAAG,CAAL;AAAQC,SAAG;AAAX,KAA9B5B,CAEd;AAFuD,GA5FX,EA4FWqN,EAKzDkB,SALyD,GAKzD,UAAUC,CAAV,EAAmBC,CAAnB,EAAmBA;AACjB,QAAMC,IAAQF,KAAWA,EAAQ,CAARA,CAAXA,IAA0B,CAAxC;AAAA,QACMG,IAAQH,KAAWA,EAAQ,CAARA,CAAXA,IAA0B,CADxC;AAAA,QAEMI,IAAQJ,KAAWA,EAAQ,CAARA,CAAXA,IAA0B,CAFxC;AAAA,QAGMK,IAAQL,KAAWA,EAAQ,CAARA,CAAXA,IAA0B,CAHxC;;AAKA,QACExO,KAAKmO,QAALnO,KAAkB2O,CAAlB3O,GAAyB6O,CAAzB7O,GAAgC,CAAhCA,IACAA,KAAKoO,SAALpO,KAAmB0O,CAAnB1O,GAA0B4O,CAA1B5O,GAAiC,CAFnC,EAGE;AACA,UAAM8O,IAAgB9O,KAAKmN,UAALnN,CAAgBqM,aAAhBrM,CACpBoL,EAAMvB,OAANuB,CAAc;AACZzJ,WAAGkN,IAAO7O,KAAKmO,QAALnO,KAAkB,CADhB;AAEZ4B,WAAG8M,IAAO1O,KAAKoO,SAALpO,KAAmB;AAFjB,OAAdoL,CADoBpL,CAAtB;AAAA,UAMM+O,IAAoB/O,KAAKmN,UAALnN,CAAgBqM,aAAhBrM,CACxBoL,EAAMvB,OAANuB,CAAc;AACZzJ,WAAG3B,KAAKmO,QAALnO,KAAkB,CAAlBA,GAAsB2O,CADb;AAEZ/M,WAAG5B,KAAKoO,SAALpO,KAAmB,CAAnBA,GAAuB4O;AAFd,OAAdxD,CADwBpL,CAN1B;AAAA,UAaIgP,IAAM,CACRF,EAAcrK,GADN,EAERqK,EAAcpK,GAFN,EAGRqK,EAAkBtK,GAHV,EAIRsK,EAAkBrK,GAJV,EAKRqK,EAAkBtK,GALV,EAMRqK,EAAcpK,GANN,EAORoK,EAAcrK,GAPN,EAQRsK,EAAkBrK,GARV,CAbV;AA2BA,aAHI+J,MACFO,IAAMA,EAAInJ,GAAJmJ,CAAQ,UAACC,CAAD,EAACA;AAAAA,eAAMtE,KAAKmD,KAALnD,CAAWsE,IAAIR,CAAf9D,IAA8B8D,CAApCQ;AAAoCR,OAA7CO,CADJP,GAGGO,CAAP;AAGF;;AAAA,WAAO,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAP;AAAiB,GAzI2B,EAyI3BpF,CAzI2B;AAyI3B,CA/IAoD,EFWVhI;;AEoIU,SCpJGkK,CDoJH,CCpJOC,CDoJP,ECpJOA;AAC1B,MAAIrG,OAAOsG,qBAAX,EACE,OAAOtG,OAAOsG,qBAAPtG,CAA6BqG,CAA7BrG,CAAP;AAGF,MAAMuG,IACJvG,OAAOwG,2BAAPxG,IAAsCA,OAAOyG,wBAD/C;AAGA,SAAOF,IACHA,EAAUF,CAAVE,CADGA,GAEHvG,OAAO0G,UAAP1G,CAAkBqG,CAAlBrG,EAA4B,MAAM,EAAlCA,CAFJ;ACRF;;AAAA,IAAM2G,IAAO9E,KAAK8E,IAAL9E,GAAYA,KAAK8E,IAAjB9E,GAAwB,UAAChJ,CAAD,EAACA;AAAAA,SAAMgJ,KAAKI,GAALJ,CAAShJ,CAATgJ,IAAcA,KAAKK,GAAzBrJ;AAAyBqJ,CAA/D;;AAA+DA,SCEvC0E,CDFuC1E,CCElC/J,CDFkC+J,ECE7B2E,CDF6B3E,ECE7B2E;AAChC,SAAOnO,OAAON,IAAPM,CAAYP,CAAZO,EAAiBoO,MAAjBpO,CAAwB,UAACqO,CAAD,EAASvO,CAAT,EAASA;AAItC,WAHIqO,EAAG1O,EAAIK,CAAJL,CAAH0O,MACAE,EAAOvO,CAAPuO,IAAc5O,EAAIK,CAAJL,CADd0O,GAGGE,CAAP;AAAOA,GAJFrO,EAKJ,EALIA,CAAP;ACHF;;AAAA,IAAMsO,IAAU,UAACC,CAAD,EAACA;AAEf,MAAY,SAARA,CAAQ,IAAuB,mBAARA,CAA3B,EAA2BA;AACzB,QAAgC,MAA5BvO,OAAON,IAAPM,CAAYuO,CAAZvO,EAAiBH,MAArB,EACE;AAAA,GAFJ,MAEI,IAEO0O,aAA6C,OAARA,CAF5C,EAIF;;AAEF;AAAA,CAVF;AAAA,ICIMC,IAAiBxO,OAAOC,SAAPD,CAAiByO,QDJxC;;ACIwCA,SAEhBC,CAFgBD,CAEPrM,CAFOqM,EAEPrM;AAE/B,SACmB,mBAAVA,CAAU,IATrB,UAAsBA,CAAtB,EAAsBA;AACpB,aAASA,CAAT,IAAmC,mBAAVA,CAAzB;AASGuM,GAVL,CAUkBvM,CAVlB,KAOoB,sBAGQoM,EAAe9N,IAAf8N,CAAoBpM,CAApBoM,CAF1B;ACPF;;AAAA,IAAII,IAAuB,IAA3B;;AAEA,SAAwBC,CAAxB,GAAwBA;AACtB,MAAID,CAAJ,EACE,OAAOA,CAAP;;AAGF,MAAyB,sBAAdE,SAAX,EAAsC;AACpC,QAAMC,IAAaD,UAAUE,SAAVF,CAAoB5H,OAApB4H,CAA4B,MAA5BA,IAA4B,CAAW,CAA1D;AAAA,QACMG,IAAYH,UAAUE,SAAVF,CAAoB5H,OAApB4H,CAA4B,SAA5BA,IAA4B,CAAc,CAD5D;AAAA,QAEMI,IAAUJ,UAAUE,SAAVF,CAAoBK,WAApBL,GAAkC5H,OAAlC4H,CAA0C,IAA1CA,IAA0C,CAAS,CAFnE;AAAA,QAIIM,IAAWN,UAAUE,SAAVF,CAAoB5H,OAApB4H,CAA4B,QAA5BA,IAA4B,CAAa,CAJxD;AAAA,QAKIO,IAAWP,UAAUE,SAAVF,CAAoB5H,OAApB4H,CAA4B,QAA5BA,IAA4B,CAAa,CALxD;AAsBA,WAfIM,KAAYC,CAAZD,KACFC,KAAW,CADTD,GAIAA,KAAYF,CAAZE,KACFA,KAAW,CADTA,CAJAA,EAQJR,IAAuB;AACrBG,mBADqB;AAErBE,kBAFqB;AAGrBC,gBAHqB;AAIrBE,iBAJqB;AAKrBC;AALqB,KAOvB;AAWF;;AAAA,SARAT,IAAuB;AACrBQ,eAAU,CADW;AAErBL,iBAAY,CAFS;AAGrBE,gBAAW,CAHU;AAIrBC,cAAS,CAJY;AAKrBG,eAAU;AALW,GAQvB;ACzCF;;AAAA,IAAMC,IAAa,UAACnB,CAAD,EAACA;AAAAA,SAAOoB,SAAStP,SAATsP,CAAmBd,QAAnBc,CAA4B7O,IAA5B6O,CAAiCpB,CAAjCoB,CAAPpB;AAAwCA,CAA5D;;AAMA,SAAwBqB,CAAxB,CAAsC/P,CAAtC,EAAsCA;AACpC,OAAKA,CAAL,IAA2B,mBAARA,CAAnB,EACE;AAGF,MAAMgQ,IACuB,qBAApBhQ,EAAIiQ,WAAgB,GACvB1P,OAAO2P,cAAP3P,CAAsBP,CAAtBO,CADuB,GAEvBA,OAAOC,SAHb;AAKA,MAAc,SAAVwP,CAAJ,EACE;AAGF,MAAMC,IAAcD,EAAMC,WAA1B;AAEA,SACyB,qBAAhBA,CAAgB,IACvBA,aAAuBA,CADA,IAEvBJ,EAAWI,CAAXJ,MAA4BA,EAAWtP,MAAXsP,CAH9B;AAGyCtP;;AAAAA,SCLnB4P,CDKmB5P,CCJzC6P,CDIyC7P,ECHzC8P,CDGyC9P,ECFzCgG,CDEyChG,ECDzC+P,CDCyC/P,ECDzC+P;AAEAF,IAAQG,gBAARH,CACEC,CADFD,EAEE7J,CAFF6J,EAzBF;AACE,QAAII,KAAmB,CAAvB;;AAEA;AACE,UAAMC,IAAUlQ,OAAOmQ,cAAPnQ,CAAsB,EAAtBA,EAA0B,SAA1BA,EAAqC;AACnDgL;AACEiF,eAAmB,CAAnBA;AAAmB;AAF8B,OAArCjQ,CAAhB;AAMAsH,aAAO0I,gBAAP1I,CAAwB,MAAxBA,EAAgC4I,CAAhC5I,EAAyC4I,CAAzC5I,GACAA,OAAO8I,mBAAP9I,CAA2B,MAA3BA,EAAmC4I,CAAnC5I,EAA4C4I,CAA5C5I,CADAA;AAEA,KATF,CASE,OAAO+I,CAAP,EAAOA;AACPJ,WAAmB,CAAnBA;AAGF;;AAAA,WAAOA,CAAP;AAYEK,GA5BJ,KA6BQ;AACEP,cADF;AAEEQ,cAAS;AAFX,GA7BR,GAiCQR,CARNF;AAQME;;AAAAA,IChBJS,CDgBIT;AAAAA,ICrBJU,MAAiC,sBAAXnJ,MAAW,IAAXA,CACxBA,OAAOoJ,QAD4B,IAC5BA,CACPpJ,OAAOoJ,QAAPpJ,CAAgBqJ,aAFdF,CDqBIV;ACdNS,IADEC,IACQnJ,MADRmJ,GAEuB,sBAATG,IAAS,GACfA,IADe,GACfA,KAEApS,CAJVgS;AAOF,IAiBQK,CAjBR;AAAA,IAAIC,IAAkC,sBAAbJ,QAAa,IAAeA,SAASI,WAA9D;AAAA,IACIC,KAAgB,CADpB;;AAGA,IAAIN,MAAcK,CAAlB,EAA+B;AAC7B,MAAIE,IAAgB;AAClB,QAAItD,IAAM8C,EAAQ5C,qBAAR4C,IACRA,EAAQzC,wBADAyC,IAERA,EAAQ1C,2BAFA0C,IAGR,UAAUrC,CAAV,EAAUA;AACR,aAAOqC,EAAQxC,UAARwC,CAAmBrC,CAAnBqC,EAAuB,EAAvBA,CAAP;AAA8B,KAJlC;;AAMA,qBAAiBrC,CAAjB,EAAiBA;AACf,aAAOT,EAAIS,CAAJT,CAAP;AAAWS,KADb;AAPkB,KAApB;AAAA,MAYI8C,KACEJ,IAASL,EAAQU,oBAARV,IACXA,EAAQW,uBADGX,IAEXA,EAAQY,0BAFGZ,IAGXA,EAAQa,YAHNR,EAGMQ,UACOC,CADPD,EACOC;AACf,WAAOT,EAAOS,CAAPT,CAAP;AAAcS,GANdL,CAZJ;AAAA,MAsBIM,IAAgB,UAAU1B,CAAV,EAAUA;AAC5B,QAAI2B,IAAW3B,EAAQ4B,kBAAvB;AAAA,QACEC,IAASF,EAASG,iBADpB;AAAA,QAEEC,IAAWJ,EAASK,gBAFtB;AAAA,QAGEC,IAAcJ,EAAOC,iBAHvB;AAIAC,MAASG,UAATH,GAAsBA,EAASI,WAA/BJ,EACAA,EAASK,SAATL,GAAqBA,EAASM,YAD9BN,EAEAE,EAAYpU,KAAZoU,CAAkBnU,KAAlBmU,GAA0BJ,EAAOS,WAAPT,GAAqB,CAArBA,GAAyB,IAFnDE,EAGAE,EAAYpU,KAAZoU,CAAkBlU,MAAlBkU,GAA2BJ,EAAOU,YAAPV,GAAsB,CAAtBA,GAA0B,IAHrDE,EAIAF,EAAOK,UAAPL,GAAoBA,EAAOM,WAJ3BJ,EAKAF,EAAOO,SAAPP,GAAmBA,EAAOQ,YAL1BN;AAK0BM,GAhC5B;AAAA,MAwCIG,IAAiB,UAAUjK,CAAV,EAAUA;AAC7B,QAAIyH,IAAUrR,IAAd;AACA+S,MAAc/S,IAAd+S,GACI/S,KAAK8T,aAAL9T,IAAoByS,EAAYzS,KAAK8T,aAAjBrB,CADxBM,EAEA/S,KAAK8T,aAAL9T,GAAqBwS,EAAa;AAAA,OAThB,UAAUnB,CAAV,EAAUA;AAC5B,eAAOA,EAAQsC,WAARtC,IAAuBA,EAAQ0C,cAAR1C,CAAuBlS,KAA9CkS,IACLA,EAAQuC,YAARvC,IAAwBA,EAAQ0C,cAAR1C,CAAuBjS,MADjD;AACiDA,OAOf,EACdiS,CADc,MAE9BA,EAAQ0C,cAAR1C,CAAuBlS,KAAvBkS,GAA+BA,EAAQsC,WAAvCtC,EACAA,EAAQ0C,cAAR1C,CAAuBjS,MAAvBiS,GAAgCA,EAAQuC,YADxCvC,EAEAA,EAAQ2C,mBAAR3C,CAA4BjN,OAA5BiN,CAAoC,UAAU1B,CAAV,EAAUA;AAC5CA,UAAGzN,IAAHyN,CAAQ0B,CAAR1B,EAAiB/F,CAAjB+F;AAAiB/F,OADnByH,CAJ8B;AAKXzH,KALF4I,CAFrBO;AAOuBnJ,GAjDzB;AAAA,MAwDIqK,KAAY,CAxDhB;AAAA,MA0DEC,IAAiB,EA1DnB;AAAA,MA2DEC,IAAsB,gBA3DxB;AAAA,MA4DEC,KAAc,kBAAkBC,KAAlB,CAAwB,GAAxB,CA5DhB;AAAA,MA6DEC,KAAc,uEAAuED,KAAvE,CACZ,GADY,CA7DhB;;AAkEA,MAAIpC,CAAJ,EAAe;AACb,QAAIsC,KAAMrC,SAASC,aAATD,CAAuB,aAAvBA,CAAV;AAKA,aAJgC3N,CAIhC,KAJIgQ,GAAIrV,KAAJqV,CAAUC,aAId,KAHEP,KAAY,CAGd,GAHc,CAGI,CAHJ,KAGVA,CAAJ,EACE,KAAK,IAAI7S,KAAI,CAAb,EAAgBA,KAAIgT,GAAY/S,MAAhC,EAAwCD,IAAxC,EACE,SAAoDmD,CAApD,KAAIgQ,GAAIrV,KAAJqV,CAAUH,GAAYhT,EAAZgT,IAAiB,eAA3BG,CAAJ,EAA+D;AAE7DE,UACiB,MAFXL,GAAYhT,EAAZgT,EAEqBzD,WAFrByD,EAEW,GAA0B,GAD3CK,EAEAN,IAAsBG,GAAYlT,EAAZkT,CAFtBG,EAGAR,KAAY,CAHZQ;AAIA;AAAA;AAMR;;AAAA,MAAID,KAAgB,YAApB;AAAA,MACIE,KAAqB,MACvBR,CADuB,GAEvB,YAFuB,GAGvBM,EAHuB,GAIvB,+CALF;AAAA,MAMIG,KAAiBT,IACnB,iBADmBA,GAEnBM,EAFmBN,GAGnB,IATF;AAYF;;AAAA,ICrFMU,UAAwCrQ,CAAxCqQ,KAAcC,EAASC,YDqF7B;AAAA,ICnFMA,KAAeF,KACjBC,EAASC,YADQF,GAEjBC,EAASE,mCDiFb;AAAA,IC7DMC,KAAa,UAACxQ,CAAD,EAACA;AAAAA,SAClBwM,EAAcxM,CAAdwM,IAAwBxM,CAAxBwM,GAAiC;AAAEvM,SAAKD,EAAO,CAAPA,CAAP;AAAkBE,SAAKF,EAAO,CAAPA;AAAvB,GADfA;AAC6C,CD4DjE;AAAA,IC1DMyQ,KAAgB,UAAC1K,CAAD,EAAOL,CAAP,EAAOA;AAa3B,SAZ6B,iBAAzB3B,QAAQC,GAARD,CAAYE,QAAa,IACvB8B,IAAOL,CADgB,IAEzB7B,QAAQC,IAARD,CACE,+GAIE6B,CALJ7B,CAFyB,EAYzB6B,IAAUK,CAAVL,GACKK,CADLL,GAGGA,CAHP;AAGOA,CD0CT;AAAA,ICjCMgL;AA8EJ,aAAYjV,CAAZ,EAAYA;AAAAA;;AAkEV,SAjEAK,iBAAML,CAANK,KAAML,IAiEN,EA2OFkV,WA3OE,GA2OY;AACZ,UAAI7U,EAAK8U,WAAL9U,CAAiB6N,QAAjB7N,KAA8B,CAA9BA,IAAmCA,EAAK8U,WAAL9U,CAAiB8N,SAAjB9N,KAA+B,CAAtE,EAAyE;AACvE,YAAM+U,IACJ1K,KAAK2K,IAAL3K,CAAUrK,EAAK8U,WAAL9U,CAAiB6N,QAAjB7N,KA1bS,GA0bnBqK,IAA8D,CADhE;AAAA,YAEM4K,IACJ5K,KAAK2K,IAAL3K,CAAUrK,EAAK8U,WAAL9U,CAAiB8N,SAAjB9N,KA5bS,GA4bnBqK,IAA+D,CAHjE;AAAA,YAIM6K,IAAiB7K,KAAKnB,GAALmB,CAAS0K,CAAT1K,EAAwB4K,CAAxB5K,CAJvB;AAKA,eAAOA,KAAK2K,IAAL3K,CAAU8E,EAAK+F,CAAL/F,CAAV9E,CAAP;AAEF;;AAAA,aA5bqB,CA4brB;AA5bqB,KAwMrB,EAxMqBsE,EA+bvBwG,eA/buB,GA+bL,UAACvL,CAAD,EAACA;AACjB,aAAK4F,EAAQ5F,CAAR4F,IAAQ5F,EAGDiL,WAHCjL,EAAR4F,GACI5F,CADT;AACSA,KAzPT,EAyPSA,EAKXwL,qBALWxL,GAKa;AAEtB,UADA5J,EAAKqV,gBAALrV,GAAKqV,CAAmB,CAAxBrV,EACIA,EAAKmN,KAAT,EAAgB;AACd,YAAMmI,IAAiBtV,EAAKL,KAALK,CAAWkK,MAAXlK,IAAqBA,EAAKL,KAALK,CAAWuV,aAAvD;AAAA,YACMC,IAAgBxV,EAAKyV,IAALzV,CAAUgO,SAAVhO,EADtB;AAEAA,UAAKmN,KAALnN,CAAW0V,KAAX1V,CAAiB2V,OAAjB3V,CAAyBA,EAAKyV,IAA9BzV,EAAoC,QAApCA,GACAA,EAAKyV,IAALzV,CAAU4V,SAAV5V,CACEA,EAAKL,KAALK,CAAW6V,mBAAX7V,GAAiCsV,CAAjCtV,GAAkDwV,CADpDxV,CADAA;AAEoDwV;AAAAA,KArQtD,EAqQsDA,EAKxDM,UALwDN,GAK3C,UAACO,CAAD,EAACA;AACZA,QAAWjS,OAAXiS,CAAmB,UAACC,CAAD,EAACA;AAClBhW,UAAKiW,OAALjW,CAAagW,CAAbhW,IAA0B,MAASmN,KAAT,CAAe6I,CAAf,GAA1BhW,EACAA,EAAKiW,OAALjW,CAAagW,CAAbhW,EAAwBkW,MAAxBlW,CAA+BA,EAAKyV,IAApCzV,CADAA;AACoCyV,OAFtCM;AAEsCN,KA7QtC,EA6QsCA,EAIxCU,aAJwCV,GAIxB;AAAA,aACdjW,gBAACuC,CAADvC,EAACuC;AACCmD,sBAAclF,EAAKL,KAALK,CAAWkF,YAD1BnD;AAECW,sBAAc1C,EAAKyC,aAFpBV;AAGCe,0BAAkB9C,EAAK6C,iBAHxBd;AAICmB,2BAAmBlD,EAAK+C,kBAJzBhB;AAKCqB,2BAAmBpD,EAAKmD,kBALzBpB;AAMC4D,oBAAY3F,EAAK8U,WANlB/S;AAOCiE,0BAPDjE;AAQCwC,yBAAiBvE,EAAKL,KAALK,CAAWuE,eAR7BxC;AASC6B,0BAAkB5D,EAAKoW,iBATxBrU;AAUCE,oBAAYjC,EAAKqW;AAVlBtU,OAADvC,CADc;AAWK6W,KA5RnB,EA4RmBA,EAIrBC,QAJqBD,GAIV;AAET,WAAIrW,EAAKuW,YAAT;AAGAvW,UAAKuW,YAALvW,GAAKuW,CAAe,CAApBvW;AAEA,YAAMwW,IAAc9B,GAClB1U,EAAKL,KAALK,CAAWkK,MAAXlK,IAAqBA,EAAKL,KAALK,CAAWuV,aADdb,CAApB;AAGA1U,UAAK8U,WAAL9U,CAAiB8M,OAAjB9M,CACEwW,CADFxW,EAEEA,EAAKL,KAALK,CAAWiK,IAAXjK,IAAmBA,EAAKL,KAALK,CAAWyW,WAFhCzW,EAGE,CAHFA,GAMAA,EAAK0W,gBAAL1W,EANAA;AAQA,YAAM2H,UACA3H,EAAKL,KAALK,CAAW2I,MAAX3I,IAAqB;AAAEgB,eAAKhB,EAAKL,KAALK,CAAW2I;AAAlB,SADrBhB,EAED3H,EAAKL,KAALK,CAAW2H,gBAFVA,CAAN;AAKA3H,UAAKL,KAALK,CACG2W,eADH3W,CACmB2H,CADnB3H,EACqCA,EAAKL,KAALK,CAAW4H,cADhD5H,EAEG6I,IAFH7I,CAEQ,UAAC+I,CAAD,EAACA;AACL,cAAK/I,EAAK4W,QAAV;AAIA,gBC/iBwBC,CD+iBxB;AAAA,gBC/iBwBA,CD+iBxB;AAAA,gBAAMC,IAAe9W,EAAK8U,WAAL9U,CAAiBgO,SAAjBhO,EAArB;AAAA,gBAEM+W,IAAe;AACnB9M,oBAAMjK,EAAKL,KAALK,CAAWiK,IAAXjK,IAAmBA,EAAKL,KAALK,CAAWyW,WADjB;AAEnBvM,sBAAQ,IAAInB,EAAKK,MAAT,CAAgB0N,EAAa3S,GAA7B,EAAkC2S,EAAa1S,GAA/C;AAFW,aAFrB;AAQIpE,cAAKL,KAALK,CAAWgX,OAAXhX,CAAmBiX,SAAnBjX,KACFkB,OAAOgW,MAAPhW,CAAOgW,IAAPhW,EAAoB;AAClB8V,wBCzjBoBH,IDyjBK9N,CCzjBL8N,EDyjBK9N,IAAM/I,EAAKL,KAALK,CAAWgX,OCzjBtBH,EDyjBsBG,ICxjBhDH,EAASM,aAATN,CAAuBO,YDwjByBJ,CCxjBZ;AACtCK,wBAFwCJ,SAExCI,CAAgB/H,MAAhB+H,CAAuB,UAACC,CAAD,EAACA,CAAD,EAACA;AAAAA,4BAAiBC,MAAjBD;AAAAA,sBAAiBC,mBAAS,CAATA,GAASjY,CAA1BgY;AAKtB,yBAJAA,EAAI9S,IAAJ8S,CAAS;AACPE,8BAAU,IAAIX,EAASzN,MAAb,CAAaA,EAFIjF,GAEjB,EAFiBA,EAAKC,GAEtB,CADH;AAEPmT;AAFO,mBAATD,GAIOA,CAAP;AAAOA,iBALTD,EAMG,EANHA;AADsC,eDwjBYL,CAA1CA;AADkB,aAApB9V,GC7iBoB,UAAC2V,CAAD,EAACA,CAAD,EAACA;AAAAA,wBAAYzF,OAAZyF;AAAAA,kBAAYzF,mBAAU,EAAVA,GAAU9F,CAAtBuL;AAC7B3V,qBAAON,IAAPM,CAAYkQ,CAAZlQ,EAAqBqE,GAArBrE,CAAyB,UAACuW,CAAD,EAACA;AAAAA,uBAAWZ,EAAS1K,GAAT0K,CAAaY,CAAbZ,EAAqBzF,EAAQqG,CAARrG,CAArByF,CAAXY;AAAwCA,eAAlEvW;AD+iBQwW,aChjBoB,CDgjBL1X,EAAKgX,OChjBA,EDgjBShX,EAAKL,KAALK,CAAWgX,OChjBpB,CD4iBlBhX;;AAmBJ,gBAAM2X,IAAkBvI,EAAKrG,CAALqG,EAAWsB,CAAXtB,CAAxB;AAAA,gBACMgC,IAC0B,uBAAlBzR,KAAkB,CAAZyR,OAAY,GAC1BpR,EAAKL,KAALK,CAAWoR,OAAXpR,CAAmB2X,CAAnB3X,CAD0B,GAE1BA,EAAKL,KAALK,CAAWoR,OAJjB;AAAA,gBAOMwG,KAAoBpI,EAAQxP,EAAKL,KAALK,CAAW6X,SAAnBrI,CAApBoI,IAAqD;AACzDC,yBAAW7X,EAAKL,KAALK,CAAW6X;AADmC,aAP3D;AAAA,gBAWMjO,IAAU5J,EAAKmV,eAALnV,CAAqBoR,EAAQxH,OAA7B5J,CAXhB;;AAYAA,cAAK8X,QAAL9X,GAAgB4J,CAAhB5J;AAEA,gBAAM+X,UApiBL;AACLC,mCAAoB,CADf;AAELC,kCAAmB,CAFd;AAGLC,8BAAe,CAHV;AAILC,+BAAgB,CAJX;AAMLC,sBAAQ,CACN;AACEC,6BAAa,KADf;AAEEC,6BAAa,QAFf;AAGEC,yBAAS,CAAC;AAAEC,8BAAY;AAAd,iBAAD;AAHX,eADM,CANH;AAaL5O,uBAxBqB;AAWhB,aAoiBKmO,EA/iBW;AAijBfnO;AAjjBe,aA+iBXmO,EAGD3G,CAHC2G,EAIDhB,CAJCgB,CAAN;AAOA/X,cAAKyY,uBAALzY,GAAgCwP,EAAQuI,EAAcF,SAAtBrI,IAE5BxP,EAAKyY,uBAFuBjJ,GAC5BuI,EAAcF,SADlB7X;AAIA,gBAAM0Y,UACDX,CADCW,EAEDd,CAFCc,CAAN;AAKAA,cAAW9O,OAAX8O,GAAqB/D,GAAc+D,EAAW9O,OAAzB+K,EAAkC/K,CAAlC+K,CAArB+D;AAEA,gBAAMnT,IAAM,IAAIwD,EAAK4P,GAAT,CACVpE,EAASqE,WAATrE,CAAqBvU,EAAK6Y,aAA1BtE,CADU,EAEVmE,CAFU,CAAZ;AAKA1Y,cAAKyV,IAALzV,GAAYuF,CAAZvF,EACAA,EAAKmN,KAALnN,GAAa+I,CADb/I,EAGAA,EAAK8V,UAAL9V,CAAgBA,EAAKL,KAALK,CAAW+V,UAA3B/V,CAHAA;;AAMA,gBAAM8Y,IAAe/P,EAAKgQ,OAALhQ,CAAaiQ,KAAbjQ,CAAmB,aAAnBA,CAArB;AAAA,gBAEMkQ,IAAcH,KAAgBI,OAAOJ,EAAa,CAAbA,CAAPI,CAFpC;AAAA,gBAKMC,QALN;AAAA,gBAMMC,IAAUlY,OAAOgW,MAAPhW,CAAc,IAAI6H,EAAKsQ,WAAT,EAAdnY,EAAsC;AACpDoY;AACE,oBAAMC,IACc,sBAAXC,MAAW,GAAiBA,OAAO3a,KAAP2a,GAAO3a,IAAxB,GAAoC,QADxD;AAAA,oBAEM4a,IACc,sBAAXD,MAAW,GAAiBA,OAAO1a,MAAP0a,GAAO1a,IAAxB,GAAqC,QAHzD;AAAA,oBAKM4a,IAAM9H,SAASC,aAATD,CAAuB,KAAvBA,CALZ;;AAaA,oBAPA8H,EAAI9a,KAAJ8a,CAAU5X,eAAV4X,GAA4B,aAA5BA,EACAA,EAAI9a,KAAJ8a,CAAUva,QAAVua,GAAqB,UADrBA,EAEAA,EAAI9a,KAAJ8a,CAAU3a,IAAV2a,GAAiB,KAFjBA,EAGAA,EAAI9a,KAAJ8a,CAAU1a,GAAV0a,GAAgB,KAHhBA,EAIAA,EAAI9a,KAAJ8a,CAAU7a,KAAV6a,GAAkBH,CAJlBG,EAKAA,EAAI9a,KAAJ8a,CAAU5a,MAAV4a,GAAmBD,CALnBC,EAOIP,EAAMxZ,KAANwZ,CAAYQ,mBAAhB,EAAqC;AAAA,sBAC3BA,IAAwBR,EAAMxZ,KAANwZ,CAAxBQ,mBAD2B;AAEA,qCAAxBA,CAAwB,IACjCzY,OAAON,IAAPM,CAAYyY,CAAZzY,EAAiC4C,OAAjC5C,CAAyC,UAAC0Y,CAAD,EAACA;AACxCF,sBAAI9a,KAAJ8a,CAAUE,CAAVF,IAAsBC,EAAoBC,CAApBD,CAAtBD;AAA0CE,mBAD5C1Y,CADiC;AAOvBxB;;AAAAA,qBAAKma,QAALna,GACRoa,kBADQpa,CACWqa,WADXra,CACuBga,CADvBha,GAEdyZ,EAAMrE,WAANqE,CAAkBlM,sBAAlBkM,CACEpQ,CADFoQ,EAEEC,EAAQY,aAARZ,EAFFD,CAFczZ,EAOT4U,KASH6E,EAAM5W,QAAN4W,CAAe;AAAEC,2BAASM;AAAX,iBAAfP,CATG7E,GACHE,GACE2E,CADF3E,EAEE2E,EAAMhD,aAANgD,EAFF3E,EAGEkF,CAHFlF,EAKE;AAAA,yBAAM2E,EAAM5W,QAAN4W,CAAe;AAAEC,6BAASM;AAAX,mBAAfP,CAAN;AAAgCO,iBALlClF,CARY9U;AAasBga,eArCc;AA4CpDO;AACE,oBAAMC,IAAkBf,EAAM7W,KAAN6W,CAAYC,OAApC;AACIc,sBAAoB5F,EAApB4F,IACF3F,EAAS4F,sBAAT5F,CAAgC2F,CAAhC3F,CADE2F,EAGJf,EAAM5W,QAAN4W,CAAe;AAAEC,2BAAS;AAAX,iBAAfD,CAHIe;AAGsB,eAjDwB;AAoDpDE;AASE,oBARAjB,EAAM7Y,cAAN6Y,IACAA,EAAMzC,gBAANyC,CAAuB5T,CAAvB4T,EAA4BpQ,CAA5BoQ,EAA4BpQ,CAAOoQ,EAAMxZ,KAANwZ,CAAYkB,SAA/ClB,CADAA,EAGKA,EAAMmB,sBAANnB,KACHA,EAAMoB,kBAANpB,CAAyB;AAAE5T,wBAAF;AAAOwD,yBAAP;AAAatJ,uBAAK0Z,EAAMN;AAAxB,iBAAzBM,GACAA,EAAMmB,sBAANnB,GAAMmB,CAAyB,CAF5BnB,CAHLA,EAQIA,EAAM/Y,MAAV,EAAkB;AAChB,sBAAM8D,IAASiV,EAAMrE,WAANqE,CAAkB1L,0BAAlB0L,CACbA,EAAM/Y,MADO+Y,CAAf;AAGAA,oBAAM/Y,MAAN+Y,CAAahV,GAAbgV,GAAmBjV,EAAOC,GAA1BgV,EACAA,EAAM/Y,MAAN+Y,CAAa/U,GAAb+U,GAAmBjV,EAAOE,GAD1B+U;AAIFA;;AAAAA,kBAAMqB,iBAANrB,IAEIA,EAAM9C,kBAAN8C,KACFA,EAAM9C,kBAAN8C,CAAyBsB,IAAzBtB,CAA8B,YAA9BA,GACIA,EAAMuB,qBAANvB,IACFA,EAAM9C,kBAAN8C,CAAyBsB,IAAzBtB,CAA8B,2BAA9BA,CAHAA,CAFJA;AAKkC;AA1EgB,aAAtCjY,CANhB;;AAsFAlB,cAAK2a,QAAL3a,GAAgBoZ,CAAhBpZ,EAEAoZ,EAAQlD,MAARkD,CAAe7T,CAAf6T,CAFApZ,EAGIA,EAAKL,KAALK,CAAWgX,OAAXhX,CAAmBiX,SAAnBjX,IACFA,EAAKgX,OAALhX,CAAakW,MAAblW,CAAoBuF,CAApBvF,CAJFA,EAOIA,EAAKL,KAALK,CAAW4a,aAAX5a,IACF+I,EAAK2M,KAAL3M,CAAW8R,WAAX9R,CAAuBxD,CAAvBwD,EAA4B,aAA5BA,EAA2C;AACzCoQ,gBAAM2B,cAAN3B;AAAM2B,aADR/R,CARF/I,EAaA+I,EAAK2M,KAAL3M,CAAW8R,WAAX9R,CAAuBxD,CAAvBwD,EAA4B,cAA5BA,EAA4C;AAEtCoQ,gBAAMrE,WAANqE,CAAkBpL,OAAlBoL,OAAgC5T,EAAIwI,OAAJxI,EAAhC4T,KACGA,EAAM4B,wBAAN5B,KACHA,EAAM4B,wBAAN5B,GAAM4B,CAA2B,CAAjC5B,EACAA,EAAM6B,qBAAN7B,CAA4B5T,EAAI0E,IAAhCkP,CAFGA,GAODF,IAtrB6B,EA8qB/BE,MAYE,IAAI8B,IAAJ,EA1rB6B,CA0rBlBC,OA1rBkB,KA0rBNlb,EAAKmb,qBA1rBC,GAurBV,GAvrBU,GAmsB7BvM,EAAI;AAAA,uBACFA,EAAI;AACFuK,oBAAM7Y,cAAN6Y,IACAA,EAAMzC,gBAANyC,CAAuB5T,CAAvB4T,EAA4BpQ,CAA5BoQ,CADAA;AAC4BpQ,iBAF9B6F,CADE;AAG4B7F,eAHhC6F,CAnsB6B,IA0sB7BuK,EAAM7Y,cAAN6Y,IACAA,EAAMzC,gBAANyC,CAAuB5T,CAAvB4T,EAA4BpQ,CAA5BoQ,CA3sB6B,CA8qB/BA;AA6B8BpQ,aA/BpCA,CAbA/I,EAkDA+I,EAAK2M,KAAL3M,CAAW8R,WAAX9R,CAAuBxD,CAAvBwD,EAA4B,MAA5BA,EAAoC;AAClC,kBAAI/I,EAAKqV,gBAAT,EAA2B;AACzBrV,kBAAKob,YAALpb;;AACA,oBAAMqb,IAAcrb,EAAKmV,eAALnV,CAAqBoR,EAAQxH,OAA7B5J,CAApB;;AAEIqb,sBAAgBrb,EAAK8X,QAArBuD,KACFrb,EAAK8X,QAAL9X,GAAgBqb,CAAhBrb,EACAuF,EAAI+V,UAAJ/V,CAAe;AAAEqE,2BAASyR;AAAX,iBAAf9V,CAFE8V,GAKJrb,EAAKqV,gBAALrV,GAAKqV,CAAmB,CALpBgG;AAQFlC;;AAAAA,gBAAM4B,wBAAN5B,KACFA,EAAM4B,wBAAN5B,GAAM4B,CAA2B,CAAjC5B,EACAA,EAAMoC,mBAANpC,CAA0B5T,EAAI0E,IAA9BkP,CAFEA,GAKJA,EAAM7Y,cAAN6Y,EALIA,EAMJA,EAAMzC,gBAANyC,CAAuB5T,CAAvB4T,EAA4BpQ,CAA5BoQ,CANIA,EAQJA,EAAMqC,SAANrC,GAAkB,CARdA,EAUAA,EAAM9C,kBAAN8C,IACFA,EAAM9C,kBAAN8C,CAAyBsB,IAAzBtB,CAA8B,YAA9BA,CAXEA;AAW4B,aAxBlCpQ,CAlDA/I,EA8EA+I,EAAK2M,KAAL3M,CAAW8R,WAAX9R,CAAuBxD,CAAvBwD,EAA4B,WAA5BA,EAAyC;AAEvCoQ,gBAAMsC,WAANtC,GAAMsC,CAAc,CAApBtC;AAAoB,aAFtBpQ,CA9EA/I,EAuFA+I,EAAK2M,KAAL3M,CAAW8R,WAAX9R,CAAuBxD,CAAvBwD,EAA4B,OAA5BA,EAAqC;AACnCoQ,gBAAMsC,WAANtC,GAAMsC,CAAc,CAApBtC;AAAoB,aADtBpQ,CAvFA/I,EA2FA+I,EAAK2M,KAAL3M,CAAW8R,WAAX9R,CAAuBxD,CAAvBwD,EAA4B,UAA5BA,EAAwC;AAEtCoQ,gBAAMsC,WAANtC,GAAMsC,CAAc,CAApBtC,EACAA,EAAM/Y,MAAN+Y,GAAe,IADfA,EAEAA,EAAM9C,kBAAN8C,CAAyBsB,IAAzBtB,CAA8B,2BAA9BA,CAFAA;AAE8B,aAJhCpQ,CA3FA/I,EAkGA+I,EAAK2M,KAAL3M,CAAW8R,WAAX9R,CAAuBxD,CAAvBwD,EAA4B,MAA5BA,EAAoC;AAClCoQ,gBAAMqC,SAANrC,GAAkB,IAAI8B,IAAJ,EAAZO,CAAuBN,OAAvBM,EAANrC,EACAA,EAAMuC,OAANvC,CAAc5T,CAAd4T,CADAA;AACc5T,aAFhBwD,CAlGA/I,EAuGA+I,EAAK2M,KAAL3M,CAAW8R,WAAX9R,CAAuBxD,CAAvBwD,EAA4B,SAA5BA,EAAuC;AAGrC,kBAAM4S,IAAe5S,EAAK2M,KAAL3M,CAAW8R,WAAX9R,CAAuBxD,CAAvBwD,EAA4B,MAA5BA,EAAoC;AACvDA,kBAAK2M,KAAL3M,CAAW3D,cAAX2D,CAA0B4S,CAA1B5S,GACAoQ,EAAMyC,UAANzC,CAAiB5T,CAAjB4T,CADApQ;AACiBxD,eAFEwD,CAArB;AAEmBxD,aALrBwD,CAvGA/I,EAgHA+I,EAAK2M,KAAL3M,CAAW8R,WAAX9R,CAAuBxD,CAAvBwD,EAA4B,mBAA5BA,EAAiD;AAC/CoQ,gBAAM0C,kBAAN1C,CAAyB5T,EAAIuW,YAAJvW,EAAzB4T;AAA6B2C,aAD/B/S,CAhHA/I;AAiH+B8b;AAAAA,SApRnC9b,EAoRmC8b,KApRnC9b,CAuRS,UAACsJ,CAAD,EAACA;AAQN,gBANAtJ,EAAKua,kBAALva,CAAwB;AACtBuF,iBAAK,IADiB;AAEtBwD,kBAAM,IAFgB;AAGtBtJ,iBAAKO,EAAK6Y;AAHY,WAAxB7Y,GAKA+H,QAAQO,KAARP,CAAcuB,CAAdvB,CALA/H,EAMMsJ,CAAN;AAAMA,SA/RVtJ;AA+RUsJ;AAAAA,KAtlBV,EAslBUA,EAIZiR,kBAJYjR,GAIS;AAAA;AACftJ,QAAKL,KAALK,CAAW+b,iBAAX/b,KAEyB,iBAAzBiI,QAAQC,GAARD,CAAYE,QAAa,IAAbA,CACsC,CADtCA,KACZnI,EAAKL,KAALK,CAAWgc,kCADc,IAGzBjU,QAAQC,IAARD,CACE,iLADFA,CAHyB,EAIvB,OAQCpI,KARD,EAQOoc,iBARP,CAQOA,KARP,CAQOA,CARP,EAQOA,SARP,CANF/b;AAcS+b,KAzmBb,EAymBaA,EAIf3F,iBAJe2F,GAIK;AAAA,eAAWpc,KAAX,CAAiBgE,aAAjB;AAAiBA,KA7mBnC,EA6mBmCA,EAErC+X,OAFqC/X,GAE3B;AAAA;AAAA,eAAkBhE,KAAlB,CAAwBsc,MAAxB,IAAwBA,OAAetc,KAAfsc,EAAqBA,MAArBA,CAAqBA,KAArBA,CAAqBA,CAArBA,EAAqBA,SAArBA,CAAxB;AAA6CA,KA/mBrD,EA+mBqDA,EAEvDL,UAFuDK,GAE1C;AAAA;AAAA,eACNtc,KADM,CACAuc,SADA,IACAA,OAAkBvc,KAAlBuc,EAAwBA,SAAxBA,CAAwBA,KAAxBA,CAAwBA,CAAxBA,EAAwBA,SAAxBA,CADA;AACwBA,KAlnBnC,EAknBmCA,EAErCL,kBAFqCK,GAEhB;AAAA;AAAA,eACdvc,KADc,CACRwc,iBADQ,IACRA,OAA0Bxc,KAA1Bwc,EAAgCA,iBAAhCA,CAAgCA,KAAhCA,CAAgCA,CAAhCA,EAAgCA,SAAhCA,CADQ;AACwBA,KArnB3C,EAqnB2CA,EAE7CnB,qBAF6CmB,GAErB;AAAA;AAAA,eACjBxc,KADiB,CACXyc,oBADW,IACXA,OAA6Bzc,KAA7Byc,EAAmCA,oBAAnCA,CAAmCA,KAAnCA,CAAmCA,CAAnCA,EAAmCA,SAAnCA,CADW;AACwBA,KAxnB9C,EAwnB8CA,EAEhDb,mBAFgDa,GAE1B;AAAA;AAAA,eACfzc,KADe,CACT0c,kBADS,IACTA,OAA2B1c,KAA3B0c,EAAiCA,kBAAjCA,CAAiCA,KAAjCA,CAAiCA,CAAjCA,EAAiCA,SAAjCA,CADS;AACwBA,KA3nB5C,EA2nB4CA,EAE9CvB,cAF8CuB,GAE7B;AAAA,eAAW1c,KAAX,CAAiBib,aAAjB,IAAkC5a,EAAKL,KAALK,CAAW4a,aAAX5a,EAAlC;AAA6C4a,KA7nB5D,EA6nB4DA,EAE9DnY,aAF8DmY,GAE9C;AAAA;AACd,UAAI5a,EAAKL,KAALK,CAAW0C,YAAf,EACE,cAAY/C,KAAZ,EAAkB+C,YAAlB,CAAkBA,KAAlB,CAAkBA,CAAlB,EAAkBA,SAAlB;AAAkBA,KAjoBpB,EAioBoBA,EAKtBG,iBALsBH,GAKF,UAACM,CAAD,EAAWC,CAAX,EAAWA;AAC7BjD,QAAKsc,mBAALtc,GAA2B,CAACgD,CAAD,EAAWC,CAAX,CAA3BjD,EACIA,EAAKL,KAALK,CAAW8C,gBAAX9C,IACFA,EAAKL,KAALK,CAAW8C,gBAAX9C,CAA4BgD,CAA5BhD,EAAsCiD,CAAtCjD,EAAsCiD,MAAiBjD,EAAKI,MAAtB6C,CAAtCjD,CAFFA;AAE8DI,KAzoB9D,EAyoB8DA,EAKhEmc,eALgEnc,GAK9C;AAAA;AACZJ,QAAKsc,mBAALtc,KACEA,EAAKL,KAALK,CAAWwc,cAAXxc,IAAWwc,OACR7c,KADQ6c,EACFA,cADEA,CACFA,KADEA,CACFA,CADEA,EACgBxc,EAAKsc,mBAALtc,CAAKsc,MAALtc,CAAKsc,OAC7Btc,EAAKI,MADwBkc,EAALtc,CADhBwc,CAAXxc,EAKJA,EAAKsc,mBAALtc,GAA2B,IALvBA,EAMJA,EAAKyc,iBAALzc,GAAyB,IAAIib,IAAJ,EAApBwB,CAA+BvB,OAA/BuB,EAPHzc;AAOkCkb,KAtpBtC,EAspBsCA,EAKxCV,iBALwCU,GAKpB;AAAA;AACdlb,QAAKsc,mBAALtc,IACEA,EAAKL,KAALK,CAAW0c,gBADb1c,IACa0c,OACR/c,KADQ+c,EACFA,gBADEA,CACFA,KADEA,CACFA,CADEA,EACkB1c,EAAKsc,mBAALtc,CAAKsc,MAALtc,CAAKsc,OAC/Btc,EAAKI,MAD0Bkc,EAALtc,CADlB0c,CADb1c;AAGUI,KA/pBd,EA+pBcA,EAMhB2C,kBANgB3C,GAMK;AAAA;AACnB,UAAIJ,EAAKL,KAALK,CAAWkD,iBAAf,EACE,cAAYvD,KAAZ,EAAkBuD,iBAAlB,CAAkBA,KAAlB,CAAkBA,CAAlB,EAAkBA,SAAlB;AAAkBA,KAvqBpB,EAuqBoBA,EAKtBC,kBALsBD,GAKD;AAAA;AACnB,UAAIlD,EAAKL,KAALK,CAAWoD,iBAAf,EACE,cAAYzD,KAAZ,EAAkByD,iBAAlB,CAAkBA,KAAlB,CAAkBA,CAAlB,EAAkBA,SAAlB;AAAkBA,KA9qBpB,EA8qBoBA,EAKtBgY,YALsBhY,GAKP;AACb,UAAKpD,EAAK4W,QAAV;AACA,YA10BFhF,SAAS+K,UAAT/K,IACAA,SAASgL,kBADThL,IAEAA,SAASiL,aAFTjL,IAGAA,SAASkL,mBAu0BP,EACE9c,EAAK8U,WAAL9U,CAAiBgN,WAAjBhN,CAA6BwI,OAAOuU,UAApC/c,EAAgDwI,OAAOwU,WAAvDhd,EADF,KAEO;AACL,cAAMid,IAAS1I,EAASqE,WAATrE,CAAqBvU,EAAK6Y,aAA1BtE,CAAf;AACAvU,YAAK8U,WAAL9U,CAAiBgN,WAAjBhN,CAA6Bid,EAAOC,WAApCld,EAAiDid,EAAOE,YAAxDnd;AAEFA;;AAAAA,UAAK0W,gBAAL1W;AAAK0W;AAAAA,KA3rBL,EA2rBKA,EAGP0G,eAHO1G,GAGW;AAChB1W,QAAKqV,gBAALrV,GAAKqV,CAAmB,CAAxBrV;AAAwB,KA/rBxB,EA+rBwB2O,EAG1B0O,eAH0B,GAGR,UAAC/T,CAAD,EAACA;AACjB,UAAKtJ,EAAKyb,WAAV;AAEA,YAAM6B,IAAW,IAAIrC,IAAJ,EAAXqC,CAAsBpC,OAAtBoC,EAAN;AAGIA,YAAWtd,EAAKud,cAAhBD,GAF4B,EAE5BA,KACFtd,EAAKwd,aAALxd,GAAqBsJ,EAAEmU,aAAFnU,CAAgBoU,qBAAhBpU,EADnBgU,GAGJtd,EAAKud,cAALvd,GAAsBsd,CAHlBA;AAKJ,YAAMK,IAAYrU,EAAEsU,OAAFtU,GAAYtJ,EAAKwd,aAALxd,CAAmBjB,IAAjD;AAAA,YACM8e,IAAYvU,EAAEwU,OAAFxU,GAAYtJ,EAAKwd,aAALxd,CAAmBhB,GADjD;AAGKgB,UAAKI,MAALJ,KACHA,EAAKI,MAALJ,GAAc;AAAEqB,aAAG,CAAL;AAAQC,aAAG,CAAX;AAAc6C,eAAK,CAAnB;AAAsBC,eAAK;AAA3B,SADXpE,GAILA,EAAKI,MAALJ,CAAYqB,CAAZrB,GAAgB2d,CAJX3d,EAKLA,EAAKI,MAALJ,CAAYsB,CAAZtB,GAAgB6d,CALX7d;AAOL,YAAMkE,IAASlE,EAAK8U,WAAL9U,CAAiByN,0BAAjBzN,CAA4CA,EAAKI,MAAjDJ,CAAf;AACAA,UAAKI,MAALJ,CAAYmE,GAAZnE,GAAkBkE,EAAOC,GAAzBnE,EACAA,EAAKI,MAALJ,CAAYoE,GAAZpE,GAAkBkE,EAAOE,GADzBpE,EAGAA,EAAKwa,iBAALxa,EAHAA,EAKIsd,IAAWtd,EAAKwb,SAAhB8B,GAv6Be,GAu6BfA,GACFtd,EAAK0a,qBAAL1a,GAAK0a,CAAwB,CAD3B4C,IAGFtd,EAAKqW,kBAALrW,CAAwBya,IAAxBza,CAA6B,2BAA7BA,GACAA,EAAK0a,qBAAL1a,GAAK0a,CAAwB,CAJ3B4C,CALJtd;AAS+B;AAAA,KAjuB/B,EAiuB+B2O,EAKjCoP,QALiC,GAKtB;AAAA;AAAA,eACJpe,KADI,CACEqe,OADF,IACEA,CACVhe,EAAKsc,mBAFG,IAGT,IAAIrB,IAAJ,EADMqB,CACKpB,OADLoB,KACiBtc,EAAKyc,iBADtBH,GAj7BmB,GA+6BhB,IAIU,MAAnBtc,EAAKwb,SAJI,IAIJA,OACA7b,KADA6b,EACMwC,OADNxC,CACMwC,KADNxC,CACMwC,CADNxC,EACMwC,SADNxC,CAJI;AAKEwC,KA3uBX,EA2uBWA,EAEbC,WAFaD,GAEC,UAACtI,CAAD,EAACA;AACT1V,QAAKqW,kBAALrW,KAEFA,EAAKqd,eAALrd,CAAqB0V,CAArB1V,GACiB,IAAIib,IAAJ,EADIvF,CACOwF,OADPxF,KAEN1V,EAAKwb,SAFC9F,GA17BJ,GA07BIA,KAGf1V,EAAKI,MAALJ,IACFA,EAAK+d,QAAL/d,CAAK+d,MACA/d,EAAKI,MADL2d,EACK3d;AACRsV;AADQtV,OADL2d,CAAL/d,CADEA,EAOJA,EAAKqW,kBAALrW,CAAwBya,IAAxBza,CAA6B,WAA7BA,EAA0C0V,CAA1C1V,CAVmB0V,CAFnB1V;AAY0C0V,KA1vB9C,EA0vB8CA,EAOhDwI,qBAPgDxI,GAOxB,UAACA,CAAD,EAACA;AAClB1V,QAAKyb,WAALzb,IAELA,EAAKme,eAALne,CAAqB0V,CAArB1V,CAFKA;AAEgB0V,KApwBrB,EAowBqBA,EAGvByI,eAHuBzI,GAGL,UAACA,CAAD,EAACA;AACb1V,QAAKqW,kBAALrW,IACe,IAAIib,IAAJ,EADV5E,CACqB6E,OADrB7E,KAEQrW,EAAKwb,SAFbnF,GAl9BU,GAk9BfrW,KAKAA,EAAKqd,eAALrd,CAAqB0V,CAArB1V,GACAA,EAAKqW,kBAALrW,CAAwBya,IAAxBza,CAA6B,WAA7BA,EAA0C0V,CAA1C1V,CANAA;AAM0C0V,KA9wB9C,EA8wB8CA,EAKhD0I,sBALgD1I,GAKvB;AACnB3F,UAAgBO,QAAhBP,KAEF/P,EAAKmb,qBAALnb,GAA6B,IAAIib,IAAJ,EAAxBE,CAAmCD,OAAnCC,EAFHpL;AAEsCmL,KAtxB1C,EAsxB0CA,EAI5CmD,iBAJ4CnD,GAIxB;AACdnL,UAAgBO,QAAhBP,KACF/P,EAAKmb,qBAALnb,GAA6B,IAAIib,IAAJ,EAAxBE,CAAmCD,OAAnCC,EADHpL;AACsCmL,KA5xB1C,EA4xB0CA,EAI5CoD,gBAJ4CpD,GAIzB,UAAChR,CAAD,EAACA;AAAAA,aAClBA,MACEwG,EAAcxG,CAAdwG,KAAyBd,EAAS1F,EAAO/F,GAAhByL,CAAzBc,IAAiDd,EAAS1F,EAAO9F,GAAhBwL,CAAjDc,IACmB,MAAlBxG,EAAOnJ,MAAW,IAAK6O,EAAS1F,EAAO,CAAPA,CAAT0F,CAAL,IAA4BA,EAAS1F,EAAO,CAAPA,CAAT0F,CAFjD1F,CADkBA;AAG+C,KAnyBjE,EAmyBiEyE,EAEnE+H,gBAFmE,GAEhD,UAACnR,CAAD,EAAMwD,CAAN,EAAYwV,CAAZ,EAAYA;AAC7B,UAAIhZ,CAAJ,EAAS;AACP,YAAMiZ,IAAMjZ,EAAIyI,SAAJzI,EAAZ;AACAvF,UAAK8U,WAAL9U,CAAiB8M,OAAjB9M,CAAyB,CAACwe,EAAIra,GAAJqa,EAAD,EAAYA,EAAIpa,GAAJoa,EAAZ,CAAzBxe,EAAiDuF,EAAIwI,OAAJxI,EAAjDvF,EAAgE,CAAhEA;AAGF;;AAAA,WACGA,EAAKL,KAALK,CAAWye,QAAXze,IAAuBA,EAAKL,KAALK,CAAW0e,cADrC,KAEE1e,EAAK8U,WAAL9U,CAAiBqN,UAAjBrN,EAFF,EAGE;AACA,YAAMiK,IAAOjK,EAAK8U,WAAL9U,CAAiB+N,OAAjB/N,EAAb;AAAA,YACM2e,IAAS3e,EAAK8U,WAAL9U,CAAiBiO,SAAjBjO,EADf;AAAA,YAEM8W,IAAe9W,EAAK8U,WAAL9U,CAAiBgO,SAAjBhO,EAFrB;;AAIA,uBEpiCmC4e,CFoiCnC,EEpiC2CC,CFoiC3C,EEpiCmDC,CFoiCnD,EEpiCmDA;AACvD,cAAIF,KAAUC,CAAd,EAAsB;AACpB,iBAAK,IAAI/d,IAAI,CAAb,EAAgBA,MAAM8d,EAAO7d,MAA7B,EAA6BA,EAAUD,CAAvC,EACE,IAAIuJ,KAAK0U,GAAL1U,CAASuU,EAAO9d,CAAP8d,IAAYC,EAAO/d,CAAP+d,CAArBxU,IFiCG,IEjCP,EACE;;AAGJ;AAEF;;AAAA;AF2hCS2U,SAAL,CAAsBL,CAAtB,EAA8B3e,EAAKif,WAAnC,KAAmCA,CACL,CADKA,KAC7BV,CADN,EACqC;AACjC,cAAMW,IAAelf,EAAK8U,WAAL9U,CAAiBiO,SAAjBjO,CAA2BA,EAAKL,KAALK,CAAWf,MAAtCe,CAArB;AACIA,YAAKL,KAALK,CAAW0e,cAAX1e,IACFA,EAAKL,KAALK,CAAW0e,cAAX1e,CACEA,EAAKmf,eAALnf,GAAKmf,MACIrI,CADJqI,CAALnf,GAEI,CAAC8W,EAAa3S,GAAd,EAAmB2S,EAAa1S,GAAhC,CAHNpE,EAIEiK,CAJFjK,EAKE2e,CALF3e,EAMEkf,CANFlf,CADEA,EAWAA,EAAKL,KAALK,CAAWye,QAAXze,IACFA,EAAKL,KAALK,CAAWye,QAAXze,CAAoB;AAClBkK,0BAAa4M,CAAb5M,CADkB;AAElBD,mBAFkB;AAGlB0U,oBAAQ;AACNS,kBAAI;AACFjb,qBAAKwa,EAAO,CAAPA,CADH;AAEFva,qBAAKua,EAAO,CAAPA;AAFH,eADE;AAKNU,kBAAI;AACFlb,qBAAKwa,EAAO,CAAPA,CADH;AAEFva,qBAAKua,EAAO,CAAPA;AAFH,eALE;AASNW,kBAAI;AACFnb,qBAAKwa,EAAO,CAAPA,CADH;AAEFva,qBAAKua,EAAO,CAAPA;AAFH,eATE;AAaNY,kBAAI;AACFpb,qBAAKwa,EAAO,CAAPA,CADH;AAEFva,qBAAKua,EAAO,CAAPA;AAFH;AAbE,aAHU;AAqBlBO,0BAAc;AACZE,kBAAI;AACFjb,qBAAK+a,EAAa,CAAbA,CADH;AAEF9a,qBAAK8a,EAAa,CAAbA;AAFH,eADQ;AAKZG,kBAAI;AACFlb,qBAAK+a,EAAa,CAAbA,CADH;AAEF9a,qBAAK8a,EAAa,CAAbA;AAFH,eALQ;AASZI,kBAAI;AACFnb,qBAAK+a,EAAa,CAAbA,CADH;AAEF9a,qBAAK8a,EAAa,CAAbA;AAFH,eATQ;AAaZK,kBAAI;AACFpb,qBAAK+a,EAAa,CAAbA,CADH;AAEF9a,qBAAK8a,EAAa,CAAbA;AAFH;AAbQ,aArBI;AAwClBM,kBAAMxf,EAAK8U,WAAL9U,CAAiBsN,OAAjBtN,KACF;AACEnB,qBAAOmB,EAAK8U,WAAL9U,CAAiB6N,QAAjB7N,EADT;AAEElB,sBAAQkB,EAAK8U,WAAL9U,CAAiB8N,SAAjB9N;AAFV,aADEA,GAKF;AACEnB,qBAAO,CADT;AAEEC,sBAAQ;AAFV;AA7Cc,WAApBkB,CAZEA,EAgEJA,EAAKif,WAALjf,GAAmB2e,CAhEf3e;AAgEe2e;AAAAA;AAAAA,KAt3BzB,EAs3ByBA,EAM3Bc,cAN2Bd,GAMV,UAAClf,CAAD,EAACA;AAChBO,QAAK6Y,aAAL7Y,GAAqBP,CAArBO;AAAqBP,KA73BrB,EAhEAO,EAAK4W,QAAL5W,GAAK4W,CAAW,CAgEhB,EA/DA5W,EAAKuW,YAALvW,GAAKuW,CAAe,CA+DpB,EA9DAvW,EAAKsa,sBAALta,GAAKsa,CAAyB,CA8D9B,EA5DAta,EAAKyV,IAALzV,GAAY,IA4DZ,EA3DAA,EAAKmN,KAALnN,GAAa,IA2Db,EA1DAA,EAAKif,WAALjf,GAAmB,IA0DnB,EAzDAA,EAAKgX,OAALhX,GAAe,IAyDf,EAvDAA,EAAKiW,OAALjW,GAAe,EAuDf,EArDAA,EAAKI,MAALJ,GAAc,IAqDd,EApDAA,EAAKud,cAALvd,GAAsB,CAoDtB,EAnDAA,EAAKwd,aAALxd,GAAqB,IAmDrB,EAlDAA,EAAKyb,WAALzb,GAAKyb,CAAc,CAkDnB,EAhDAzb,EAAKwb,SAALxb,GAAiB,CAgDjB,EA/CAA,EAAK0a,qBAAL1a,GAAK0a,CAAwB,CA+C7B,EA9CA1a,EAAKM,cAALN,GAAsB,CA8CtB,EA5CAA,EAAKqW,kBAALrW,GAA0B,IAAIF,CAAJ,CAAIA,IAAJ,CA4C1B,EA3CAE,EAAK8U,WAAL9U,GAAmB,IAAI0M,CAAJ,CAjKI,GAiKJ,CA2CnB,EA1CA1M,EAAKmf,eAALnf,GAAuB0Q,EAAc1Q,EAAKL,KAALK,CAAWkK,MAAzBwG,CA0CvB,EAxCA1Q,EAAK8X,QAAL9X,GAhKqB,CAwMrB,EAvCAA,EAAKyY,uBAALzY,GAAKyY,CAA0B,CAuC/B,EArCAzY,EAAKmb,qBAALnb,GAA6B,CAqC7B,EAnCAA,EAAKsc,mBAALtc,GAA2B,IAmC3B,EAlCAA,EAAKyc,iBAALzc,GAAyB,CAkCzB,EAhCAA,EAAK6Y,aAAL7Y,GAAqB,IAgCrB,EA9B6B,iBAAzBiI,QAAQC,GAARD,CAAYE,QAAa,KACvBnI,EAAKL,KAALK,CAAW2I,MAAX3I,IACF+H,QAAQC,IAARD,CACE,sFADFA,CADE/H,EAQAA,EAAKL,KAALK,CAAW0e,cAAX1e,IACF+H,QAAQC,IAARD,CACE,kGADFA,CATE/H,EAgBAwP,EAAQxP,EAAKL,KAALK,CAAWkK,MAAnBsF,KAA8BA,EAAQxP,EAAKL,KAALK,CAAWuV,aAAnB/F,CAA9BA,IACFzH,QAAQC,IAARD,CACE,6DADFA,CAjBE/H,EAsBAwP,EAAQxP,EAAKL,KAALK,CAAWiK,IAAnBuF,KAA4BA,EAAQxP,EAAKL,KAALK,CAAWyW,WAAnBjH,CAA5BA,IACFzH,QAAQC,IAARD,CACE,yDADFA,CAxByB,CA8B7B,EAAI/H,EAAKse,gBAALte,CAAsBA,EAAKL,KAALK,CAAWkK,MAAXlK,IAAqBA,EAAKL,KAALK,CAAWuV,aAAtDvV,CAAJ,EAA0E;AACxE,UAAMwW,IAAc9B,GAClB1U,EAAKL,KAALK,CAAWkK,MAAXlK,IAAqBA,EAAKL,KAALK,CAAWuV,aADdb,CAApB;AAGA1U,QAAK8U,WAAL9U,CAAiB8M,OAAjB9M,CACEwW,CADFxW,EAEEA,EAAKL,KAALK,CAAWiK,IAAXjK,IAAmBA,EAAKL,KAALK,CAAWyW,WAFhCzW,EAGE,CAHFA;AAtEe;;AAAA,WA6EjBA,EAAK+a,wBAAL/a,GAAK+a,CAA2B,CAAhC/a,EAEAA,EAAKsC,KAALtC,GAAa;AACXoZ,eAAS;AADE,KAFbpZ,EAGW2O,CAhFM;AAgFN;;AAAA9J;AAAA;AAAA,WAIbC,iBAJa,GAIb;AAAA;AACEpF,SAAKkX,QAALlX,GAAKkX,CAAW,CAAhBlX,EACAoR,EAAwBtI,MAAxBsI,EAAgC,QAAhCA,EAA0CpR,KAAK0d,eAA/CtM,EAA+CsM,CAAiB,CAAhEtM,CADApR,EAEAoR,EAAwBtI,MAAxBsI,EAAgC,SAAhCA,EAA2CpR,KAAK2e,iBAAhDvN,EAAgDuN,CAAmB,CAAnEvN,CAFApR;AAGA,QAAMud,IAAS1I,EAASqE,WAATrE,CAAqB7U,KAAKmZ,aAA1BtE,CAAf;AAII0I,SACFnM,EACEmM,CADFnM,EAEE,WAFFA,EAGEpR,KAAKwe,qBAHPpN,EAGOoN,CACL,CAJFpN,CADEmM,EASJnM,EAAwBtI,MAAxBsI,EAAgC,SAAhCA,EAA2CpR,KAAK6c,eAAhDzL,EAAgDyL,CAAiB,CAAjEzL,CATImM;AAUJ,QAAMtV,UACAjI,KAAKC,KAALD,CAAWiJ,MAAXjJ,IAAqB;AAAEsB,WAAKtB,KAAKC,KAALD,CAAWiJ;AAAlB,KADrBhB,EAEDjI,KAAKC,KAALD,CAAWiI,gBAFVA,CAAN;AAKAjI,SAAKC,KAALD,CAAWiX,eAAXjX,CAA2BiI,CAA3BjI,EAA6CA,KAAKC,KAALD,CAAWkI,cAAxDlI,GAEAwP,WACE;AAEExJ,QAAK0V,YAAL1V,IAEEA,EAAK4Y,gBAAL5Y,CAAsBA,EAAK/F,KAAL+F,CAAWwE,MAAXxE,IAAqBA,EAAK/F,KAAL+F,CAAW6P,aAAtD7P,KAEAA,EAAK4Q,QAAL5Q,EAJFA;AAIO4Q,KAPXpH,EAUE,CAVFA,EAWExP,IAXFwP,CAFAxP,EAeIA,KAAKC,KAALD,CAAWmW,mBAAXnW,IDhJgB,UAAUqR,CAAV,EAAmB1B,CAAnB,EAAmBA;AACzC,eAA2BpL,CAA3B,KAAI8M,EAAQ2O,UAAZ,EAAsC;AACpC,YAAIC,IAAgB/N,SAASC,aAATD,CAAuB,KAAvBA,CAApB;AACAb,UAAQ2O,UAAR3O,GAAqB4O,CAArB5O;AAEFA;;AAAAA,UAAUA,EAAQ2O,UAAlB3O,EACIiB,IACFjB,EAAQiB,WAARjB,CAAoB,UAApBA,EAAgC1B,CAAhC0B,CADEiB,IAGGjB,EAAQ4B,kBAAR5B,KACuC,YAAtC6O,iBAAiB7O,CAAjB6O,EAA0BzgB,QAAY,KACxC4R,EAAQnS,KAARmS,CAAc5R,QAAd4R,GAAyB,UADe,GAjC7B;AACjB,aAAKkB,CAAL,EAAoB;AAElB,cAAI4N,KAAOzL,MAA0C,EAAjDyL,IACF,qBADEA,IAEDxL,MAAkC,EAFjCwL,IAAM,+UAAV;AAAA,cAKEC,IAAOlO,SAASkO,IAATlO,IAAiBA,SAASmO,oBAATnO,CAA8B,MAA9BA,EAAsC,CAAtCA,CAL1B;AAAA,cAMEhT,IAAQgT,SAASC,aAATD,CAAuB,OAAvBA,CANV;AAQAhT,YAAMohB,IAANphB,GAAa,UAAbA,EACIA,EAAMqhB,UAANrhB,GACFA,EAAMqhB,UAANrhB,CAAiBshB,OAAjBthB,GAA2BihB,CADzBjhB,GAGFA,EAAMmb,WAANnb,CAAkBgT,SAASuO,cAATvO,CAAwBiO,CAAxBjO,CAAlBhT,CAJFA,EAOAkhB,EAAK/F,WAAL+F,CAAiBlhB,CAAjBkhB,CAPAlhB,EAQAqT,KAAgB,CARhBrT;AAQgB;AAgBdwhB,OAnCa,EAiC6B,EAG1CrP,EAAQ0C,cAAR1C,GAAyB,EAHiB,EAI1CA,EAAQ2C,mBAAR3C,GAA8B,EAJY,EAIZ,CAC7BA,EAAQ4B,kBAAR5B,GAA6Ba,SAASC,aAATD,CAC5B,KAD4BA,CADA,EAG3BlL,SAH2B,GAGf,iBAP2B,EAQ1CqK,EAAQ4B,kBAAR5B,CAA2BsP,SAA3BtP,GAAuC,mFARG,EAU1CA,EAAQgJ,WAARhJ,CAAoBA,EAAQ4B,kBAA5B5B,CAV0C,EAW1C0B,EAAc1B,CAAd0B,CAX0C,EAa1C3B,EAAwBC,CAAxBD,EAAiC,QAAjCA,EAA2CyC,CAA3CzC,EAA2CyC,CAAgB,CAA3DzC,CAb0C,EAgB1C+C,KACE9C,EAAQ4B,kBAAR5B,CAA2BG,gBAA3BH,CACE8C,CADF9C,EAEE,UAAUzH,CAAV,EAAUA;AACJA,UAAE4K,aAAF5K,IAAmB4K,EAAnB5K,IAAkCmJ,EAAc1B,CAAd0B,CAAlCnJ;AAAgDyH,OAHxDA,CAlBCA,GAyBLA,EAAQ2C,mBAAR3C,CAA4BvM,IAA5BuM,CAAiC1B,CAAjC0B,CA5BEiB,CADJjB;AC6IIuP,KDlJkB,CCkJArD,CDlJA,ECiJLvd,KACkB0V,qBDlJb,CCiIpB1V;AAiBiC0V,GA5CtB,EA4CsBA,EAInC/V,qBAJmC+V,GAInC,UAAsBpQ,CAAtB,EAAiCC,CAAjC,EAAiCA;AAE/B,YACG1D,EACCb,EAAKhB,KAAKC,KAAVe,EAAiB,CAAC,WAAD,CAAjBA,CADDa,EAECb,EAAKsE,CAALtE,EAAgB,CAAC,WAAD,CAAhBA,CAFDa,CADH,IAGqB,CACbA,EAAa7B,KAAK4C,KAAlBf,EAAyB0D,CAAzB1D,CAJR;AAIiC0D,GAtDtB,EAsDsBA,EAInCsb,kBAJmCtb,GAInC,UAAmBub,CAAnB,EAAmBA;AAAAA;;AAsBjB,QArB6B,iBAAzBvY,QAAQC,GAARD,CAAYE,QAAa,KACtB5G,EAAaif,EAAUjL,aAAvBhU,EAAsC7B,KAAKC,KAALD,CAAW6V,aAAjDhU,KACHwG,QAAQC,IAARD,CACE,wEADFA,CADGxG,EAMAA,EAAaif,EAAU/J,WAAvBlV,EAAoC7B,KAAKC,KAALD,CAAW+W,WAA/ClV,KACHwG,QAAQC,IAARD,CACE,sEADFA,CARyB,GASvB,CAMHrI,KAAK4e,gBAAL5e,CAAsB8gB,EAAUtW,MAAhCxK,CANG,IAOJA,KAAK4e,gBAAL5e,CAAsBA,KAAKC,KAALD,CAAWwK,MAAjCxK,CAPI,IASJwP,WAAW;AAAA,aAAMuR,EAAKnK,QAALmK,EAAN;AAAWnK,KAAtBpH,EAAkC,CAAlCA,CAlB2B,EAqBzBxP,KAAK+V,IAAT,EAAe;AACb,UAAMqB,IAAepX,KAAKoV,WAALpV,CAAiBsO,SAAjBtO,EAArB;;AACA,UAAIA,KAAK4e,gBAAL5e,CAAsBA,KAAKC,KAALD,CAAWwK,MAAjCxK,CAAJ,EAA8C;AAC5C,YAAM8V,IAAgBd,GAAWhV,KAAKC,KAALD,CAAWwK,MAAtBwK,CAAtB;AAAA,YACMgM,IAAahhB,KAAK4e,gBAAL5e,CAAsB8gB,EAAUtW,MAAhCxK,IACfgV,GAAW8L,EAAUtW,MAArBwK,CADehV,GAEf,IAHJ;AAGI,UAGDghB,CAHC,IAIFrW,KAAK0U,GAAL1U,CAASmL,EAAcrR,GAAdqR,GAAoBkL,EAAWvc,GAAxCkG,IACEA,KAAK0U,GAAL1U,CAASmL,EAAcpR,GAAdoR,GAAoBkL,EAAWtc,GAAxCiG,CADFA,GArTG,IAiTD,KASAA,KAAK0U,GAAL1U,CAASmL,EAAcrR,GAAdqR,GAAoBsB,EAAa3S,GAA1CkG,IACEA,KAAK0U,GAAL1U,CAASmL,EAAcpR,GAAdoR,GAAoBsB,EAAa1S,GAA1CiG,CADFA,GA1TC,IAiTD,IAaA3K,KAAK+V,IAAL/V,CAAUihB,KAAVjhB,CAAgB;AACdyE,eAAKqR,EAAcrR,GADL;AAEdC,eAAKoR,EAAcpR;AAFL,SAAhB1E,CAbA;AAqCN;;AAAA,UAhBK8P,EAAQ9P,KAAKC,KAALD,CAAWuK,IAAnBuF,KAECnF,KAAK0U,GAAL1U,CAAS3K,KAAKC,KAALD,CAAWuK,IAAXvK,GAAkB8gB,EAAUvW,IAArCI,IAA6C,CAA7CA,IACF3K,KAAK+V,IAAL/V,CAAUkhB,OAAVlhB,CAAkBA,KAAKC,KAALD,CAAWuK,IAA7BvK,CAHC8P,EAG4BvF,CAI5BuF,EAAQgR,EAAU3I,SAAlBrI,CAJ4BvF,IAIIuF,EAAQ9P,KAAKC,KAALD,CAAWmY,SAAnBrI,CAJJvF,GAM/BvK,KAAK+V,IAAL/V,CAAU4b,UAAV5b,CAAqB;AAAEmY,mBAAWnY,KAAK+Y;AAAlB,OAArB/Y,CAN+BuK,GAOrB1I,EAAaif,EAAU3I,SAAvBtW,EAAkC7B,KAAKC,KAALD,CAAWmY,SAA7CtW,KAEV7B,KAAK+V,IAAL/V,CAAU4b,UAAV5b,CAAqB;AAAEmY,mBAAWnY,KAAKC,KAALD,CAAWmY;AAAxB,OAArBnY,CAZG8P,EAY0CqI,CAK5CrI,EAAQ9P,KAAKC,KAALD,CAAW0R,OAAnB5B,CAL4CqI,IAKzBzG,CACnB7P,EAAaif,EAAUpP,OAAvB7P,EAAgC7B,KAAKC,KAALD,CAAW0R,OAA3C7P,CAFH,EAGE;AACA,YAAMoW,IAAkBvI,EAAK1P,KAAKyN,KAAViC,EAAiBsB,CAAjBtB,CAAxB;AAAA,YACIgC,IAC4B,0BAAlBzR,KAAkB,CAAZyR,OAAY,GAC1B1R,KAAKC,KAALD,CAAW0R,OAAX1R,CAAmBiY,CAAnBjY,CAD0B,GAE1BA,KAAKC,KAALD,CAAW0R,OAJjB;;AAQA,YAAI,cAFJA,IAAU1Q,EAAK0Q,CAAL1Q,EAAc,CAAC,MAAD,EAAS,QAAT,EAAmB,WAAnB,CAAdA,CAEN,CAAJ,EAA0B;AACxB,cAAMkJ,IAAUlK,KAAKyV,eAALzV,CAAqB0R,EAAQxH,OAA7BlK,CAAhB;;AACA0R,YAAQxH,OAARwH,GAAkBuD,GAAcvD,EAAQxH,OAAtB+K,EAA+B/K,CAA/B+K,CAAlBvD;AAGF1R;;AAAAA,aAAK+V,IAAL/V,CAAU4b,UAAV5b,CAAqB0R,CAArB1R;AAGG6B;;AAAAA,QAAa7B,KAAKC,KAALD,CAAWqW,UAAxBxU,EAAoCif,EAAUzK,UAA9CxU,MACHL,OAAON,IAAPM,CAAYxB,KAAKuW,OAAjB/U,EAA0B4C,OAA1B5C,CAAkC,UAAC2f,CAAD,EAACA;AACjCJ,UAAKxK,OAALwK,CAAaI,CAAbJ,EAAuBvK,MAAvBuK,CAA8B,IAA9BA,GAA8B,OACvBA,EAAKxK,OAALwK,CAAaI,CAAbJ,CADPA;AACoBI,OAFtB3f,GAIAxB,KAAKoW,UAALpW,CAAgBA,KAAKC,KAALD,CAAWqW,UAA3BrW,CALG6B,GASH7B,KAAKsX,OAALtX,IAAKsX,CACJzV,EAAa7B,KAAKC,KAALD,CAAWsX,OAAXtX,CAAmBuX,SAAhC1V,EAA2Cif,EAAUxJ,OAAVwJ,CAAkBvJ,SAA7D1V,CADD7B,IAGAA,KAAKsX,OAALtX,CAAaohB,OAAbphB,CACEA,KAAKC,KAALD,CAAWsX,OAAXtX,CAAmBuX,SAAnBvX,CAA6B6F,GAA7B7F,CAAiC,UAACmF,CAAD,EAACA;AAAAA,eAAO;AACvC2S,oBAAU,IAAIiJ,EAAKtT,KAALsT,CAAWrX,MAAf,CAAsBvE,EAAEV,GAAxB,EAA6BU,EAAET,GAA/B,CAD6B;AAEvCmT,kBAAQ1S,EAAE0S;AAF6B,SAAP1S;AAEtB0S,OAFZ7X,CADFA,CAZG6B,EAoBH7B,KAAKsX,OAALtX,IAAKsX,CACJzV,EAAa7B,KAAKC,KAALD,CAAWsX,OAAXtX,CAAmB0R,OAAhC7P,EAAyCif,EAAUxJ,OAAVwJ,CAAkBpP,OAA3D7P,CADD7B,IAGAwB,OAAON,IAAPM,CAAYxB,KAAKC,KAALD,CAAWsX,OAAXtX,CAAmB0R,OAA/BlQ,EAAwC4C,OAAxC5C,CAAgD,UAACuW,CAAD,EAACA;AAC/CgJ,UAAKzJ,OAALyJ,CAAatU,GAAbsU,CAAiBhJ,CAAjBgJ,EAAyBA,EAAK9gB,KAAL8gB,CAAWzJ,OAAXyJ,CAAmBrP,OAAnBqP,CAA2BhJ,CAA3BgJ,CAAzBA;AAAoDhJ,OADtDvW,CAvBGK;AA6BP7B;;AAAAA,SAAK2W,kBAAL3W,CAAwB+a,IAAxB/a,CAA6B,YAA7BA,GAEK6B,EAAa7B,KAAKC,KAALD,CAAWiE,aAAxBpC,EAAuCif,EAAU7c,aAAjDpC,KACH7B,KAAK2W,kBAAL3W,CAAwB+a,IAAxB/a,CAA6B,2BAA7BA,CAHFA;AAG+B,GA/KpB,EA+KoBiP,EAIjCxJ,oBAJiC,GAIjC;AACEzF,SAAKkX,QAALlX,GAAKkX,CAAW,CAAhBlX;AACA,QDrPiCqR,CCqPjC;AAAA,QDrP0C1B,CCqP1C;AAAA,QAAM4N,IAAS1I,EAASqE,WAATrE,CAAqB7U,KAAKmZ,aAA1BtE,CAAf;AACI0I,SACFA,EAAO3L,mBAAP2L,CAA2B,WAA3BA,EAAwCvd,KAAKwe,qBAA7CjB,EAA6CiB,CAAuB,CAApEjB,CADEA,EAGJzU,OAAO8I,mBAAP9I,CAA2B,QAA3BA,EAAqC9I,KAAK0d,eAA1C5U,CAHIyU,EAIJzU,OAAO8I,mBAAP9I,CAA2B,SAA3BA,EAAsC9I,KAAK2e,iBAA3C7V,CAJIyU,EAKJzU,OAAO8I,mBAAP9I,CAA2B,SAA3BA,EAAsC9I,KAAK6c,eAA3C/T,EAA2C+T,CAAiB,CAA5D/T,CALIyU,EAMAvd,KAAKC,KAALD,CAAWmW,mBAAXnW,KD5PsC2P,IC6PX3P,KAAK0V,qBD7PM/F,EAC5C0B,KADmCA,IC6PVkM,CD5PzBlM,EAAkB2O,UAD0BrQ,EAExC2C,IACFjB,EAAQgQ,WAARhQ,CAAoB,UAApBA,EAAgC1B,CAAhC0B,CADEiB,IAGFjB,EAAQ2C,mBAAR3C,CAA4BiQ,MAA5BjQ,CACEA,EAAQ2C,mBAAR3C,CAA4B3I,OAA5B2I,CAAoC1B,CAApC0B,CADFA,EAEE,CAFFA,GAIKA,EAAQ2C,mBAAR3C,CAA4BhQ,MAA5BgQ,KACHA,EAAQO,mBAARP,CAA4B,QAA5BA,EAAsCwC,CAAtCxC,GACAA,EAAQ4B,kBAAR5B,GAAQ4B,CAAsB5B,EAAQkQ,WAARlQ,CAC5BA,EAAQ4B,kBADoB5B,CAF3BA,CAPHiB,CC0PEtS,CANAud,EAUAvd,KAAKib,QAALjb,IAEFA,KAAKib,QAALjb,CAAcwW,MAAdxW,CAAqB,IAArBA,CAZEud,EAeAvd,KAAKyN,KAALzN,IAAcA,KAAK+V,IAAnB/V,IAA2BA,KAAKC,KAALD,CAAWwhB,4BAAtCxhB,KAEFA,KAAK+V,IAAL/V,CAAU4b,UAAV5b,CAAqB;AAAEyhB,oBAAa;AAAf,KAArBzhB,GACAA,KAAKyN,KAALzN,CAAWgW,KAAXhW,CAAiB0hB,sBAAjB1hB,CAAwCA,KAAK+V,IAA7C/V,CAHEA,CAfAud,EAqBAvd,KAAKC,KAALD,CAAWwhB,4BAAXxhB,KACFA,KAAK+V,IAAL/V,GAAY,IAAZA,EACAA,KAAKyN,KAALzN,GAAa,IAFXA,CArBAud,EAyBJvd,KAAK2W,kBAAL3W,CAAwBa,OAAxBb,EAzBIud,EA2BJvd,KAAK2V,gBAAL3V,GAAK2V,CAAmB,CA3BpB4H,EA6BAvd,KAAKC,KAALD,CAAWwhB,4BAAXxhB,KAAWwhB,YACDzL,IADCyL,EACDzL,YACAY,kBAFV3W,CA7BAud;AA+BU5G,GArNH,EAqNGA,EA6pBhB9W,MA7pBgB8W,GA6pBhB;AACE,QAAM+C,IAAU1Z,KAAK4C,KAAL5C,CAAW0Z,OAA3B;AAAA,QACMiI,IAAsBjI,IAaxB,IAbwBA,GAC1B5Z,gBAAC8hB,CAAD9hB,EAAC8hB;AACCpc,oBAAcxF,KAAKC,KAALD,CAAWwF,YAD1Boc;AAEC5e,oBAAchD,KAAK+C,aAFpB6e;AAGCxe,wBAAkBpD,KAAKmD,iBAHxBye;AAICpe,yBAAmBxD,KAAKqD,kBAJzBue;AAKCle,yBAAmB1D,KAAKyD,kBALzBme;AAMC3b,kBAAYjG,KAAKoV,WANlBwM;AAOCtb,uBAAgB,CAPjBsb;AAQC/c,uBAAiB7E,KAAKC,KAALD,CAAW6E,eAR7B+c;AASC1d,wBAAkBlE,KAAK0W,iBATxBkL;AAUCrf,kBAAYvC,KAAK2W;AAVlBiL,KAAD9hB,CAFF;AAgBA,WACEA;AACEZ,aAAOc,KAAKC,KAALD,CAAWd,KADpBY;AAEE+hB,mBAAa7hB,KAAK2d,eAFpB7d;AAGEgiB,0BAAoB9hB,KAAK0e,sBAH3B5e;AAIEwe,eAASte,KAAKue;AAJhBze,OAMEA,gBAACJ,CAADI,EAACJ;AAAaQ,qBAAeF,KAAK+f;AAAjCrgB,KAADI,CANFA,EAOG8U,MAAe8E,CAAf9E,IAA0BE,GAAa9U,KAAKyW,aAALzW,EAAb8U,EAAmC4E,CAAnC5E,CAP7BhV,EAUG6hB,CAVH7hB,CADF;AAWK6hB,GA94BM,EA84BNA,CA94BM;AA84BNA,CA5iCHzM,CAAkB/U,CAAlB+U,CDiCN;;AI9HA,SAAS6M,EAAT,CAASA,CAAT,EAASA;AAAAA,MAAoBrd,SAApBqd;AAAAA,MACDC,IAAMrX,KAAKqX,GAALrX,CAAKqX,EADKvd,GACLud,GAAWrX,KAAKkB,EAAhBmW,GAAsB,GAA3BrX,CADLoX;AAAAA,MAEDpgB,IAAI+C,IAAM,GAANA,GAAY,EAFfqd;AAAAA,MAGHngB,IAAI,KAAO,MAAO+I,KAAKI,GAALJ,CAAKI,CAAK,IAAIiX,CAATjX,KAAiB,IAAIiX,CAArBjX,CAALJ,CAAP,GAA0CA,KAAKkB,EAHvDkW;AAUP,SAAO;AAAEpgB,QAAF;AAAKC,OALZA,IAAIA,IAAI,CAAJA,GACE,CADFA,GAEEA,IAAI,CAAJA,GACA,CADAA,GAEAA;AACC,GAAP;AAGF;;AAAA,SAASqgB,EAAT,CAASA,CAAT,EAASA;AAAAA,MAAetgB,OAAfsgB;AAAAA,MACDriB,IAAI+K,KAAKkB,EAALlB,GAAU,IAAIA,KAAKkB,EAAT,GAASA,EADJjK,CAAlBqgB;AAKP,SAAO;AACLxd,SAAM,MAAMkG,KAAKkB,EAAX,GAAiBlB,KAAKoB,IAALpB,CAAU,MAAOA,KAAKqB,GAALrB,CAAS/K,CAAT+K,IAAcA,KAAKqB,GAALrB,CAAKqB,CAAKpM,CAAV+K,CAArB,CAAVA,CADlB;AAELjG,SAAS,MAAJ/C,CAAI,GAAM;AAFV,GAAP;AAmDF;;AAAA,SAASugB,EAAT,CAAiBxC,CAAjB,EAAqBC,CAArB,EAAyBxgB,CAAzB,EAAgCC,CAAhC,EAAgCA;AAC9B,MACM+iB,IAAUJ,GAAarC,CAAbqC,CADhB;AAAA,MAEMK,IAAUL,GAAapC,CAAboC,CAFhB;AAAA,MAGMM,IACJF,EAAQxgB,CAARwgB,GAAYC,EAAQzgB,CAApBwgB,GAAwBC,EAAQzgB,CAARygB,GAAYD,EAAQxgB,CAA5CwgB,GAAgD,IAAIA,EAAQxgB,CAAZ,GAAgBygB,EAAQzgB,CAJ1E;AAAA,MAKM2gB,IAAKF,EAAQxgB,CAARwgB,GAAYD,EAAQvgB,CAL/B;AAOA,MAAIygB,KAAM,CAANA,IAAWC,KAAM,CAArB,EACE;;AAGF,MAAMC,IAAQ9S,EAAKtQ,IAnFI,GAmFJA,GAA2BwL,KAAK0U,GAAL1U,CAAS0X,CAAT1X,CAAhC8E,CAAd;AAAA,MACM+S,IAAQ/S,EAAKrQ,IApFI,GAoFJA,GAA4BuL,KAAK0U,GAAL1U,CAAS2X,CAAT3X,CAAjC8E,CADd;AAAA,MAEMlF,IAAOI,KAAKmC,KAALnC,CAbD,OAakBA,KAAKpB,GAALoB,CAAS4X,CAAT5X,EAAgB6X,CAAhB7X,CAAjBA,CAFb;AAAA,MAKM8X,IAAS;AACb9gB,OAAGwgB,EAAQxgB,CAARwgB,GAAYC,EAAQzgB,CAApBwgB,GACG,MAAOA,EAAQxgB,CAARwgB,GAAYC,EAAQzgB,CAA3B,CADHwgB,GAEGA,EAAQxgB,CAARwgB,GAAYC,EAAQzgB,CAApBwgB,GAAwB,CAAxBA,GAA4B,CAA5BA,GACA,MAAOA,EAAQxgB,CAARwgB,GAAYC,EAAQzgB,CAApBwgB,GAAwB,CAA/B,CADAA,GAEA,MAAO,IAAIA,EAAQxgB,CAAZ,GAAgBygB,EAAQzgB,CAA/B,CALO;AAMbC,OAAG,MAAOugB,EAAQvgB,CAARugB,GAAYC,EAAQxgB,CAA3B;AANU,GALf;AAAA,MAcMkJ,IAAQH,KAAKC,GAALD,CAAS,CAATA,EAAYJ,CAAZI,CAdd;AAAA,MAeM+X,IAAQvjB,IAAQ2L,CAAR3L,GAlGS,GAkGTA,GAAmC,CAfjD;AAAA,MAgBMwjB,IAAQvjB,IAAS0L,CAAT1L,GAnGS,GAmGTA,GAAoC,CAhBlD;AAAA,MAkBMwjB,IAAQX,GAAa;AACzBtgB,OAAG8gB,EAAO9gB,CAAP8gB,GAAWC,CADW;AAEzB9gB,OAAG6gB,EAAO7gB,CAAP6gB,GAAWE;AAFW,GAAbV,CAlBd;AAAA,MAuBMY,IAAQZ,GAAa;AACzBtgB,OAAG8gB,EAAO9gB,CAAP8gB,GAAWC,CADW;AAEzB9gB,OAAG6gB,EAAO7gB,CAAP6gB,GAAWE;AAFW,GAAbV,CAvBd;;AA4BA,SAAO;AACLzX,YAAQyX,GAAaQ,CAAbR,CADH;AAEL1X,WAFK;AAGLuY,eAAW;AACTpD,UAAIkD,CADK;AAETjD,UAAIkD;AAFK;AAHN,GAAP;AAUF;;AAAA,SAAgBE,EAAhB,CAAgBA,CAAhB,EAAgBA;AAAAA,MAAoBlD,QAApBkD;AAAAA,MAAwBnD,QAAxBmD;AACd,SAAO;AACLrD,QAAI;AACFjb,WAAKob,EAAGpb,GADN;AAEFC,WAAKkb,EAAGlb;AAFN,KADC;AAKLib,QAAI;AACFlb,WAAKmb,EAAGnb,GADN;AAEFC,WAAKmb,EAAGnb;AAFN;AALC,GAAP;AAYF;;AAAA,SAAgBse,EAAhB,CAAgBA,CAAhB,EAAgBA;AAAAA,MAAoBtD,QAApBsD;AAAAA,MAAwBrD,QAAxBqD;AACd,SAAO;AACLnD,QAAI;AACFpb,WAAKib,EAAGjb,GADN;AAEFC,WAAKib,EAAGjb;AAFN,KADC;AAKLkb,QAAI;AACFnb,WAAKkb,EAAGlb,GADN;AAEFC,WAAKgb,EAAGhb;AAFN;AALC,GAAP;AAOYA;;AAAAA,SAKEue,EALFve,CAKEue,CALFve,EAKEue,CALFve,EAKEue;AAAAA,MACVC,CADUD;AAAAA,MAAYvD,QAAZuD;AAAAA,MAAgBtD,QAAhBsD;AAAAA,MAAoBpD,QAApBoD;AAAAA,MAAwBrD,QAAxBqD;AAAAA,MAAgC9jB,WAAhC8jB;AAAAA,MAAuC7jB,YAAvC6jB;AAGd,MAAIvD,KAAMC,CAAV,EACEuD,IAAahB,GAAQxC,CAARwC,EAAYvC,CAAZuC,EAAgB/iB,CAAhB+iB,EAAuB9iB,CAAvB8iB,CAAbgB,CADF,KAEO;AACL,QAAMC,IAAiBJ,GAAkB;AAAElD,WAAF;AAAMD;AAAN,KAAlBmD,CAAvB;AACAG,QAAahB,GAAQiB,EAAezD,EAAvBwC,EAA2BiB,EAAexD,EAA1CuC,EAA8C/iB,CAA9C+iB,EAAqD9iB,CAArD8iB,CAAbgB;AAGF;AAAA,eACKA,CADL,EACKA;AACHJ,qBACKI,EAAWJ,SADhBA,EAEKE,GAAkBE,EAAWJ,SAA7BE,CAFLF;AADGI,GADL;AAYF;;AAAA,SAAgBE,EAAhB,CAAoCC,CAApC,EAAoCA,CAApC,EAA0D9Y,CAA1D,EAA0DA;AAAAA,UA5G1D,UAA0B8Y,CAA1B,EAA0BA,CAA1B,EAA0BA;AAAAA,YApB1B,UAA6BA,CAA7B,EAA6BA,CAA7B,EAA6BA;AAAAA,UAbrBC,CAaqBD;AAAAA,UAAU5e,SAAV4e;AAAAA,UAAe3e,SAAf2e;AAAAA,UAAe3e,KAbpC4e,IAeJ7e,IAfiBkG,KAAKkB,EAetBpH,GAf4B,GAAxB6e,EAUC;AAAEC,4BARP,YACA,SAAS5Y,KAAK6Y,GAAL7Y,CAAS,IAAI2Y,CAAb3Y,CADT,GAEA,QAAQA,KAAK6Y,GAAL7Y,CAAS,IAAI2Y,CAAb3Y,CAFR,GAGA,QAASA,KAAK6Y,GAAL7Y,CAAS,IAAI2Y,CAAb3Y,CAKJ;AAAsB8Y,4BAH3B,YAAY9Y,KAAK6Y,GAAL7Y,CAAS2Y,CAAT3Y,CAAZ,GACA,OAAOA,KAAK6Y,GAAL7Y,CAAS,IAAI2Y,CAAb3Y,CADP,GAEA,OAAQA,KAAK6Y,GAAL7Y,CAAS,IAAI2Y,CAAb3Y;AACH,OAGmCjG,CAAf2e;AAAAA,UAKrBK,IAAY,KAAML,CAAN,GAAMA,EAJhBE,kBADmBF;AAAAA,UAMrBM,IAAY,KAAMN,CAAN,GAAMA,EALII,kBADDJ;AAQ3B,aAAO;AACL3D,YAAI;AACFjb,eAAKA,IAAMif,CADT;AAEFhf,eAAKA,IAAMif;AAFT,SADC;AAKLhE,YAAI;AACFlb,eAAKA,IAAMif,CADT;AAEFhf,eAAKA,IAAMif;AAFT;AALC,OAAP;AAamBC,KArBrB,CAqByCP,CArBzC,EAqBiD;AAAE5e,aADfA,GACa;AAAOC,aADfA;AACQ,KArBjD,CAoB0B2e;AAAAA,QACZ1D,QADY0D;AAAAA,QAElBlB,IAAUJ,KADRrC,EACQqC,CAFQsB;AAAAA,QAGlBjB,IAAUL,GAAapC,CAAboC,CAHQsB;;AAOxB,WAAO;AAAEQ,SAHClZ,KAAK0U,GAAL1U,CAASyX,EAAQzgB,CAARygB,GAAYD,EAAQxgB,CAA7BgJ,CAGH;AAAKmZ,SAFFnZ,KAAK0U,GAAL1U,CAASyX,EAAQxgB,CAARwgB,GAAYD,EAAQvgB,CAA7B+I;AAEH,KAAP;AAsGiBoZ,GA7GnB,CA6GoCV,CA7GpC,EA6G4C;AAAE5e,WADAA,GACF;AAAOC,WADAA;AACP,GA7G5C,CA4G0D6F;AAAAA,MAChDsZ,OADgDtZ;AAAAA,MAC7CuZ,OAD6CvZ;AAAAA,MAElDO,IAAQH,KAAKC,GAALD,CAAS,CAATA,EAAYJ,CAAZI,CAF0CJ;;AAKxD,SAAO;AACLsZ,OAHcA,IAAI/Y,CAAJ+Y,GA5KO,GA8KhB;AAELC,OAHcA,IAAIhZ,CAAJgZ,GA7KO;AA8KhB,GAAP;AASF;;AAAA,SAAgBE,EAAhB,CAAgBA,CAAhB,EAAsCzZ,CAAtC,EAAsCA;AAAAA,MAAR5I,OAAQ4I;AAAAA,MAC9B3K,IAAI+K,KAAKkB,EAALlB,GAAW,IAAIA,KAAKkB,EAAT,GAASA,EADCjK,CACV,GAAmB+I,KAAKC,GAALD,CAAS,CAATA,EAAYJ,CAAZI,CADJJ;AAGpC,SAAO;AACL9F,SAAM,MAAMkG,KAAKkB,EAAX,GAAiBlB,KAAKoB,IAALpB,CAAU,MAAOA,KAAKqB,GAALrB,CAAS/K,CAAT+K,IAAcA,KAAKqB,GAALrB,CAAKqB,CAAKpM,CAAV+K,CAArB,CAAVA,CADlB;AAELjG,SAAM/C,IAAIgJ,KAAKC,GAALD,CAAS,CAATA,EAAYJ,CAAZI,CAAJhJ,GAAyB,GAAzBA,GAA+B;AAFhC,GAAP;AAMF;;AAAA,SAAgBsiB,EAAhB,CAAgBA,CAAhB,EAA0C1Z,CAA1C,EAA0CA;AAAAA,MAClC2Z,IAAcnC,GAAa;AAAEtd,WADPA,GACK;AAAOC,WADPA;AACA,GAAbqd,CADoBxX;AAAAA,MAElCO,IAAQH,KAAKC,GAALD,CAAS,CAATA,EAAYJ,CAAZI,CAF0BJ;AAIxC,SAAO;AACL5I,OAAGgJ,KAAKmC,KAALnC,CAAWuZ,EAAYviB,CAAZuiB,GAAgBpZ,CAA3BH,CADE;AAEL/I,OAAG+I,KAAKmC,KAALnC,CAAWuZ,EAAYtiB,CAAZsiB,GAAgBpZ,CAA3BH;AAFE,GAAP;AAMF;;AAAA,SAAgBwZ,EAAhB,CAAgBA,CAAhB,EAA0C5Z,CAA1C,EAA0CA;AAIxC,WAJ4B6Z,UAI5B,EAJkCC,QAIlC,EAHMvZ,IAAQH,KAAKC,GAALD,CAAS,CAATA,EAAYJ,CAAZI,CAGd,EADM2Z,IAAM,EACZ,EAAS3iB,IAAIyiB,EAAKziB,CAAlB,EAAqBA,OAAO0iB,EAAG1iB,CAAH0iB,GAAO,CAAd1iB,IAAmBmJ,CAAxC,EAA+CnJ,KAAKA,IAAI,CAATA,IAAcmJ,CAA7D,EACE,KAAK,IAAIlJ,IAAIwiB,EAAKxiB,CAAlB,EAAqBA,OAAOyiB,EAAGziB,CAAHyiB,GAAO,CAAdziB,IAAmBkJ,CAAxC,EAA+ClJ,KAAKA,IAAI,CAATA,IAAckJ,CAA7D,EACEwZ,EAAIxf,IAAJwf,CAAS,CAAC/Z,CAAD,EAAO5I,CAAP,EAAUC,CAAV,CAAT0iB;;AAIJ,SAAOA,CAAP;AHrHIpP;;AAAAA,GACG7N,SADH6N,GACe;AACjBjM,UAAQ3B,EAAUid,MADD;AAEjBtc,oBAAkBX,EAAUC,GAFX;AAIjBsO,iBAAevO,EAAUkd,SAAVld,CAAoB,CACjCA,EAAUmd,KADuB,EAEjCnd,EAAUod,KAAVpd,CAAgB;AACd7C,SAAK6C,EAAUqd,MADD;AAEdjgB,SAAK4C,EAAUqd;AAFD,GAAhBrd,CAFiC,CAApBA,CAJE;AAWjBkD,UAAQlD,EAAUkd,SAAVld,CAAoB,CAC1BA,EAAUmd,KADgB,EAE1Bnd,EAAUod,KAAVpd,CAAgB;AACd7C,SAAK6C,EAAUqd,MADD;AAEdjgB,SAAK4C,EAAUqd;AAFD,GAAhBrd,CAF0B,CAApBA,CAXS;AAkBjByP,eAAazP,EAAUqd,MAlBN;AAmBjBpa,QAAMjD,EAAUqd,MAnBC;AAoBjB3F,kBAAgB1X,EAAUE,IApBT;AAqBjBuX,YAAUzX,EAAUE,IArBH;AAsBjB8W,WAAShX,EAAUE,IAtBF;AAuBjBxE,gBAAcsE,EAAUE,IAvBP;AAwBjBpE,oBAAkBkE,EAAUE,IAxBX;AAyBjBsV,kBAAgBxV,EAAUE,IAzBT;AA0BjBwV,oBAAkB1V,EAAUE,IA1BX;AA2BjBhE,qBAAmB8D,EAAUE,IA3BZ;AA4BjB9D,qBAAmB4D,EAAUE,IA5BZ;AA6BjBkV,wBAAsBpV,EAAUE,IA7Bf;AA8BjBmV,sBAAoBrV,EAAUE,IA9Bb;AA+BjB+U,UAAQjV,EAAUE,IA/BD;AAgCjBgV,aAAWlV,EAAUE,IAhCJ;AAiCjBiV,qBAAmBnV,EAAUE,IAjCZ;AAkCjB0T,iBAAe5T,EAAUE,IAlCR;AAmCjBkK,WAASpK,EAAUC,GAnCF;AAoCjB1C,mBAAiByC,EAAUE,IApCV;AAqCjBvD,iBAAeqD,EAAUqd,MArCR;AAsCjBhK,aAAWrT,EAAUG,IAtCJ;AAuCjBlI,UAAQ+H,EAAUmd,KAvCD;AAwCjBxN,mBAAiB3P,EAAUC,GAxCV;AAyCjB8U,qBAAmB/U,EAAUE,IAzCZ;AA0CjB8U,sCAAoChV,EAAUG,IA1C7B;AA2CjB0Q,aAAW7Q,EAAUG,IA3CJ;AA4CjBvI,SAAOoI,EAAUC,GA5CA;AA6CjB4O,uBAAqB7O,EAAUG,IA7Cd;AA8CjB4O,cAAY/O,EAAUsd,OAAVtd,CAAkBA,EAAUid,MAA5Bjd,CA9CK;AA+CjBka,gCAA8Bla,EAAUG;AA/CvB,CADfyN,KAmDGxN,YAnDHwN,GAmDkB;AACpBrQ,6BAAgBwB,CAAhBxB,EAAoBggB,CAApBhgB,EAAoBggB;AAClB,WAAOla,KAAKma,IAALna,CAAKma,CACTze,EAAG1E,CAAH0E,GAAOwe,EAASljB,CADPmjB,KACaze,EAAG1E,CAAH0E,GAAOwe,EAASljB,CAD7BmjB,IAC6BnjB,CACpC0E,EAAGzE,CAAHyE,GAAOwe,EAASjjB,CADoBD,KACd0E,EAAGzE,CAAHyE,GAAOwe,EAASjjB,CADFD,CADlCgJ,CAAP;AAE2C/I,GAJzB;AAOpBqC,iBAAe,EAPK;AAQpB0W,cAAW,CARS;AASpBjJ,WA1GJ;AACE,WAAO;AACL4G,2BAAoB,CADf;AAELC,0BAAmB,CAFd;AAGLC,sBAAe,CAHV;AAILC,uBAAgB,CAJX;AAMLC,cAAQ,CACN;AACEC,qBAAa,KADf;AAEEC,qBAAa,QAFf;AAGEC,iBAAS,CAAC;AAAEC,sBAAY;AAAd,SAAD;AAHX,OADM,CANH;AAaL5O,eAxBqB;AAWhB,KAAP;AAXuB,GA2GD;AAUpB+M,oBAVoB;AAWpBqF,uCAAoC,CAXhB;AAYpBpd,SAAO;AACLC,WAAO,MADF;AAELC,YAAQ,MAFH;AAGLG,YAAQ,CAHH;AAILC,aAAS,CAJJ;AAKLC,cAAU;AALL,GAZa;AAmBpB4W,cAAY,EAnBQ;AAoBpBiB,WAAS,EApBW;AAqBpBpP,mBAAgB,CArBI;AAsBpBsZ,iCAA8B;AAtBV,CAnDlBtM,KA4EG+B,eA5EH/B,GA4EqB+B,CA5ErB/B;AA4EqB+B;AAAAA","names":["style","width","height","left","top","margin","padding","position","GoogleMapMap","shouldComponentUpdate","n","render","React","ref","this","props","registerChild","Component","MarkerDispatcher","gmapInstance","_this","getChildren","children","getMousePosition","mouse_","getUpdateCounter","updateCounter_","dispose","removeAllListeners","EventEmitter","omit","obj","keys","rest","i","length","key","hasOwnProperty","Object","prototype","is","x","y","shallowEqual","objA","objB","keysA","keysB","call","mainStyle","backgroundColor","GoogleMapMarkers","_getState","dispatcher","updateCounter","_onChangeHandler","dimensionsCache_","prevChildCount","state","setState","_onMouseChangeHandler","_onChildClick","onChildClick","hoverChildProps_","hoverKey_","_onChildMouseDown","onChildMouseDown","_onChildMouseEnter","hoverKey","childProps","onChildMouseEnter","_onChildMouseLeave","onChildMouseLeave","_onMouseAllow","value","allowMouse_","_onMouseChangeHandlerRaf","mp","distances","hoverDistance","getHoverDistance","Children","forEach","child","childIndex","undefined","latLng","lat","lng","childKey","dist","distanceToMouse","push","sort","a","b","_getDimensions","p","componentDidMount","on","nextProps","nextState","experimental","componentWillUnmount","removeListener","mainElementStyle","markers","map","cloneElement","$geoService","_this2","geoService","$onMouseAllow","$prerender","prerender","pt","insideMapPanes","fromLatLngToDivPixel","fromLatLngToCenterPixel","stylePtPos","seLatLng","seLat","seLng","sePt","containerPt","fromLatLngToContainerPixel","className","$markerHolderClassName","$hover","$getDimensions","$dimensionKey","propTypes","PropTypes","any","func","bool","defaultProps","loader_","loadPromise_","resolveCustomPromise_","_customPromise","Promise","resolve","bootstrapURLKeys","heatmapLibrary","libraries","includes","console","warn","process","env","NODE_ENV","indexOf","message","error","Error","window","restKeys","Loader","apiKey","load","then","google","maps","wrap","min","max","d","LatLng","isNaN","e","convert","Array","isArray","Transform","tileSize","minZoom","maxZoom","_minZoom","_maxZoom","latRange","zoom","center","angle","zoomScale","Math","pow","scaleZoom","scale","log","LN2","project","latlng","worldSize","Point","lngX","latY","unproject","point","yLat","xLng","lon","o","PI","tan","atan","exp","locationPoint","centerPoint","_sub","_rotate","pointLocation","p2","sub","get","set","bearing","_zoom","zoomV","tileZoom","floor","zoomFraction","Geo","hasSize_","hasView_","transform_","setView","t","setViewSize","setMapCanvasProjection","mapCanvasProjection","maps_","mapCanvasProjection_","canProject","hasSize","ptLatLng","round","fromContainerPixelToLatLng","ptXY","ptxy","ptRes","getWidth","getHeight","getZoom","getCenter","getBounds","margins","roundFactor","bndT","bndR","bndB","bndL","topLeftCorner","bottomRightCorner","res","r","raf","callback","requestAnimationFrame","nativeRaf","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","log2","pick","fn","reduce","result","isEmpty","val","objectToString","toString","isNumber","isObjectLike","detectBrowserResult_","detectBrowser","navigator","isExplorer","userAgent","isFirefox","isOpera","toLowerCase","isChrome","isSafari","fnToString","Function","isPlainObject","proto","constructor","getPrototypeOf","addPassiveEventListener","element","eventName","capture","addEventListener","passiveSupported","options","defineProperty","removeEventListener","err","hasPassiveSupport","passive","_window","canUseDOM","document","createElement","self","cancel","attachEvent","stylesCreated","requestFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","id","resetTriggers","triggers","__resizeTriggers__","expand","firstElementChild","contract","lastElementChild","expandChild","scrollLeft","scrollWidth","scrollTop","scrollHeight","offsetWidth","offsetHeight","scrollListener","__resizeRAF__","__resizeLast__","__resizeListeners__","animation","keyframeprefix","animationstartevent","domPrefixes","split","startEvents","elm","animationName","animationstring","animationKeyframes","animationStyle","IS_REACT_16","ReactDOM","createPortal","unstable_renderSubtreeIntoContainer","latLng2Obj","_checkMinZoom","GoogleMap","_getMinZoom","geoService_","tilesPerWidth","ceil","tilesPerHeight","maxTilesPerDim","_computeMinZoom","_mapDomResizeCallback","resetSizeOnIdle_","originalCenter","defaultCenter","currentCenter","map_","event","trigger","setCenter","resetBoundsOnResize","_setLayers","layerTypes","layerType","layers_","setMap","_renderPortal","_getHoverDistance","markersDispatcher_","_initMap","initialized_","propsCenter","defaultZoom","_onBoundsChanged","googleMapLoader","mounted_","instance","centerLatLng","propsOptions","heatmap","positions","assign","visualization","HeatmapLayer","data","acc","weight","location","option","optionsHeatmap","mapPlainObjects","draggableOptions","draggable","minZoom_","preMapOptions","overviewMapControl","streetViewControl","rotateControl","mapTypeControl","styles","featureType","elementType","stylers","visibility","defaultDraggableOption_","mapOptions","Map","findDOMNode","googleMapDom_","versionMatch","version","match","mapsVersion","Number","this_","overlay","OverlayView","onAdd","K_MAX_WIDTH","screen","K_MAX_HEIGHT","div","overlayViewDivStyle","property","getPanes","overlayMouseTarget","appendChild","getProjection","onRemove","renderedOverlay","unmountComponentAtNode","draw","debounced","googleApiLoadedCalled_","_onGoogleApiLoaded","_onChildMouseMove","emit","fireMouseEventOnIdle_","overlay_","onTilesLoaded","addListener","_onTilesLoaded","zoomAnimationInProgress_","_onZoomAnimationStart","Date","getTime","zoomControlClickTime_","_setViewSize","currMinZoom","setOptions","_onZoomAnimationEnd","dragTime_","mouseInMap_","_onDrag","idleListener","_onDragEnd","_onMapTypeIdChange","getMapTypeId","onGoogleApiLoaded","yesIWantToUseGoogleMapApiInternals","onDrag","onDragEnd","onMapTypeIdChange","onZoomAnimationStart","onZoomAnimationEnd","childMouseDownArgs_","_onChildMouseUp","onChildMouseUp","childMouseUpTime_","onChildMouseMove","fullscreen","webkitIsFullScreen","mozFullScreen","msFullscreenElement","innerWidth","innerHeight","mapDom","clientWidth","clientHeight","_onWindowResize","_onMapMouseMove","currTime","mouseMoveTime_","boundingRect_","currentTarget","getBoundingClientRect","mousePosX","clientX","mousePosY","clientY","_onClick","onClick","_onMapClick","_onMapMouseDownNative","_onMapMouseDown","_onMapMouseDownCapture","_onKeyDownCapture","_isCenterDefined","callExtBoundsChange","gmC","onChange","onBoundsChange","bounds","arrayA","arrayB","eps","abs","isArraysEqualEps","prevBounds_","marginBounds","centerIsObject_","nw","se","sw","ne","size","_registerChild","parentNode","tempParentDiv","getComputedStyle","css","head","getElementsByTagName","type","styleSheet","cssText","createTextNode","createStyles","innerHTML","addResizeListener","componentDidUpdate","prevProps","_this3","prevCenter","panTo","setZoom","layerKey","setData","detachEvent","splice","removeChild","shouldUnregisterMapOnUnmount","scrollwheel","clearInstanceListeners","mapMarkerPrerender","GoogleMapMarkersPrerender","onMouseMove","onMouseDownCapture","latLng2World","sin","world2LatLng","fitNwSe","nwWorld","seWorld","dx","dy","zoomX","zoomY","middle","halfW","halfH","newNW","newSE","newBounds","convertNeSwToNwSe","convertNwSeToNeSw","fitBounds","fittedData","calculatedNwSe","meters2ScreenPixels","meters","phi","metersPerLatDegree","cos","metersPerLngDegree","latDelta","lngDelta","meters2LatLngBounds","w","h","meters2WorldSize","tile2LatLng","latLng2Tile","worldCoords","getTilesIds","from","to","ids","string","oneOfType","array","shape","number","arrayOf","mousePos","sqrt"],"sources":["/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/google_map_map.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/marker_dispatcher.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/omit.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/shallowEqual.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/google_map_markers.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/google_map_markers_prerender.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/loaders/google_map_loader.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/lib/geo/wrap.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/lib/geo/lat_lng.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/lib/geo/transform.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/lib/geo/index.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/raf.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/log2.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/pick.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/isEmpty.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/isNumber.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/detect.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/isPlainObject.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/passiveEvents.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/detectElementResize.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/google_map.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/google_heatmap.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/utils/isArraysEqualEps.js","/Users/phurichayakhemvaraporn/Github/project/PPSwater/node_modules/google-map-react/src/lib/index.js"],"sourcesContent":["import React, { Component } from 'react';\n\nconst style = {\n  width: '100%',\n  height: '100%',\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: 'absolute',\n};\n\nexport default class GoogleMapMap extends Component {\n  shouldComponentUpdate() {\n    return false; // disable react on this div\n  }\n\n  render() {\n    const { registerChild } = this.props;\n    return <div ref={registerChild} style={style} />;\n  }\n}\n","import EventEmitter from 'eventemitter3';\n\nexport default class MarkerDispatcher extends EventEmitter {\n  constructor(gmapInstance) {\n    super();\n    this.gmapInstance = gmapInstance;\n  }\n\n  getChildren() {\n    return this.gmapInstance.props.children;\n  }\n\n  getMousePosition() {\n    return this.gmapInstance.mouse_;\n  }\n\n  getUpdateCounter() {\n    return this.gmapInstance.updateCounter_;\n  }\n\n  dispose() {\n    this.gmapInstance = null;\n    this.removeAllListeners();\n  }\n}\n","// https://github.com/acdlite/recompose/blob/master/src/packages/recompose/utils/omit.js\nconst omit = (obj, keys) => {\n  const { ...rest } = obj;\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (key in rest) {\n      delete rest[key];\n    }\n  }\n  return rest;\n};\n\nexport default omit;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * @providesModule shallowEqual\n * @typechecks\n * @flow\n */\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * inlined Object.is polyfill to avoid requiring consumers ship their own\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nfunction is(x, y) {\n  // SameValue algorithm\n  if (x === y) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    // Added the nonzero y check to make Flow happy, but it is redundant\n    return x !== 0 || y !== 0 || 1 / x === 1 / y;\n  }\n  // Step 6.a: NaN == NaN\n  // eslint-disable-next-line no-self-compare\n  return x !== x && y !== y;\n}\n\n/**\n * Performs equality by iterating through keys on an object and returning false\n * when any key has values which are not strictly equal between the arguments.\n * Returns true when the values of all keys are strictly equal.\n */\nfunction shallowEqual(objA, objB) {\n  if (is(objA, objB)) {\n    return true;\n  }\n\n  if (\n    typeof objA !== 'object' ||\n    objA === null ||\n    typeof objB !== 'object' ||\n    objB === null\n  ) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  for (let i = 0; i < keysA.length; i++) {\n    if (\n      !hasOwnProperty.call(objB, keysA[i]) ||\n      !is(objA[keysA[i]], objB[keysA[i]])\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport default shallowEqual;\n/* src: https://github.com/facebook/fbjs/blob/master/packages/fbjs/src/core/shallowEqual.js */\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n// utils\nimport omit from './utils/omit';\nimport shallowEqual from './utils/shallowEqual';\n\nconst mainStyle = {\n  width: '100%',\n  height: '100%',\n  left: 0,\n  top: 0,\n  margin: 0,\n  padding: 0,\n  position: 'absolute',\n};\n\nconst style = {\n  width: 0,\n  height: 0,\n  left: 0,\n  top: 0,\n  backgroundColor: 'transparent',\n  position: 'absolute',\n};\n\nexport default class GoogleMapMarkers extends Component {\n  /* eslint-disable react/forbid-prop-types */\n  static propTypes = {\n    geoService: PropTypes.any,\n    style: PropTypes.any,\n    distanceToMouse: PropTypes.func,\n    dispatcher: PropTypes.any,\n    onChildClick: PropTypes.func,\n    onChildMouseDown: PropTypes.func,\n    onChildMouseLeave: PropTypes.func,\n    onChildMouseEnter: PropTypes.func,\n    getHoverDistance: PropTypes.func,\n    insideMapPanes: PropTypes.bool,\n    prerender: PropTypes.bool,\n  };\n  /* eslint-enable react/forbid-prop-types */\n\n  static defaultProps = {\n    insideMapPanes: false,\n    prerender: false,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.dimensionsCache_ = {};\n    this.hoverKey_ = null;\n    this.hoverChildProps_ = null;\n    this.allowMouse_ = true;\n\n    this.state = { ...this._getState(), hoverKey: null };\n  }\n\n  componentDidMount() {\n    this.props.dispatcher.on('kON_CHANGE', this._onChangeHandler);\n    this.props.dispatcher.on(\n      'kON_MOUSE_POSITION_CHANGE',\n      this._onMouseChangeHandler\n    );\n    this.props.dispatcher.on('kON_CLICK', this._onChildClick);\n    this.props.dispatcher.on('kON_MDOWN', this._onChildMouseDown);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.props.experimental === true) {\n      return (\n        !shallowEqual(this.props, nextProps) ||\n        !shallowEqual(\n          omit(this.state, ['hoverKey']),\n          omit(nextState, ['hoverKey'])\n        )\n      );\n    }\n\n    return (\n      !shallowEqual(this.props, nextProps) ||\n      !shallowEqual(this.state, nextState)\n    );\n  }\n\n  componentWillUnmount() {\n    this.props.dispatcher.removeListener('kON_CHANGE', this._onChangeHandler);\n    this.props.dispatcher.removeListener(\n      'kON_MOUSE_POSITION_CHANGE',\n      this._onMouseChangeHandler\n    );\n    this.props.dispatcher.removeListener('kON_CLICK', this._onChildClick);\n    this.props.dispatcher.removeListener('kON_MDOWN', this._onChildMouseDown);\n\n    this.dimensionsCache_ = null;\n  }\n\n  _getState = () => ({\n    children: this.props.dispatcher.getChildren(),\n    updateCounter: this.props.dispatcher.getUpdateCounter(),\n  });\n\n  _onChangeHandler = () => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    const prevChildCount = (this.state.children || []).length;\n    const state = this._getState();\n\n    this.setState(\n      state,\n      () =>\n        (state.children || []).length !== prevChildCount &&\n        this._onMouseChangeHandler()\n    );\n  };\n\n  _onChildClick = () => {\n    if (this.props.onChildClick) {\n      if (this.hoverChildProps_) {\n        const hoverKey = this.hoverKey_;\n        const childProps = this.hoverChildProps_;\n        // click works only on hovered item\n        this.props.onChildClick(hoverKey, childProps);\n      }\n    }\n  };\n\n  _onChildMouseDown = () => {\n    if (this.props.onChildMouseDown) {\n      if (this.hoverChildProps_) {\n        const hoverKey = this.hoverKey_;\n        const childProps = this.hoverChildProps_;\n        // works only on hovered item\n        this.props.onChildMouseDown(hoverKey, childProps);\n      }\n    }\n  };\n\n  _onChildMouseEnter = (hoverKey, childProps) => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    if (this.props.onChildMouseEnter) {\n      this.props.onChildMouseEnter(hoverKey, childProps);\n    }\n\n    this.hoverChildProps_ = childProps;\n    this.hoverKey_ = hoverKey;\n    this.setState({ hoverKey });\n  };\n\n  _onChildMouseLeave = () => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    const hoverKey = this.hoverKey_;\n    const childProps = this.hoverChildProps_;\n\n    if (hoverKey !== undefined && hoverKey !== null) {\n      if (this.props.onChildMouseLeave) {\n        this.props.onChildMouseLeave(hoverKey, childProps);\n      }\n\n      this.hoverKey_ = null;\n      this.hoverChildProps_ = null;\n      this.setState({ hoverKey: null });\n    }\n  };\n\n  _onMouseAllow = (value) => {\n    if (!value) {\n      this._onChildMouseLeave();\n    }\n\n    this.allowMouse_ = value;\n  };\n\n  _onMouseChangeHandler = () => {\n    if (this.allowMouse_) {\n      this._onMouseChangeHandlerRaf();\n    }\n  };\n\n  _onMouseChangeHandlerRaf = () => {\n    if (!this.dimensionsCache_) {\n      return;\n    }\n\n    const mp = this.props.dispatcher.getMousePosition();\n\n    if (mp) {\n      const distances = [];\n      const hoverDistance = this.props.getHoverDistance();\n\n      React.Children.forEach(this.state.children, (child, childIndex) => {\n        if (!child) return;\n        // layers\n        if (\n          child.props.latLng === undefined &&\n          child.props.lat === undefined &&\n          child.props.lng === undefined\n        ) {\n          return;\n        }\n\n        const childKey =\n          child.key !== undefined && child.key !== null\n            ? child.key\n            : childIndex;\n        const dist = this.props.distanceToMouse(\n          this.dimensionsCache_[childKey],\n          mp,\n          child.props\n        );\n        if (dist < hoverDistance) {\n          distances.push({\n            key: childKey,\n            dist,\n            props: child.props,\n          });\n        }\n      });\n\n      if (distances.length) {\n        distances.sort((a, b) => a.dist - b.dist);\n        const hoverKey = distances[0].key;\n        const childProps = distances[0].props;\n\n        if (this.hoverKey_ !== hoverKey) {\n          this._onChildMouseLeave();\n\n          this._onChildMouseEnter(hoverKey, childProps);\n        }\n      } else {\n        this._onChildMouseLeave();\n      }\n    } else {\n      this._onChildMouseLeave();\n    }\n  };\n\n  _getDimensions = (key) => {\n    const childKey = key;\n    return this.dimensionsCache_[childKey];\n  };\n\n  render() {\n    const mainElementStyle = this.props.style || mainStyle;\n    this.dimensionsCache_ = {};\n\n    const markers = React.Children.map(\n      this.state.children,\n      (child, childIndex) => {\n        if (!child) return undefined;\n        if (\n          child.props.latLng === undefined &&\n          child.props.lat === undefined &&\n          child.props.lng === undefined\n        ) {\n          return React.cloneElement(child, {\n            $geoService: this.props.geoService,\n            $onMouseAllow: this._onMouseAllow,\n            $prerender: this.props.prerender,\n          });\n        }\n\n        const latLng =\n          child.props.latLng !== undefined\n            ? child.props.latLng\n            : { lat: child.props.lat, lng: child.props.lng };\n\n        const pt = this.props.insideMapPanes\n          ? this.props.geoService.fromLatLngToDivPixel(latLng)\n          : this.props.geoService.fromLatLngToCenterPixel(latLng);\n\n        const stylePtPos = {\n          left: pt.x,\n          top: pt.y,\n        };\n\n        // If the component has a southeast corner defined (either as a LatLng, or a separate\n        // lat and lng pair), set the width and height based on the distance between the northwest\n        // and the southeast corner to lock the overlay to the correct geographic bounds.\n        if (\n          child.props.seLatLng !== undefined ||\n          (child.props.seLat !== undefined && child.props.seLng !== undefined)\n        ) {\n          const seLatLng =\n            child.props.seLatLng !== undefined\n              ? child.props.seLatLng\n              : { lat: child.props.seLat, lng: child.props.seLng };\n\n          const sePt = this.props.insideMapPanes\n            ? this.props.geoService.fromLatLngToDivPixel(seLatLng)\n            : this.props.geoService.fromLatLngToCenterPixel(seLatLng);\n\n          stylePtPos.width = sePt.x - pt.x;\n          stylePtPos.height = sePt.y - pt.y;\n        }\n\n        const containerPt = this.props.geoService.fromLatLngToContainerPixel(\n          latLng\n        );\n\n        // to prevent rerender on child element i need to pass\n        // const params $getDimensions and $dimensionKey instead of dimension object\n        const childKey =\n          child.key !== undefined && child.key !== null\n            ? child.key\n            : childIndex;\n\n        this.dimensionsCache_[childKey] = {\n          x: containerPt.x,\n          y: containerPt.y,\n          ...latLng,\n        };\n\n        return (\n          <div\n            key={childKey}\n            style={{ ...style, ...stylePtPos }}\n            className={child.props.$markerHolderClassName}\n          >\n            {React.cloneElement(child, {\n              $hover: childKey === this.state.hoverKey,\n              $getDimensions: this._getDimensions,\n              $dimensionKey: childKey,\n              $geoService: this.props.geoService,\n              $onMouseAllow: this._onMouseAllow,\n              $prerender: this.props.prerender,\n            })}\n          </div>\n        );\n      }\n    );\n\n    return <div style={mainElementStyle}>{markers}</div>;\n  }\n}\n","import React from 'react';\nimport GoogleMapMarkers from './google_map_markers';\n\nconst style = {\n  width: '50%',\n  height: '50%',\n  left: '50%',\n  top: '50%',\n  // backgroundColor: 'red',\n  margin: 0,\n  padding: 0,\n  position: 'absolute',\n  // opacity: 0.3\n};\n\nexport default function (props) {\n  return (\n    <div style={style}>\n      <GoogleMapMarkers {...props} prerender />\n    </div>\n  );\n}\n","import { Loader } from '@googlemaps/js-api-loader';\n\nlet loader_;\nlet loadPromise_;\nlet resolveCustomPromise_;\n\nconst _customPromise = new Promise((resolve) => {\n  resolveCustomPromise_ = resolve;\n});\n\n// TODO add libraries language and other map options\nexport default (bootstrapURLKeys, heatmapLibrary) => {\n  // call from outside google-map-react\n  // will be as soon as loadPromise resolved\n  if (!bootstrapURLKeys) {\n    return _customPromise;\n  }\n\n  // avoid api to be loaded multiple times\n  if (loadPromise_) {\n    return loadPromise_;\n  }\n\n  if (!bootstrapURLKeys.libraries) {\n    bootstrapURLKeys.libraries = [];\n  }\n\n  const libraries = [...bootstrapURLKeys.libraries];\n\n  // note: heatmapLibrary will be deprecated on next major\n  if (heatmapLibrary) {\n    // if heatmapLibrary is present\n    // check if we need to add visualization library\n    if (libraries.length === 0 || !libraries.includes('visualization')) {\n      // if the array isEmpty or visualization is\n      // not present, push the visualization library\n      libraries.push('visualization');\n    }\n    console.warn(\n      \"heatmapLibrary will be deprecated in the future. Please use { libraries: ['visualization'] } in bootstrapURLKeys property instead\"\n    );\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (Object.keys(bootstrapURLKeys).indexOf('callback') > -1) {\n      const message = `\"callback\" key in bootstrapURLKeys is not allowed,\n                      use onGoogleApiLoaded property instead`;\n      // eslint-disable-next-line no-console\n      console.error(message);\n      throw new Error(message);\n    }\n  }\n\n  if (typeof window === 'undefined') {\n    throw new Error('google map cannot be loaded outside browser env');\n  }\n\n  const { key, ...restKeys } = bootstrapURLKeys;\n\n  // use single instance of Loader to avoid multiple api loads\n  if (!loader_) {\n    loader_ = new Loader({\n      // need to keep key as a prop for backwards compatibility\n      apiKey: key || '',\n      ...restKeys,\n      libraries,\n    });\n  }\n\n  loadPromise_ = loader_.load().then(() => {\n    resolveCustomPromise_(window.google.maps);\n    return window.google.maps;\n  });\n\n  resolveCustomPromise_(loadPromise_);\n\n  return loadPromise_;\n};\n","/* eslint-disable import/prefer-default-export */\n\nexport function wrap(n, min, max) {\n  const d = max - min;\n  return n === max ? n : ((((n - min) % d) + d) % d) + min;\n}\n","import { wrap } from './wrap';\n\nexport default class LatLng {\n  static convert = (a) => {\n    if (a instanceof LatLng) {\n      return a;\n    }\n\n    if (Array.isArray(a)) {\n      return new LatLng(a[0], a[1]);\n    }\n\n    if ('lng' in a && 'lat' in a) {\n      return new LatLng(a.lat, a.lng);\n    }\n\n    return a;\n  };\n\n  constructor(lat, lng) {\n    if (isNaN(lat) || isNaN(lng)) {\n      throw new Error(`Invalid LatLng object: (${lat}, ${lng})`);\n    }\n    this.lat = +lat;\n    this.lng = +lng;\n  }\n\n  wrap() {\n    return new LatLng(this.lat, wrap(this.lng, -180, 180));\n  }\n}\n","/* eslint-disable class-methods-use-this */\nimport Point from '@mapbox/point-geometry';\nimport LatLng from './lat_lng';\nimport { wrap } from './wrap';\n\n// A single transform, generally used for a single tile to be scaled, rotated, and zoomed.\nexport default class Transform {\n  constructor(tileSize, minZoom, maxZoom) {\n    this.tileSize = tileSize || 512; // constant\n\n    this._minZoom = minZoom || 0;\n    this._maxZoom = maxZoom || 52;\n\n    this.latRange = [-85.05113, 85.05113];\n\n    this.width = 0;\n    this.height = 0;\n    this.zoom = 0;\n    this.center = new LatLng(0, 0);\n    this.angle = 0;\n  }\n\n  get minZoom() {\n    return this._minZoom;\n  }\n\n  set minZoom(zoom) {\n    this._minZoom = zoom;\n    this.zoom = Math.max(this.zoom, zoom);\n  }\n\n  get maxZoom() {\n    return this._maxZoom;\n  }\n\n  set maxZoom(zoom) {\n    this._maxZoom = zoom;\n    this.zoom = Math.min(this.zoom, zoom);\n  }\n\n  get worldSize() {\n    return this.tileSize * this.scale;\n  }\n\n  get centerPoint() {\n    return new Point(0, 0); // this.size._div(2);\n  }\n\n  get size() {\n    return new Point(this.width, this.height);\n  }\n\n  get bearing() {\n    return (-this.angle / Math.PI) * 180;\n  }\n\n  set bearing(bearing) {\n    this.angle = (-wrap(bearing, -180, 180) * Math.PI) / 180;\n  }\n\n  get zoom() {\n    return this._zoom;\n  }\n\n  set zoom(zoom) {\n    const zoomV = Math.min(Math.max(zoom, this.minZoom), this.maxZoom);\n    this._zoom = zoomV;\n    this.scale = this.zoomScale(zoomV);\n    this.tileZoom = Math.floor(zoomV);\n    this.zoomFraction = zoomV - this.tileZoom;\n  }\n\n  zoomScale(zoom) {\n    return Math.pow(2, zoom);\n  }\n\n  scaleZoom(scale) {\n    return Math.log(scale) / Math.LN2;\n  }\n\n  project(latlng, worldSize) {\n    return new Point(\n      this.lngX(latlng.lng, worldSize),\n      this.latY(latlng.lat, worldSize)\n    );\n  }\n\n  unproject(point, worldSize) {\n    return new LatLng(\n      this.yLat(point.y, worldSize),\n      this.xLng(point.x, worldSize)\n    );\n  }\n\n  get x() {\n    return this.lngX(this.center.lng);\n  }\n\n  get y() {\n    return this.latY(this.center.lat);\n  }\n\n  get point() {\n    return new Point(this.x, this.y);\n  }\n\n  // lat/lon <-> absolute pixel coords convertion\n  lngX(lon, worldSize) {\n    return ((180 + lon) * (worldSize || this.worldSize)) / 360;\n  }\n\n  // latitude to absolute y coord\n  latY(lat, worldSize) {\n    const y =\n      (180 / Math.PI) * Math.log(Math.tan(Math.PI / 4 + (lat * Math.PI) / 360));\n    return ((180 - y) * (worldSize || this.worldSize)) / 360;\n  }\n\n  xLng(x, worldSize) {\n    return (x * 360) / (worldSize || this.worldSize) - 180;\n  }\n\n  yLat(y, worldSize) {\n    const y2 = 180 - (y * 360) / (worldSize || this.worldSize);\n    return (360 / Math.PI) * Math.atan(Math.exp((y2 * Math.PI) / 180)) - 90;\n  }\n\n  locationPoint(latlng) {\n    const p = this.project(latlng);\n    return this.centerPoint._sub(this.point._sub(p)._rotate(this.angle));\n  }\n\n  pointLocation(p) {\n    const p2 = this.centerPoint._sub(p)._rotate(-this.angle);\n    return this.unproject(this.point.sub(p2));\n  }\n}\n","import Point from '@mapbox/point-geometry';\n\nimport LatLng from './lat_lng';\nimport Transform from './transform';\n\nexport default class Geo {\n  constructor(tileSize) {\n    // left_top view  \n    // super();\n    this.hasSize_ = false;\n    this.hasView_ = false;\n    this.transform_ = new Transform(tileSize || 512);\n  }\n\n  setView(center, zoom, bearing) {\n    this.transform_.center = LatLng.convert(center);\n    this.transform_.zoom = +zoom;\n    this.transform_.bearing = +bearing;\n    this.hasView_ = true;\n  }\n\n  setViewSize(width, height) {\n    this.transform_.width = width;\n    this.transform_.height = height;\n    this.hasSize_ = true;\n  }\n\n  setMapCanvasProjection(maps, mapCanvasProjection) {\n    this.maps_ = maps;\n    this.mapCanvasProjection_ = mapCanvasProjection;\n  }\n\n  canProject() {\n    return this.hasSize_ && this.hasView_;\n  }\n\n  hasSize() {\n    return this.hasSize_;\n  }\n\n  /** Returns the pixel position relative to the map center. */\n  fromLatLngToCenterPixel(ptLatLng) {\n    return this.transform_.locationPoint(LatLng.convert(ptLatLng));\n  }\n\n  /**\n   * Returns the pixel position relative to the map panes,\n   * or relative to the map center if there are no panes.\n   */\n  fromLatLngToDivPixel(ptLatLng) {\n    if (this.mapCanvasProjection_) {\n      const latLng = new this.maps_.LatLng(ptLatLng.lat, ptLatLng.lng);\n      return this.mapCanvasProjection_.fromLatLngToDivPixel(latLng);\n    }\n    return this.fromLatLngToCenterPixel(ptLatLng);\n  }\n\n  /** Returns the pixel position relative to the map top-left. */\n  fromLatLngToContainerPixel(ptLatLng) {\n    if (this.mapCanvasProjection_) {\n      const latLng = new this.maps_.LatLng(ptLatLng.lat, ptLatLng.lng);\n      return this.mapCanvasProjection_.fromLatLngToContainerPixel(latLng);\n    }\n\n    const pt = this.fromLatLngToCenterPixel(ptLatLng);\n    pt.x -=\n      this.transform_.worldSize * Math.round(pt.x / this.transform_.worldSize);\n\n    pt.x += this.transform_.width / 2;\n    pt.y += this.transform_.height / 2;\n\n    return pt;\n  }\n\n  /** Returns the LatLng for the given offset from the map top-left. */\n  fromContainerPixelToLatLng(ptXY) {\n    if (this.mapCanvasProjection_) {\n      const latLng = this.mapCanvasProjection_.fromContainerPixelToLatLng(ptXY);\n      return { lat: latLng.lat(), lng: latLng.lng() };\n    }\n\n    const ptxy = { ...ptXY };\n    ptxy.x -= this.transform_.width / 2;\n    ptxy.y -= this.transform_.height / 2;\n    const ptRes = this.transform_.pointLocation(Point.convert(ptxy));\n\n    ptRes.lng -= 360 * Math.round(ptRes.lng / 360); // convert 2 google format\n    return ptRes;\n  }\n\n  getWidth() {\n    return this.transform_.width;\n  }\n\n  getHeight() {\n    return this.transform_.height;\n  }\n\n  getZoom() {\n    return this.transform_.zoom;\n  }\n\n  getCenter() {\n    const ptRes = this.transform_.pointLocation({ x: 0, y: 0 });\n\n    return ptRes;\n  }\n\n  getBounds(margins, roundFactor) {\n    const bndT = (margins && margins[0]) || 0;\n    const bndR = (margins && margins[1]) || 0;\n    const bndB = (margins && margins[2]) || 0;\n    const bndL = (margins && margins[3]) || 0;\n\n    if (\n      this.getWidth() - bndR - bndL > 0 &&\n      this.getHeight() - bndT - bndB > 0\n    ) {\n      const topLeftCorner = this.transform_.pointLocation(\n        Point.convert({\n          x: bndL - this.getWidth() / 2,\n          y: bndT - this.getHeight() / 2,\n        })\n      );\n      const bottomRightCorner = this.transform_.pointLocation(\n        Point.convert({\n          x: this.getWidth() / 2 - bndR,\n          y: this.getHeight() / 2 - bndB,\n        })\n      );\n\n      let res = [\n        topLeftCorner.lat,\n        topLeftCorner.lng, // NW\n        bottomRightCorner.lat,\n        bottomRightCorner.lng, // SE\n        bottomRightCorner.lat,\n        topLeftCorner.lng, // SW\n        topLeftCorner.lat,\n        bottomRightCorner.lng, // NE\n      ];\n\n      if (roundFactor) {\n        res = res.map((r) => Math.round(r * roundFactor) / roundFactor);\n      }\n      return res;\n    }\n\n    return [0, 0, 0, 0];\n  }\n}\n","export default function raf(callback) {\n  if (window.requestAnimationFrame) {\n    return window.requestAnimationFrame(callback);\n  }\n\n  const nativeRaf =\n    window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n\n  return nativeRaf\n    ? nativeRaf(callback)\n    : window.setTimeout(callback, 1e3 / 60);\n}\n","const log2 = Math.log2 ? Math.log2 : (x) => Math.log(x) / Math.LN2;\n\nexport default log2;\n","// source taken from https://github.com/rackt/redux/blob/master/src/utils/pick.js\n\nexport default function pick(obj, fn) {\n  return Object.keys(obj).reduce((result, key) => {\n    if (fn(obj[key])) {\n        result[key] = obj[key]; // eslint-disable-line\n    }\n    return result;\n  }, {});\n}\n","const isEmpty = (val) => {\n  // check for empty object {}, array []\n  if (val !== null && typeof val === 'object') {\n    if (Object.keys(val).length === 0) {\n      return true;\n    }\n  } else if (val === null || val === undefined || val === '') {\n    // check for undefined, null and \"\"\n    return true;\n  }\n  return false;\n};\n\nexport default isEmpty;\n","function isObjectLike(value) {\n  return !!value && typeof value === 'object';\n}\n\nconst objectToString = Object.prototype.toString;\n\nexport default function isNumber(value) {\n  const numberTag = '[object Number]';\n  return (\n    typeof value === 'number' ||\n    (isObjectLike(value) && objectToString.call(value) === numberTag)\n  );\n}\n","// http://stackoverflow.com/questions/5899783/detect-safari-chrome-ie-firefox-opera-with-user-agent\nlet detectBrowserResult_ = null;\n\nexport default function detectBrowser() {\n  if (detectBrowserResult_) {\n    return detectBrowserResult_;\n  }\n\n  if (typeof navigator !== 'undefined') {\n    const isExplorer = navigator.userAgent.indexOf('MSIE') > -1;\n    const isFirefox = navigator.userAgent.indexOf('Firefox') > -1;\n    const isOpera = navigator.userAgent.toLowerCase().indexOf('op') > -1;\n\n    let isChrome = navigator.userAgent.indexOf('Chrome') > -1;\n    let isSafari = navigator.userAgent.indexOf('Safari') > -1;\n\n    if (isChrome && isSafari) {\n      isSafari = false;\n    }\n\n    if (isChrome && isOpera) {\n      isChrome = false;\n    }\n\n    detectBrowserResult_ = {\n      isExplorer,\n      isFirefox,\n      isOpera,\n      isChrome,\n      isSafari,\n    };\n    return detectBrowserResult_;\n  }\n\n  detectBrowserResult_ = {\n    isChrome: true,\n    isExplorer: false,\n    isFirefox: false,\n    isOpera: false,\n    isSafari: false,\n  };\n\n  return detectBrowserResult_;\n}\n","// source taken from https://github.com/rackt/redux/blob/master/src/utils/isPlainObject.js\nconst fnToString = (fn) => Function.prototype.toString.call(fn);\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nexport default function isPlainObject(obj) {\n  if (!obj || typeof obj !== 'object') {\n    return false;\n  }\n\n  const proto =\n    typeof obj.constructor === 'function'\n      ? Object.getPrototypeOf(obj)\n      : Object.prototype;\n\n  if (proto === null) {\n    return true;\n  }\n\n  const constructor = proto.constructor;\n\n  return (\n    typeof constructor === 'function' &&\n    constructor instanceof constructor &&\n    fnToString(constructor) === fnToString(Object)\n  );\n}\n","// feature detection for passive support\n// see: https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#Safely_detecting_option_support\nfunction hasPassiveSupport() {\n  let passiveSupported = false;\n\n  try {\n    const options = Object.defineProperty({}, 'passive', {\n      get() {\n        passiveSupported = true;\n      },\n    });\n\n    window.addEventListener('test', options, options);\n    window.removeEventListener('test', options, options);\n  } catch (err) {\n    passiveSupported = false;\n  }\n\n  return passiveSupported;\n}\n\nexport default function addPassiveEventListener(\n  element,\n  eventName,\n  func,\n  capture\n) {\n  element.addEventListener(\n    eventName,\n    func,\n    hasPassiveSupport()\n      ? {\n          capture,\n          passive: true,\n        }\n      : capture\n  );\n}\n","/* eslint-disable */\n/**\n* Detect Element Resize.\n* Forked in order to guard against unsafe 'window' and 'document' references.\n*\n* https://github.com/sdecima/javascript-detect-element-resize\n* Sebastian Decima\n*\n* version: 0.5.3\n**/\n\nimport addPassiveEventListener from './passiveEvents';\n\n// Reliable `window` and `document` detection\nvar canUseDOM = !!(typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement);\n\n// Check `document` and `window` in case of server-side rendering\nvar _window;\nif (canUseDOM) {\n  _window = window;\n} else if (typeof self !== 'undefined') {\n  _window = self;\n} else {\n  _window = this;\n}\n\nvar attachEvent = typeof document !== 'undefined' && document.attachEvent;\nvar stylesCreated = false;\n\nif (canUseDOM && !attachEvent) {\n  var requestFrame = (function () {\n    var raf = _window.requestAnimationFrame ||\n      _window.mozRequestAnimationFrame ||\n      _window.webkitRequestAnimationFrame ||\n      function (fn) {\n        return _window.setTimeout(fn, 20);\n      };\n    return function (fn) {\n      return raf(fn);\n    };\n  })();\n\n  var cancelFrame = (function () {\n    var cancel = _window.cancelAnimationFrame ||\n      _window.mozCancelAnimationFrame ||\n      _window.webkitCancelAnimationFrame ||\n      _window.clearTimeout;\n    return function (id) {\n      return cancel(id);\n    };\n  })();\n\n  var resetTriggers = function (element) {\n    var triggers = element.__resizeTriggers__,\n      expand = triggers.firstElementChild,\n      contract = triggers.lastElementChild,\n      expandChild = expand.firstElementChild;\n    contract.scrollLeft = contract.scrollWidth;\n    contract.scrollTop = contract.scrollHeight;\n    expandChild.style.width = expand.offsetWidth + 1 + 'px';\n    expandChild.style.height = expand.offsetHeight + 1 + 'px';\n    expand.scrollLeft = expand.scrollWidth;\n    expand.scrollTop = expand.scrollHeight;\n  };\n\n  var checkTriggers = function (element) {\n    return element.offsetWidth != element.__resizeLast__.width ||\n      element.offsetHeight != element.__resizeLast__.height;\n  };\n\n  var scrollListener = function (e) {\n    var element = this;\n    resetTriggers(this);\n    if (this.__resizeRAF__) cancelFrame(this.__resizeRAF__);\n    this.__resizeRAF__ = requestFrame(function () {\n      if (checkTriggers(element)) {\n        element.__resizeLast__.width = element.offsetWidth;\n        element.__resizeLast__.height = element.offsetHeight;\n        element.__resizeListeners__.forEach(function (fn) {\n          fn.call(element, e);\n        });\n      }\n    });\n  };\n\n  /* Detect CSS Animations support to detect element display/re-attach */\n  var animation = false,\n    animationstring = 'animation',\n    keyframeprefix = '',\n    animationstartevent = 'animationstart',\n    domPrefixes = 'Webkit Moz O ms'.split(' '),\n    startEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(\n      ' '\n    ),\n    pfx = '';\n\n  if (canUseDOM) {\n    var elm = document.createElement('fakeelement');\n    if (elm.style.animationName !== undefined) {\n      animation = true;\n    }\n\n    if (animation === false) {\n      for (var i = 0; i < domPrefixes.length; i++) {\n        if (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n          pfx = domPrefixes[i];\n          animationstring = pfx + 'Animation';\n          keyframeprefix = '-' + pfx.toLowerCase() + '-';\n          animationstartevent = startEvents[i];\n          animation = true;\n          break;\n        }\n      }\n    }\n  }\n\n  var animationName = 'resizeanim';\n  var animationKeyframes = '@' +\n    keyframeprefix +\n    'keyframes ' +\n    animationName +\n    ' { from { opacity: 0; } to { opacity: 0; } } ';\n  var animationStyle = keyframeprefix +\n    'animation: 1ms ' +\n    animationName +\n    '; ';\n}\n\nvar createStyles = function () {\n  if (!stylesCreated) {\n    //opacity:0 works around a chrome bug https://code.google.com/p/chromium/issues/detail?id=286360\n    var css = (animationKeyframes ? animationKeyframes : '') +\n      '.resize-triggers { ' +\n      (animationStyle ? animationStyle : '') +\n      'visibility: hidden; opacity: 0; } ' +\n      '.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \" \"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n      head = document.head || document.getElementsByTagName('head')[0],\n      style = document.createElement('style');\n\n    style.type = 'text/css';\n    if (style.styleSheet) {\n      style.styleSheet.cssText = css;\n    } else {\n      style.appendChild(document.createTextNode(css));\n    }\n\n    head.appendChild(style);\n    stylesCreated = true;\n  }\n};\n\nvar addResizeListener = function (element, fn) {\n  if (element.parentNode === undefined) {\n    var tempParentDiv = document.createElement('div');\n    element.parentNode = tempParentDiv;\n  }\n  element = element.parentNode;\n  if (attachEvent)\n    element.attachEvent('onresize', fn);\n  else {\n    if (!element.__resizeTriggers__) {\n      if (getComputedStyle(element).position == 'static')\n        element.style.position = 'relative';\n      createStyles();\n      element.__resizeLast__ = {};\n      element.__resizeListeners__ = [];\n      (element.__resizeTriggers__ = document.createElement(\n        'div'\n      )).className = 'resize-triggers';\n      element.__resizeTriggers__.innerHTML = '<div class=\"expand-trigger\"><div></div></div>' +\n        '<div class=\"contract-trigger\"></div>';\n      element.appendChild(element.__resizeTriggers__);\n      resetTriggers(element);\n\n      addPassiveEventListener(element, 'scroll', scrollListener, true);\n\n      /* Listen for a css animation to detect element display/re-attach */\n      animationstartevent &&\n        element.__resizeTriggers__.addEventListener(\n          animationstartevent,\n          function (e) {\n            if (e.animationName == animationName) resetTriggers(element);\n          }\n        );\n    }\n    element.__resizeListeners__.push(fn);\n  }\n};\n\nvar removeResizeListener = function (element, fn) {\n  element = element.parentNode;\n  if (attachEvent)\n    element.detachEvent('onresize', fn);\n  else {\n    element.__resizeListeners__.splice(\n      element.__resizeListeners__.indexOf(fn),\n      1\n    );\n    if (!element.__resizeListeners__.length) {\n      element.removeEventListener('scroll', scrollListener);\n      element.__resizeTriggers__ = !element.removeChild(\n        element.__resizeTriggers__\n      );\n    }\n  }\n};\n\nexport {\n  addResizeListener,\n  removeResizeListener,\n};\n","/* eslint-disable import/no-extraneous-dependencies, react/forbid-prop-types, react/no-find-dom-node, no-console, no-undef */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\n\n// helpers\nimport GoogleMapMap from './google_map_map';\nimport MarkerDispatcher from './marker_dispatcher';\nimport GoogleMapMarkers from './google_map_markers';\nimport GoogleMapMarkersPrerender from './google_map_markers_prerender';\nimport { generateHeatmap, optionsHeatmap } from './google_heatmap';\n\n// loaders\nimport googleMapLoader from './loaders/google_map_loader';\n\n// lib\nimport Geo from './lib/geo';\n\n// tools\nimport raf from './utils/raf';\nimport log2 from './utils/log2';\nimport omit from './utils/omit';\nimport pick from './utils/pick';\nimport isEmpty from './utils/isEmpty';\nimport isNumber from './utils/isNumber';\nimport detectBrowser from './utils/detect';\nimport shallowEqual from './utils/shallowEqual';\nimport isPlainObject from './utils/isPlainObject';\nimport isArraysEqualEps from './utils/isArraysEqualEps';\nimport {\n  addResizeListener,\n  removeResizeListener,\n} from './utils/detectElementResize';\nimport addPassiveEventListener from './utils/passiveEvents';\n\n// consts\nconst kEPS = 0.00001;\nconst K_GOOGLE_TILE_SIZE = 256;\n// real minZoom calculated here _getMinZoom\nconst K_IDLE_TIMEOUT = 100;\nconst K_IDLE_CLICK_TIMEOUT = 300;\nconst DEFAULT_MIN_ZOOM = 3;\n// Starting with version 3.32, the maps API calls `draw()` each frame during\n// a zoom animation.\nconst DRAW_CALLED_DURING_ANIMATION_VERSION = 32;\nconst IS_REACT_16 = ReactDOM.createPortal !== undefined;\n\nconst createPortal = IS_REACT_16\n  ? ReactDOM.createPortal\n  : ReactDOM.unstable_renderSubtreeIntoContainer;\n\nfunction defaultOptions_(/* maps */) {\n  return {\n    overviewMapControl: false,\n    streetViewControl: false,\n    rotateControl: true,\n    mapTypeControl: false,\n    // disable poi\n    styles: [\n      {\n        featureType: 'poi',\n        elementType: 'labels',\n        stylers: [{ visibility: 'off' }],\n      },\n    ],\n    minZoom: DEFAULT_MIN_ZOOM, // dynamically recalculted if possible during init\n  };\n}\n\nconst latLng2Obj = (latLng) =>\n  isPlainObject(latLng) ? latLng : { lat: latLng[0], lng: latLng[1] };\n\nconst _checkMinZoom = (zoom, minZoom) => {\n  if (process.env.NODE_ENV !== 'production') {\n    if (zoom < minZoom) {\n      console.warn(\n        'GoogleMap: ' + // eslint-disable-line\n          'minZoom option is less than recommended ' +\n          'minZoom option for your map sizes.\\n' +\n          'overrided to value ' +\n          minZoom\n      );\n    }\n  }\n\n  if (minZoom < zoom) {\n    return zoom;\n  }\n  return minZoom;\n};\n\nconst isFullScreen = () =>\n  document.fullscreen ||\n  document.webkitIsFullScreen ||\n  document.mozFullScreen ||\n  document.msFullscreenElement;\n\nclass GoogleMap extends Component {\n  static propTypes = {\n    apiKey: PropTypes.string,\n    bootstrapURLKeys: PropTypes.any,\n\n    defaultCenter: PropTypes.oneOfType([\n      PropTypes.array,\n      PropTypes.shape({\n        lat: PropTypes.number,\n        lng: PropTypes.number,\n      }),\n    ]),\n    center: PropTypes.oneOfType([\n      PropTypes.array,\n      PropTypes.shape({\n        lat: PropTypes.number,\n        lng: PropTypes.number,\n      }),\n    ]),\n    defaultZoom: PropTypes.number,\n    zoom: PropTypes.number,\n    onBoundsChange: PropTypes.func,\n    onChange: PropTypes.func,\n    onClick: PropTypes.func,\n    onChildClick: PropTypes.func,\n    onChildMouseDown: PropTypes.func,\n    onChildMouseUp: PropTypes.func,\n    onChildMouseMove: PropTypes.func,\n    onChildMouseEnter: PropTypes.func,\n    onChildMouseLeave: PropTypes.func,\n    onZoomAnimationStart: PropTypes.func,\n    onZoomAnimationEnd: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDragEnd: PropTypes.func,\n    onMapTypeIdChange: PropTypes.func,\n    onTilesLoaded: PropTypes.func,\n    options: PropTypes.any,\n    distanceToMouse: PropTypes.func,\n    hoverDistance: PropTypes.number,\n    debounced: PropTypes.bool,\n    margin: PropTypes.array,\n    googleMapLoader: PropTypes.any,\n    onGoogleApiLoaded: PropTypes.func,\n    yesIWantToUseGoogleMapApiInternals: PropTypes.bool,\n    draggable: PropTypes.bool,\n    style: PropTypes.any,\n    resetBoundsOnResize: PropTypes.bool,\n    layerTypes: PropTypes.arrayOf(PropTypes.string), // ['TransitLayer', 'TrafficLayer']\n    shouldUnregisterMapOnUnmount: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    distanceToMouse(pt, mousePos /* , markerProps */) {\n      return Math.sqrt(\n        (pt.x - mousePos.x) * (pt.x - mousePos.x) +\n          (pt.y - mousePos.y) * (pt.y - mousePos.y)\n      );\n    },\n    hoverDistance: 30,\n    debounced: true,\n    options: defaultOptions_,\n    googleMapLoader,\n    yesIWantToUseGoogleMapApiInternals: false,\n    style: {\n      width: '100%',\n      height: '100%',\n      margin: 0,\n      padding: 0,\n      position: 'relative',\n    },\n    layerTypes: [],\n    heatmap: {},\n    heatmapLibrary: false,\n    shouldUnregisterMapOnUnmount: true,\n  };\n\n  static googleMapLoader = googleMapLoader; // eslint-disable-line\n\n  constructor(props) {\n    super(props);\n    this.mounted_ = false;\n    this.initialized_ = false;\n    this.googleApiLoadedCalled_ = false;\n\n    this.map_ = null;\n    this.maps_ = null;\n    this.prevBounds_ = null;\n    this.heatmap = null;\n\n    this.layers_ = {};\n\n    this.mouse_ = null;\n    this.mouseMoveTime_ = 0;\n    this.boundingRect_ = null;\n    this.mouseInMap_ = true;\n\n    this.dragTime_ = 0;\n    this.fireMouseEventOnIdle_ = false;\n    this.updateCounter_ = 0;\n\n    this.markersDispatcher_ = new MarkerDispatcher(this);\n    this.geoService_ = new Geo(K_GOOGLE_TILE_SIZE);\n    this.centerIsObject_ = isPlainObject(this.props.center);\n\n    this.minZoom_ = DEFAULT_MIN_ZOOM;\n    this.defaultDraggableOption_ = true;\n\n    this.zoomControlClickTime_ = 0;\n\n    this.childMouseDownArgs_ = null;\n    this.childMouseUpTime_ = 0;\n\n    this.googleMapDom_ = null;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.props.apiKey) {\n        console.warn(\n          'GoogleMap: ' + // eslint-disable-line no-console\n            'apiKey is deprecated, use ' +\n            'bootstrapURLKeys={{key: YOUR_API_KEY}} instead.'\n        );\n      }\n\n      if (this.props.onBoundsChange) {\n        console.warn(\n          'GoogleMap: ' + // eslint-disable-line no-console\n            'onBoundsChange is deprecated, use ' +\n            'onChange({center, zoom, bounds, ...other}) instead.'\n        );\n      }\n\n      if (isEmpty(this.props.center) && isEmpty(this.props.defaultCenter)) {\n        console.warn(\n          'GoogleMap: center or defaultCenter property must be defined' // eslint-disable-line no-console\n        );\n      }\n\n      if (isEmpty(this.props.zoom) && isEmpty(this.props.defaultZoom)) {\n        console.warn(\n          'GoogleMap: zoom or defaultZoom property must be defined' // eslint-disable-line no-console\n        );\n      }\n    }\n\n    if (this._isCenterDefined(this.props.center || this.props.defaultCenter)) {\n      const propsCenter = latLng2Obj(\n        this.props.center || this.props.defaultCenter\n      );\n      this.geoService_.setView(\n        propsCenter,\n        this.props.zoom || this.props.defaultZoom,\n        0\n      );\n    }\n\n    this.zoomAnimationInProgress_ = false;\n\n    this.state = {\n      overlay: null,\n    };\n  }\n\n  componentDidMount() {\n    this.mounted_ = true;\n    addPassiveEventListener(window, 'resize', this._onWindowResize, false);\n    addPassiveEventListener(window, 'keydown', this._onKeyDownCapture, true);\n    const mapDom = ReactDOM.findDOMNode(this.googleMapDom_);\n    // gmap can't prevent map drag if mousedown event already occured\n    // the only workaround I find is prevent mousedown native browser event\n\n    if (mapDom) {\n      addPassiveEventListener(\n        mapDom,\n        'mousedown',\n        this._onMapMouseDownNative,\n        true\n      );\n    }\n\n    addPassiveEventListener(window, 'mouseup', this._onChildMouseUp, false);\n    const bootstrapURLKeys = {\n      ...(this.props.apiKey && { key: this.props.apiKey }),\n      ...this.props.bootstrapURLKeys,\n    };\n\n    this.props.googleMapLoader(bootstrapURLKeys, this.props.heatmapLibrary); // we can start load immediatly\n\n    setTimeout(\n      () => {\n        // to detect size\n        this._setViewSize();\n        if (\n          this._isCenterDefined(this.props.center || this.props.defaultCenter)\n        ) {\n          this._initMap();\n        }\n      },\n      0,\n      this\n    );\n    if (this.props.resetBoundsOnResize) {\n      const that = this;\n      addResizeListener(mapDom, that._mapDomResizeCallback);\n    }\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // draggable does not affect inner components\n    return (\n      !shallowEqual(\n        omit(this.props, ['draggable']),\n        omit(nextProps, ['draggable'])\n      ) || !shallowEqual(this.state, nextState)\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!shallowEqual(prevProps.defaultCenter, this.props.defaultCenter)) {\n        console.warn(\n          \"GoogleMap: defaultCenter prop changed. You can't change default props.\"\n        );\n      }\n\n      if (!shallowEqual(prevProps.defaultZoom, this.props.defaultZoom)) {\n        console.warn(\n          \"GoogleMap: defaultZoom prop changed. You can't change default props.\"\n        );\n      }\n    }\n\n    if (\n      !this._isCenterDefined(prevProps.center) &&\n      this._isCenterDefined(this.props.center)\n    ) {\n      setTimeout(() => this._initMap(), 0);\n    }\n\n    if (this.map_) {\n      const centerLatLng = this.geoService_.getCenter();\n      if (this._isCenterDefined(this.props.center)) {\n        const currentCenter = latLng2Obj(this.props.center);\n        const prevCenter = this._isCenterDefined(prevProps.center)\n          ? latLng2Obj(prevProps.center)\n          : null;\n\n        if (\n          !prevCenter ||\n          Math.abs(currentCenter.lat - prevCenter.lat) +\n            Math.abs(currentCenter.lng - prevCenter.lng) >\n            kEPS\n        ) {\n          if (\n            Math.abs(currentCenter.lat - centerLatLng.lat) +\n              Math.abs(currentCenter.lng - centerLatLng.lng) >\n            kEPS\n          ) {\n            this.map_.panTo({\n              lat: currentCenter.lat,\n              lng: currentCenter.lng,\n            });\n          }\n        }\n      }\n\n      if (!isEmpty(this.props.zoom)) {\n        // if zoom chaged by user\n        if (Math.abs(this.props.zoom - prevProps.zoom) > 0) {\n          this.map_.setZoom(this.props.zoom);\n        }\n      }\n\n      if (!isEmpty(prevProps.draggable) && isEmpty(this.props.draggable)) {\n        // reset to default\n        this.map_.setOptions({ draggable: this.defaultDraggableOption_ });\n      } else if (!shallowEqual(prevProps.draggable, this.props.draggable)) {\n        // also prevent this on window 'mousedown' event to prevent map move\n        this.map_.setOptions({ draggable: this.props.draggable });\n      }\n\n      // use shallowEqual to try avoid calling map._setOptions if only the ref changes\n      if (\n        !isEmpty(this.props.options) &&\n        !shallowEqual(prevProps.options, this.props.options)\n      ) {\n        const mapPlainObjects = pick(this.maps_, isPlainObject);\n        let options =\n          typeof this.props.options === 'function'\n            ? this.props.options(mapPlainObjects)\n            : this.props.options;\n        // remove zoom, center and draggable options as these are managed by google-maps-react\n        options = omit(options, ['zoom', 'center', 'draggable']);\n\n        if ('minZoom' in options) {\n          const minZoom = this._computeMinZoom(options.minZoom);\n          options.minZoom = _checkMinZoom(options.minZoom, minZoom);\n        }\n\n        this.map_.setOptions(options);\n      }\n\n      if (!shallowEqual(this.props.layerTypes, prevProps.layerTypes)) {\n        Object.keys(this.layers_).forEach((layerKey) => {\n          this.layers_[layerKey].setMap(null);\n          delete this.layers_[layerKey];\n        });\n        this._setLayers(this.props.layerTypes);\n      }\n\n      if (\n        this.heatmap &&\n        !shallowEqual(this.props.heatmap.positions, prevProps.heatmap.positions)\n      ) {\n        this.heatmap.setData(\n          this.props.heatmap.positions.map((p) => ({\n            location: new this.maps_.LatLng(p.lat, p.lng),\n            weight: p.weight,\n          }))\n        );\n      }\n      if (\n        this.heatmap &&\n        !shallowEqual(this.props.heatmap.options, prevProps.heatmap.options)\n      ) {\n        Object.keys(this.props.heatmap.options).forEach((option) => {\n          this.heatmap.set(option, this.props.heatmap.options[option]);\n        });\n      }\n    }\n    // emit actions\n    this.markersDispatcher_.emit('kON_CHANGE');\n\n    if (!shallowEqual(this.props.hoverDistance, prevProps.hoverDistance)) {\n      this.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n    }\n  }\n\n  componentWillUnmount() {\n    this.mounted_ = false;\n    const mapDom = ReactDOM.findDOMNode(this.googleMapDom_);\n    if (mapDom) {\n      mapDom.removeEventListener('mousedown', this._onMapMouseDownNative, true);\n    }\n    window.removeEventListener('resize', this._onWindowResize);\n    window.removeEventListener('keydown', this._onKeyDownCapture);\n    window.removeEventListener('mouseup', this._onChildMouseUp, false);\n    if (this.props.resetBoundsOnResize) {\n      removeResizeListener(mapDom, this._mapDomResizeCallback);\n    }\n\n    if (this.overlay_) {\n      // this triggers overlay_.onRemove(), which will unmount the <GoogleMapMarkers/>\n      this.overlay_.setMap(null);\n    }\n\n    if (this.maps_ && this.map_ && this.props.shouldUnregisterMapOnUnmount) {\n      // fix google, as otherwise listeners works even without map\n      this.map_.setOptions({ scrollwheel: false });\n      this.maps_.event.clearInstanceListeners(this.map_);\n    }\n\n    if (this.props.shouldUnregisterMapOnUnmount) {\n      this.map_ = null;\n      this.maps_ = null;\n    }\n    this.markersDispatcher_.dispose();\n\n    this.resetSizeOnIdle_ = false;\n\n    if (this.props.shouldUnregisterMapOnUnmount) {\n      delete this.map_;\n      delete this.markersDispatcher_;\n    }\n  }\n\n  // calc minZoom if map size available\n  // it's better to not set minZoom less than this calculation gives\n  // otherwise there is no homeomorphism between screen coordinates and map\n  // (one map coordinate can have different screen coordinates)\n  _getMinZoom = () => {\n    if (this.geoService_.getWidth() > 0 || this.geoService_.getHeight() > 0) {\n      const tilesPerWidth =\n        Math.ceil(this.geoService_.getWidth() / K_GOOGLE_TILE_SIZE) + 2;\n      const tilesPerHeight =\n        Math.ceil(this.geoService_.getHeight() / K_GOOGLE_TILE_SIZE) + 2;\n      const maxTilesPerDim = Math.max(tilesPerWidth, tilesPerHeight);\n      return Math.ceil(log2(maxTilesPerDim));\n    }\n    return DEFAULT_MIN_ZOOM;\n  };\n\n  _computeMinZoom = (minZoom) => {\n    if (!isEmpty(minZoom)) {\n      return minZoom;\n    }\n    return this._getMinZoom();\n  };\n\n  _mapDomResizeCallback = () => {\n    this.resetSizeOnIdle_ = true;\n    if (this.maps_) {\n      const originalCenter = this.props.center || this.props.defaultCenter;\n      const currentCenter = this.map_.getCenter();\n      this.maps_.event.trigger(this.map_, 'resize');\n      this.map_.setCenter(\n        this.props.resetBoundsOnResize ? originalCenter : currentCenter\n      );\n    }\n  };\n\n  _setLayers = (layerTypes) => {\n    layerTypes.forEach((layerType) => {\n      this.layers_[layerType] = new this.maps_[layerType]();\n      this.layers_[layerType].setMap(this.map_);\n    });\n  };\n\n  _renderPortal = () => (\n    <GoogleMapMarkers\n      experimental={this.props.experimental}\n      onChildClick={this._onChildClick}\n      onChildMouseDown={this._onChildMouseDown}\n      onChildMouseEnter={this._onChildMouseEnter}\n      onChildMouseLeave={this._onChildMouseLeave}\n      geoService={this.geoService_}\n      insideMapPanes\n      distanceToMouse={this.props.distanceToMouse}\n      getHoverDistance={this._getHoverDistance}\n      dispatcher={this.markersDispatcher_}\n    />\n  );\n\n  _initMap = () => {\n    // only initialize the map once\n    if (this.initialized_) {\n      return;\n    }\n    this.initialized_ = true;\n\n    const propsCenter = latLng2Obj(\n      this.props.center || this.props.defaultCenter\n    );\n    this.geoService_.setView(\n      propsCenter,\n      this.props.zoom || this.props.defaultZoom,\n      0\n    );\n\n    this._onBoundsChanged(); // now we can calculate map bounds center etc...\n\n    const bootstrapURLKeys = {\n      ...(this.props.apiKey && { key: this.props.apiKey }),\n      ...this.props.bootstrapURLKeys,\n    };\n\n    this.props\n      .googleMapLoader(bootstrapURLKeys, this.props.heatmapLibrary)\n      .then((maps) => {\n        if (!this.mounted_) {\n          return;\n        }\n\n        const centerLatLng = this.geoService_.getCenter();\n\n        const propsOptions = {\n          zoom: this.props.zoom || this.props.defaultZoom,\n          center: new maps.LatLng(centerLatLng.lat, centerLatLng.lng),\n        };\n\n        // Start Heatmap\n        if (this.props.heatmap.positions) {\n          Object.assign(this, {\n            heatmap: generateHeatmap(maps, this.props.heatmap),\n          });\n          optionsHeatmap(this.heatmap, this.props.heatmap);\n        }\n        // End Heatmap\n\n        // prevent to exapose full api\n        // next props must be exposed (console.log(Object.keys(pick(maps, isPlainObject))))\n        // \"Animation\", \"ControlPosition\", \"MapTypeControlStyle\", \"MapTypeId\",\n        // \"NavigationControlStyle\", \"ScaleControlStyle\", \"StrokePosition\",\n        // \"SymbolPath\", \"ZoomControlStyle\",\n        // \"event\", \"DirectionsStatus\", \"DirectionsTravelMode\", \"DirectionsUnitSystem\",\n        // \"DistanceMatrixStatus\",\n        // \"DistanceMatrixElementStatus\", \"ElevationStatus\", \"GeocoderLocationType\",\n        // \"GeocoderStatus\", \"KmlLayerStatus\",\n        // \"MaxZoomStatus\", \"StreetViewStatus\", \"TransitMode\", \"TransitRoutePreference\",\n        // \"TravelMode\", \"UnitSystem\"\n        const mapPlainObjects = pick(maps, isPlainObject);\n        const options =\n          typeof this.props.options === 'function'\n            ? this.props.options(mapPlainObjects)\n            : this.props.options;\n        const defaultOptions = defaultOptions_(mapPlainObjects);\n\n        const draggableOptions = !isEmpty(this.props.draggable) && {\n          draggable: this.props.draggable,\n        };\n\n        const minZoom = this._computeMinZoom(options.minZoom);\n        this.minZoom_ = minZoom;\n\n        const preMapOptions = {\n          ...defaultOptions,\n          minZoom,\n          ...options,\n          ...propsOptions,\n        };\n\n        this.defaultDraggableOption_ = !isEmpty(preMapOptions.draggable)\n          ? preMapOptions.draggable\n          : this.defaultDraggableOption_;\n\n        const mapOptions = {\n          ...preMapOptions,\n          ...draggableOptions,\n        };\n\n        mapOptions.minZoom = _checkMinZoom(mapOptions.minZoom, minZoom);\n\n        const map = new maps.Map(\n          ReactDOM.findDOMNode(this.googleMapDom_),\n          mapOptions\n        );\n\n        this.map_ = map;\n        this.maps_ = maps;\n\n        this._setLayers(this.props.layerTypes);\n\n        // Parse `google.maps.version` to capture the major version number.\n        const versionMatch = maps.version.match(/^3\\.(\\d+)\\./);\n        // The major version is the first (and only) captured group.\n        const mapsVersion = versionMatch && Number(versionMatch[1]);\n\n        // render in overlay\n        const this_ = this;\n        const overlay = Object.assign(new maps.OverlayView(), {\n          onAdd() {\n            const K_MAX_WIDTH =\n              typeof screen !== 'undefined' ? `${screen.width}px` : '2000px';\n            const K_MAX_HEIGHT =\n              typeof screen !== 'undefined' ? `${screen.height}px` : '2000px';\n\n            const div = document.createElement('div');\n            div.style.backgroundColor = 'transparent';\n            div.style.position = 'absolute';\n            div.style.left = '0px';\n            div.style.top = '0px';\n            div.style.width = K_MAX_WIDTH; // prevents some chrome draw defects\n            div.style.height = K_MAX_HEIGHT;\n\n            if (this_.props.overlayViewDivStyle) {\n              const { overlayViewDivStyle } = this_.props;\n              if (typeof overlayViewDivStyle === 'object') {\n                Object.keys(overlayViewDivStyle).forEach((property) => {\n                  div.style[property] = overlayViewDivStyle[property];\n                });\n              }\n            }\n\n            const panes = this.getPanes();\n            panes.overlayMouseTarget.appendChild(div);\n            this_.geoService_.setMapCanvasProjection(\n              maps,\n              overlay.getProjection()\n            );\n\n            if (!IS_REACT_16) {\n              createPortal(\n                this_,\n                this_._renderPortal(),\n                div,\n                // remove prerendered markers\n                () => this_.setState({ overlay: div })\n              );\n            } else {\n              this_.setState({ overlay: div });\n            }\n          },\n\n          onRemove() {\n            const renderedOverlay = this_.state.overlay;\n            if (renderedOverlay && !IS_REACT_16) {\n              ReactDOM.unmountComponentAtNode(renderedOverlay);\n            }\n            this_.setState({ overlay: null });\n          },\n\n          draw() {\n            this_.updateCounter_++;\n            this_._onBoundsChanged(map, maps, !this_.props.debounced);\n\n            if (!this_.googleApiLoadedCalled_) {\n              this_._onGoogleApiLoaded({ map, maps, ref: this_.googleMapDom_ });\n              this_.googleApiLoadedCalled_ = true;\n            }\n\n            if (this_.mouse_) {\n              const latLng = this_.geoService_.fromContainerPixelToLatLng(\n                this_.mouse_\n              );\n              this_.mouse_.lat = latLng.lat;\n              this_.mouse_.lng = latLng.lng;\n            }\n\n            this_._onChildMouseMove();\n\n            if (this_.markersDispatcher_) {\n              this_.markersDispatcher_.emit('kON_CHANGE');\n              if (this_.fireMouseEventOnIdle_) {\n                this_.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n              }\n            }\n          },\n        });\n\n        this.overlay_ = overlay;\n\n        overlay.setMap(map);\n        if (this.props.heatmap.positions) {\n          this.heatmap.setMap(map);\n        }\n\n        if (this.props.onTilesLoaded) {\n          maps.event.addListener(map, 'tilesloaded', () => {\n            this_._onTilesLoaded();\n          });\n        }\n\n        maps.event.addListener(map, 'zoom_changed', () => {\n          // recalc position at zoom start\n          if (this_.geoService_.getZoom() !== map.getZoom()) {\n            if (!this_.zoomAnimationInProgress_) {\n              this_.zoomAnimationInProgress_ = true;\n              this_._onZoomAnimationStart(map.zoom);\n            }\n\n            // If draw() is not called each frame during a zoom animation,\n            // simulate it.\n            if (mapsVersion < DRAW_CALLED_DURING_ANIMATION_VERSION) {\n              const TIMEOUT_ZOOM = 300;\n\n              if (\n                new Date().getTime() - this.zoomControlClickTime_ <\n                TIMEOUT_ZOOM\n              ) {\n                // there is strange Google Map Api behavior in chrome when zoom animation of map\n                // is started only on second raf call, if was click on zoom control\n                // or +- keys pressed, so i wait for two rafs before change state\n\n                // this does not fully prevent animation jump\n                // but reduce it's occurence probability\n                raf(() =>\n                  raf(() => {\n                    this_.updateCounter_++;\n                    this_._onBoundsChanged(map, maps);\n                  })\n                );\n              } else {\n                this_.updateCounter_++;\n                this_._onBoundsChanged(map, maps);\n              }\n            }\n          }\n        });\n\n        maps.event.addListener(map, 'idle', () => {\n          if (this.resetSizeOnIdle_) {\n            this._setViewSize();\n            const currMinZoom = this._computeMinZoom(options.minZoom);\n\n            if (currMinZoom !== this.minZoom_) {\n              this.minZoom_ = currMinZoom;\n              map.setOptions({ minZoom: currMinZoom });\n            }\n\n            this.resetSizeOnIdle_ = false;\n          }\n\n          if (this_.zoomAnimationInProgress_) {\n            this_.zoomAnimationInProgress_ = false;\n            this_._onZoomAnimationEnd(map.zoom);\n          }\n\n          this_.updateCounter_++;\n          this_._onBoundsChanged(map, maps);\n\n          this_.dragTime_ = 0;\n\n          if (this_.markersDispatcher_) {\n            this_.markersDispatcher_.emit('kON_CHANGE');\n          }\n        });\n\n        maps.event.addListener(map, 'mouseover', () => {\n          // has advantage over div MouseLeave\n          this_.mouseInMap_ = true;\n        });\n\n        // an alternative way to know the mouse is back within the map\n        // This would not fire when clicking/interacting with google maps\n        // own on-map countrols+markers. This handles an edge case for touch devices\n        // + 'draggable:false' custom option. See #332 for more details.\n        maps.event.addListener(map, 'click', () => {\n          this_.mouseInMap_ = true;\n        });\n\n        maps.event.addListener(map, 'mouseout', () => {\n          // has advantage over div MouseLeave\n          this_.mouseInMap_ = false;\n          this_.mouse_ = null;\n          this_.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n        });\n\n        maps.event.addListener(map, 'drag', () => {\n          this_.dragTime_ = new Date().getTime();\n          this_._onDrag(map);\n        });\n\n        maps.event.addListener(map, 'dragend', () => {\n          // 'dragend' fires on mouse release.\n          // 'idle' listener waits until drag inertia ends before firing `onDragEnd`\n          const idleListener = maps.event.addListener(map, 'idle', () => {\n            maps.event.removeListener(idleListener);\n            this_._onDragEnd(map);\n          });\n        });\n        // user choosing satellite vs roads, etc\n        maps.event.addListener(map, 'maptypeid_changed', () => {\n          this_._onMapTypeIdChange(map.getMapTypeId());\n        });\n      })\n      .catch((e) => {\n        // notify callback of load failure\n        this._onGoogleApiLoaded({\n          map: null,\n          maps: null,\n          ref: this.googleMapDom_,\n        });\n        console.error(e); // eslint-disable-line no-console\n        throw e;\n      });\n  };\n\n  _onGoogleApiLoaded = (...args) => {\n    if (this.props.onGoogleApiLoaded) {\n      if (\n        process.env.NODE_ENV !== 'production' &&\n        this.props.yesIWantToUseGoogleMapApiInternals !== true\n      ) {\n        console.warn(\n          'GoogleMap: ' + // eslint-disable-line\n            'Usage of internal api objects is dangerous ' +\n            'and can cause a lot of issues.\\n' +\n            'To hide this warning add yesIWantToUseGoogleMapApiInternals={true} ' +\n            'to <GoogleMap instance'\n        );\n      }\n\n      this.props.onGoogleApiLoaded(...args);\n    }\n  };\n\n  _getHoverDistance = () => this.props.hoverDistance;\n\n  _onDrag = (...args) => this.props.onDrag && this.props.onDrag(...args);\n\n  _onDragEnd = (...args) =>\n    this.props.onDragEnd && this.props.onDragEnd(...args);\n\n  _onMapTypeIdChange = (...args) =>\n    this.props.onMapTypeIdChange && this.props.onMapTypeIdChange(...args);\n\n  _onZoomAnimationStart = (...args) =>\n    this.props.onZoomAnimationStart && this.props.onZoomAnimationStart(...args);\n\n  _onZoomAnimationEnd = (...args) =>\n    this.props.onZoomAnimationEnd && this.props.onZoomAnimationEnd(...args);\n\n  _onTilesLoaded = () => this.props.onTilesLoaded && this.props.onTilesLoaded();\n\n  _onChildClick = (...args) => {\n    if (this.props.onChildClick) {\n      return this.props.onChildClick(...args);\n    }\n    return undefined;\n  };\n\n  _onChildMouseDown = (hoverKey, childProps) => {\n    this.childMouseDownArgs_ = [hoverKey, childProps];\n    if (this.props.onChildMouseDown) {\n      this.props.onChildMouseDown(hoverKey, childProps, { ...this.mouse_ });\n    }\n  };\n\n  // this method works only if this.props.onChildMouseDown was called\n  _onChildMouseUp = () => {\n    if (this.childMouseDownArgs_) {\n      if (this.props.onChildMouseUp) {\n        this.props.onChildMouseUp(...this.childMouseDownArgs_, {\n          ...this.mouse_,\n        });\n      }\n      this.childMouseDownArgs_ = null;\n      this.childMouseUpTime_ = new Date().getTime();\n    }\n  };\n\n  // this method works only if this.props.onChildMouseDown was called\n  _onChildMouseMove = () => {\n    if (this.childMouseDownArgs_) {\n      if (this.props.onChildMouseMove) {\n        this.props.onChildMouseMove(...this.childMouseDownArgs_, {\n          ...this.mouse_,\n        });\n      }\n    }\n  };\n\n  _onChildMouseEnter = (...args) => {\n    if (this.props.onChildMouseEnter) {\n      return this.props.onChildMouseEnter(...args);\n    }\n    return undefined;\n  };\n\n  _onChildMouseLeave = (...args) => {\n    if (this.props.onChildMouseLeave) {\n      return this.props.onChildMouseLeave(...args);\n    }\n    return undefined;\n  };\n\n  _setViewSize = () => {\n    if (!this.mounted_) return;\n    if (isFullScreen()) {\n      this.geoService_.setViewSize(window.innerWidth, window.innerHeight);\n    } else {\n      const mapDom = ReactDOM.findDOMNode(this.googleMapDom_);\n      this.geoService_.setViewSize(mapDom.clientWidth, mapDom.clientHeight);\n    }\n    this._onBoundsChanged();\n  };\n\n  _onWindowResize = () => {\n    this.resetSizeOnIdle_ = true;\n  };\n\n  _onMapMouseMove = (e) => {\n    if (!this.mouseInMap_) return;\n\n    const currTime = new Date().getTime();\n    const K_RECALC_CLIENT_RECT_MS = 50;\n\n    if (currTime - this.mouseMoveTime_ > K_RECALC_CLIENT_RECT_MS) {\n      this.boundingRect_ = e.currentTarget.getBoundingClientRect();\n    }\n    this.mouseMoveTime_ = currTime;\n\n    const mousePosX = e.clientX - this.boundingRect_.left;\n    const mousePosY = e.clientY - this.boundingRect_.top;\n\n    if (!this.mouse_) {\n      this.mouse_ = { x: 0, y: 0, lat: 0, lng: 0 };\n    }\n\n    this.mouse_.x = mousePosX;\n    this.mouse_.y = mousePosY;\n\n    const latLng = this.geoService_.fromContainerPixelToLatLng(this.mouse_);\n    this.mouse_.lat = latLng.lat;\n    this.mouse_.lng = latLng.lng;\n\n    this._onChildMouseMove();\n\n    if (currTime - this.dragTime_ < K_IDLE_TIMEOUT) {\n      this.fireMouseEventOnIdle_ = true;\n    } else {\n      this.markersDispatcher_.emit('kON_MOUSE_POSITION_CHANGE');\n      this.fireMouseEventOnIdle_ = false;\n    }\n  };\n\n  // K_IDLE_CLICK_TIMEOUT - looks like 300 is enough\n  _onClick = (...args) =>\n    this.props.onClick &&\n    !this.childMouseDownArgs_ &&\n    new Date().getTime() - this.childMouseUpTime_ > K_IDLE_CLICK_TIMEOUT &&\n    this.dragTime_ === 0 &&\n    this.props.onClick(...args);\n\n  _onMapClick = (event) => {\n    if (this.markersDispatcher_) {\n      // support touch events and recalculate mouse position on click\n      this._onMapMouseMove(event);\n      const currTime = new Date().getTime();\n      if (currTime - this.dragTime_ > K_IDLE_TIMEOUT) {\n        if (this.mouse_) {\n          this._onClick({\n            ...this.mouse_,\n            event,\n          });\n        }\n\n        this.markersDispatcher_.emit('kON_CLICK', event);\n      }\n    }\n  };\n\n  // gmap can't prevent map drag if mousedown event already occured\n  // the only workaround I find is prevent mousedown native browser event\n  _onMapMouseDownNative = (event) => {\n    if (!this.mouseInMap_) return;\n\n    this._onMapMouseDown(event);\n  };\n\n  _onMapMouseDown = (event) => {\n    if (this.markersDispatcher_) {\n      const currTime = new Date().getTime();\n      if (currTime - this.dragTime_ > K_IDLE_TIMEOUT) {\n        // Hovered marker detected at mouse move could be deleted at mouse down time\n        // so it will be good to force hovered marker recalculation\n        this._onMapMouseMove(event);\n        this.markersDispatcher_.emit('kON_MDOWN', event);\n      }\n    }\n  };\n\n  _onMapMouseDownCapture = () => {\n    if (detectBrowser().isChrome) {\n      // to fix strange zoom in chrome\n      this.zoomControlClickTime_ = new Date().getTime();\n    }\n  };\n\n  _onKeyDownCapture = () => {\n    if (detectBrowser().isChrome) {\n      this.zoomControlClickTime_ = new Date().getTime();\n    }\n  };\n\n  _isCenterDefined = (center) =>\n    center &&\n    ((isPlainObject(center) && isNumber(center.lat) && isNumber(center.lng)) ||\n      (center.length === 2 && isNumber(center[0]) && isNumber(center[1])));\n\n  _onBoundsChanged = (map, maps, callExtBoundsChange) => {\n    if (map) {\n      const gmC = map.getCenter();\n      this.geoService_.setView([gmC.lat(), gmC.lng()], map.getZoom(), 0);\n    }\n\n    if (\n      (this.props.onChange || this.props.onBoundsChange) &&\n      this.geoService_.canProject()\n    ) {\n      const zoom = this.geoService_.getZoom();\n      const bounds = this.geoService_.getBounds();\n      const centerLatLng = this.geoService_.getCenter();\n\n      if (!isArraysEqualEps(bounds, this.prevBounds_, kEPS)) {\n        if (callExtBoundsChange !== false) {\n          const marginBounds = this.geoService_.getBounds(this.props.margin);\n          if (this.props.onBoundsChange) {\n            this.props.onBoundsChange(\n              this.centerIsObject_\n                ? { ...centerLatLng }\n                : [centerLatLng.lat, centerLatLng.lng],\n              zoom,\n              bounds,\n              marginBounds\n            );\n          }\n\n          if (this.props.onChange) {\n            this.props.onChange({\n              center: { ...centerLatLng },\n              zoom,\n              bounds: {\n                nw: {\n                  lat: bounds[0],\n                  lng: bounds[1],\n                },\n                se: {\n                  lat: bounds[2],\n                  lng: bounds[3],\n                },\n                sw: {\n                  lat: bounds[4],\n                  lng: bounds[5],\n                },\n                ne: {\n                  lat: bounds[6],\n                  lng: bounds[7],\n                },\n              },\n              marginBounds: {\n                nw: {\n                  lat: marginBounds[0],\n                  lng: marginBounds[1],\n                },\n                se: {\n                  lat: marginBounds[2],\n                  lng: marginBounds[3],\n                },\n                sw: {\n                  lat: marginBounds[4],\n                  lng: marginBounds[5],\n                },\n                ne: {\n                  lat: marginBounds[6],\n                  lng: marginBounds[7],\n                },\n              },\n\n              size: this.geoService_.hasSize()\n                ? {\n                    width: this.geoService_.getWidth(),\n                    height: this.geoService_.getHeight(),\n                  }\n                : {\n                    width: 0,\n                    height: 0,\n                  },\n            });\n          }\n\n          this.prevBounds_ = bounds;\n        }\n      }\n    }\n  };\n\n  _registerChild = (ref) => {\n    this.googleMapDom_ = ref;\n  };\n\n  render() {\n    const overlay = this.state.overlay;\n    const mapMarkerPrerender = !overlay ? (\n      <GoogleMapMarkersPrerender\n        experimental={this.props.experimental}\n        onChildClick={this._onChildClick}\n        onChildMouseDown={this._onChildMouseDown}\n        onChildMouseEnter={this._onChildMouseEnter}\n        onChildMouseLeave={this._onChildMouseLeave}\n        geoService={this.geoService_}\n        insideMapPanes={false}\n        distanceToMouse={this.props.distanceToMouse}\n        getHoverDistance={this._getHoverDistance}\n        dispatcher={this.markersDispatcher_}\n      />\n    ) : null;\n\n    return (\n      <div\n        style={this.props.style}\n        onMouseMove={this._onMapMouseMove}\n        onMouseDownCapture={this._onMapMouseDownCapture}\n        onClick={this._onMapClick}\n      >\n        <GoogleMapMap registerChild={this._registerChild} />\n        {IS_REACT_16 && overlay && createPortal(this._renderPortal(), overlay)}\n\n        {/* render markers before map load done */}\n        {mapMarkerPrerender}\n      </div>\n    );\n  }\n}\n\nexport default GoogleMap;\n","export const generateHeatmap = (instance, { positions }) =>\n  new instance.visualization.HeatmapLayer({\n    data: positions.reduce((acc, { lat, lng, weight = 1 }) => {\n      acc.push({\n        location: new instance.LatLng(lat, lng),\n        weight,\n      });\n      return acc;\n    }, []),\n  });\n\nexport const optionsHeatmap = (instance, { options = {} }) =>\n  Object.keys(options).map((option) => instance.set(option, options[option]));\n","export default function isArraysEqualEps(arrayA, arrayB, eps) {\n  if (arrayA && arrayB) {\n    for (let i = 0; i !== arrayA.length; ++i) {\n      if (Math.abs(arrayA[i] - arrayB[i]) > eps) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n","import log2 from '../utils/log2';\n\nconst GOOGLE_TILE_SIZE = 256;\n\nfunction latLng2World({ lat, lng }) {\n  const sin = Math.sin((lat * Math.PI) / 180);\n  const x = lng / 360 + 0.5;\n  let y = 0.5 - (0.25 * Math.log((1 + sin) / (1 - sin))) / Math.PI;\n\n  y = y < 0 // eslint-disable-line\n      ? 0\n      : y > 1\n      ? 1\n      : y;\n  return { x, y };\n}\n\nfunction world2LatLng({ x, y }) {\n  const n = Math.PI - 2 * Math.PI * y;\n\n  // TODO test that this is faster\n  // 360 * Math.atan(Math.exp((180 - y * 360) * Math.PI / 180)) / Math.PI - 90;\n  return {\n    lat: (180 / Math.PI) * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n))),\n    lng: x * 360 - 180,\n  };\n}\n\n// Thank you wiki https://en.wikipedia.org/wiki/Geographic_coordinate_system\nfunction latLng2MetersPerDegree({ lat }) {\n  const phi = (lat * Math.PI) / 180;\n  const metersPerLatDegree =\n    111132.92 -\n    559.82 * Math.cos(2 * phi) +\n    1.175 * Math.cos(4 * phi) -\n    0.0023 * Math.cos(6 * phi);\n  const metersPerLngDegree =\n    111412.84 * Math.cos(phi) -\n    93.5 * Math.cos(3 * phi) +\n    0.118 * Math.cos(5 * phi);\n  return { metersPerLatDegree, metersPerLngDegree };\n}\n\nfunction meters2LatLngBounds(meters, { lat, lng }) {\n  const { metersPerLatDegree, metersPerLngDegree } = latLng2MetersPerDegree({\n    lat,\n  });\n\n  const latDelta = (0.5 * meters) / metersPerLatDegree;\n  const lngDelta = (0.5 * meters) / metersPerLngDegree;\n\n  return {\n    nw: {\n      lat: lat - latDelta,\n      lng: lng - lngDelta,\n    },\n    se: {\n      lat: lat + latDelta,\n      lng: lng + lngDelta,\n    },\n  };\n}\n\nfunction meters2WorldSize(meters, { lat, lng }) {\n  const { nw, se } = meters2LatLngBounds(meters, { lat, lng });\n  const nwWorld = latLng2World(nw);\n  const seWorld = latLng2World(se);\n  const w = Math.abs(seWorld.x - nwWorld.x);\n  const h = Math.abs(seWorld.y - nwWorld.y);\n\n  return { w, h };\n}\n\nfunction fitNwSe(nw, se, width, height) {\n  const EPS = 0.000000001;\n  const nwWorld = latLng2World(nw);\n  const seWorld = latLng2World(se);\n  const dx =\n    nwWorld.x < seWorld.x ? seWorld.x - nwWorld.x : 1 - nwWorld.x + seWorld.x;\n  const dy = seWorld.y - nwWorld.y;\n\n  if (dx <= 0 && dy <= 0) {\n    return null;\n  }\n\n  const zoomX = log2(width / GOOGLE_TILE_SIZE / Math.abs(dx));\n  const zoomY = log2(height / GOOGLE_TILE_SIZE / Math.abs(dy));\n  const zoom = Math.floor(EPS + Math.min(zoomX, zoomY));\n\n  // TODO find center just unproject middle world point\n  const middle = {\n    x: nwWorld.x < seWorld.x // eslint-disable-line\n        ? 0.5 * (nwWorld.x + seWorld.x)\n        : nwWorld.x + seWorld.x - 1 > 0\n        ? 0.5 * (nwWorld.x + seWorld.x - 1)\n        : 0.5 * (1 + nwWorld.x + seWorld.x),\n    y: 0.5 * (nwWorld.y + seWorld.y),\n  };\n\n  const scale = Math.pow(2, zoom);\n  const halfW = width / scale / GOOGLE_TILE_SIZE / 2;\n  const halfH = height / scale / GOOGLE_TILE_SIZE / 2;\n\n  const newNW = world2LatLng({\n    x: middle.x - halfW,\n    y: middle.y - halfH,\n  });\n\n  const newSE = world2LatLng({\n    x: middle.x + halfW,\n    y: middle.y + halfH,\n  });\n\n  return {\n    center: world2LatLng(middle),\n    zoom,\n    newBounds: {\n      nw: newNW,\n      se: newSE,\n    },\n  };\n}\n\nexport function convertNeSwToNwSe({ ne, sw }) {\n  return {\n    nw: {\n      lat: ne.lat,\n      lng: sw.lng,\n    },\n    se: {\n      lat: sw.lat,\n      lng: ne.lng,\n    },\n  };\n}\n\nexport function convertNwSeToNeSw({ nw, se }) {\n  return {\n    ne: {\n      lat: nw.lat,\n      lng: se.lng,\n    },\n    sw: {\n      lat: se.lat,\n      lng: nw.lng,\n    },\n  };\n}\n\nexport function fitBounds({ nw, se, ne, sw }, { width, height }) {\n  let fittedData;\n\n  if (nw && se) {\n    fittedData = fitNwSe(nw, se, width, height);\n  } else {\n    const calculatedNwSe = convertNeSwToNwSe({ ne, sw });\n    fittedData = fitNwSe(calculatedNwSe.nw, calculatedNwSe.se, width, height);\n  }\n\n  return {\n    ...fittedData,\n    newBounds: {\n      ...fittedData.newBounds,\n      ...convertNwSeToNeSw(fittedData.newBounds),\n    },\n  };\n}\n\n// -------------------------------------------------------------------\n// Helpers to calc some markers size\n\nexport function meters2ScreenPixels(meters, { lat, lng }, zoom) {\n  const { w, h } = meters2WorldSize(meters, { lat, lng });\n  const scale = Math.pow(2, zoom);\n  const wScreen = w * scale * GOOGLE_TILE_SIZE;\n  const hScreen = h * scale * GOOGLE_TILE_SIZE;\n  return {\n    w: wScreen,\n    h: hScreen,\n  };\n}\n\n// --------------------------------------------------\n// Helper functions for working with svg tiles, (examples coming soon)\n\nexport function tile2LatLng({ x, y }, zoom) {\n  const n = Math.PI - (2 * Math.PI * y) / Math.pow(2, zoom);\n\n  return {\n    lat: (180 / Math.PI) * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n))),\n    lng: (x / Math.pow(2, zoom)) * 360 - 180,\n  };\n}\n\nexport function latLng2Tile({ lat, lng }, zoom) {\n  const worldCoords = latLng2World({ lat, lng });\n  const scale = Math.pow(2, zoom);\n\n  return {\n    x: Math.floor(worldCoords.x * scale),\n    y: Math.floor(worldCoords.y * scale),\n  };\n}\n\nexport function getTilesIds({ from, to }, zoom) {\n  const scale = Math.pow(2, zoom);\n\n  const ids = [];\n  for (let x = from.x; x !== (to.x + 1) % scale; x = (x + 1) % scale) {\n    for (let y = from.y; y !== (to.y + 1) % scale; y = (y + 1) % scale) {\n      ids.push([zoom, x, y]);\n    }\n  }\n\n  return ids;\n}\n"]},"metadata":{},"sourceType":"module"}